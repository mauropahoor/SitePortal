"use strict";var vN=Object.defineProperty,EN=Object.defineProperties,wN=Object.getOwnPropertyDescriptors,xM=Object.getOwnPropertySymbols,IN=Object.prototype.hasOwnProperty,DN=Object.prototype.propertyIsEnumerable,RM=(nt,be,O)=>be in nt?vN(nt,be,{enumerable:!0,configurable:!0,writable:!0,value:O}):nt[be]=O,NM=(nt,be)=>{for(var O in be||(be={}))IN.call(be,O)&&RM(nt,O,be[O]);if(xM)for(var O of xM(be))DN.call(be,O)&&RM(nt,O,be[O]);return nt},OM=(nt,be)=>EN(nt,wN(be));(self.webpackChunkSitePortal=self.webpackChunkSitePortal||[]).push([[179],{2011:(nt,be,O)=>{O.d(be,{Dh:()=>ae,GT:()=>ge,cc:()=>Ae,hO:()=>We,on:()=>$,pX:()=>oe,xv:()=>me});var h=O(5e3),L=O(127),R=O(5813);nt=O.hmd(nt);const se=["ngOnDestroy"],oe=(Ce,qe,Ge,Se={})=>new Proxy(Ce,{get:(Me,Ie)=>Ge.runOutsideAngular(()=>{var Ze;if(Ce[Ie])return(null===(Ze=null==Se?void 0:Se.spy)||void 0===Ze?void 0:Ze.get)&&Se.spy.get(Ie,Ce[Ie]),Ce[Ie];if(se.indexOf(Ie)>-1)return()=>{};const X=qe.toPromise().then(ce=>{const De=ce&&ce[Ie];return"function"==typeof De?De.bind(ce):De&&De.then?De.then(Z=>Ge.run(()=>Z)):Ge.run(()=>De)});return new Proxy(()=>{},{get:(ce,De)=>X[De],apply:(ce,De,Z)=>X.then(ee=>{var ie;const _e=ee&&ee(...Z);return(null===(ie=null==Se?void 0:Se.spy)||void 0===ie?void 0:ie.apply)&&Se.spy.apply(Ie,Z,_e),_e})})})}),ge=(Ce,qe)=>{qe.forEach(Ge=>{Object.getOwnPropertyNames(Ge.prototype||Ge).forEach(Se=>{Object.defineProperty(Ce.prototype,Se,Object.getOwnPropertyDescriptor(Ge.prototype||Ge,Se))})})};class de{constructor(qe){return qe}}const ae=new h.OlP("angularfire2.app.options"),me=new h.OlP("angularfire2.app.name");function $(Ce,qe,Ge){const Me="object"==typeof Ge&&Ge||{};Me.name=Me.name||"string"==typeof Ge&&Ge||"[DEFAULT]";const Ze=L.Z.apps.filter(X=>X&&X.name===Me.name)[0]||qe.runOutsideAngular(()=>L.Z.initializeApp(Ce,Me));try{JSON.stringify(Ce)!==JSON.stringify(Ze.options)&&U("error",`${Ze.name} Firebase App already initialized with different options${nt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(X){}return new de(Ze)}const U=(Ce,...qe)=>{(0,h.X6Q)()&&"undefined"!=typeof console&&console[Ce](...qe)},re={provide:de,useFactory:$,deps:[ae,h.R0b,[new h.FiY,me]]};let We=(()=>{class Ce{constructor(Ge){L.Z.registerVersion("angularfire",R.q4.full,"core"),L.Z.registerVersion("angularfire",R.q4.full,"app-compat"),L.Z.registerVersion("angular",h.q4F.full,Ge.toString())}static initializeApp(Ge,Se){return{ngModule:Ce,providers:[{provide:ae,useValue:Ge},{provide:me,useValue:Se}]}}}return Ce.\u0275fac=function(Ge){return new(Ge||Ce)(h.LFG(h.Lbi))},Ce.\u0275mod=h.oAB({type:Ce}),Ce.\u0275inj=h.cJS({providers:[re]}),Ce})();function Ae(Ce,qe,Ge,Se,Me){const[,Ie,Ze]=globalThis.\u0275AngularfireInstanceCache.find(X=>X[0]===Ce)||[];if(Ie)return function ke(Ce,qe){try{return Ce.toString()===qe.toString()}catch(Ge){return Ce===qe}}(Me,Ze)||(pe("error",`${qe} was already initialized on the ${Ge} Firebase App with different settings.${je?" You may need to reload as Firebase is not HMR aware.":""}`),pe("warn",{is:Me,was:Ze})),Ie;{const X=Se();return globalThis.\u0275AngularfireInstanceCache.push([Ce,X,Me]),X}}const je=!!nt.hot,pe=(Ce,...qe)=>{(0,h.X6Q)()&&"undefined"!=typeof console&&console[Ce](...qe)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(nt,be,O)=>{O.d(be,{q4:()=>Vo,iC:()=>ss,HU:()=>ru,vb:()=>Rc,JM:()=>xc,u3:()=>el});var h=O(5e3),L=O(5867),R=O(5861),se=O(9681),oe=O(2090),ge=O(4859),de=O(1877),ae=O(8766);const me="@firebase/installations",$="0.5.9",re=`w:${$}`,We="FIS_v2",qe=new oe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ge(D){return D instanceof oe.ZR&&D.code.includes("request-failed")}function Se({projectId:D}){return`https://firebaseinstallations.googleapis.com/v1/projects/${D}/installations`}function Me(D){return{token:D.token,requestStatus:2,expiresIn:ee(D.expiresIn),creationTime:Date.now()}}function Ie(D,b){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,R.Z)(function*(D,b){const F=(yield b.json()).error;return qe.create("request-failed",{requestName:D,serverCode:F.code,serverMessage:F.message,serverStatus:F.status})})).apply(this,arguments)}function X({apiKey:D}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D})}function ce(D,{refreshToken:b}){const M=X(D);return M.append("Authorization",function ie(D){return`${We} ${D}`}(b)),M}function De(D){return Z.apply(this,arguments)}function Z(){return(Z=(0,R.Z)(function*(D){const b=yield D();return b.status>=500&&b.status<600?D():b})).apply(this,arguments)}function ee(D){return Number(D.replace("s","000"))}function _e(D,b){return le.apply(this,arguments)}function le(){return(le=(0,R.Z)(function*({appConfig:D,heartbeatServiceProvider:b},{fid:M}){const F=Se(D),K=X(D),Y=b.getImmediate({optional:!0});if(Y){const bt=yield Y.getHeartbeatsHeader();bt&&K.append("x-firebase-client",bt)}const ze={method:"POST",headers:K,body:JSON.stringify({fid:M,authVersion:We,appId:D.appId,sdkVersion:re})},pt=yield De(()=>fetch(F,ze));if(pt.ok){const bt=yield pt.json();return{fid:bt.fid||M,registrationStatus:2,refreshToken:bt.refreshToken,authToken:Me(bt.authToken)}}throw yield Ie("Create Installation",pt)})).apply(this,arguments)}function Le(D){return new Promise(b=>{setTimeout(b,D)})}const Wt=/^[cdef][\w-]{21}$/;function Ke(){try{const D=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(D),D[0]=112+D[0]%16;const M=function on(D){return function ct(D){return btoa(String.fromCharCode(...D)).replace(/\+/g,"-").replace(/\//g,"_")}(D).substr(0,22)}(D);return Wt.test(M)?M:""}catch(D){return""}}function Sn(D){return`${D.appName}!${D.appId}`}const cn=new Map;function Xt(D,b){const M=Sn(D);vn(M,b),function Ci(D,b){const M=function In(){return!vr&&"BroadcastChannel"in self&&(vr=new BroadcastChannel("[Firebase] FID Change"),vr.onmessage=D=>{vn(D.data.key,D.data.fid)}),vr}();M&&M.postMessage({key:D,fid:b}),function Ti(){0===cn.size&&vr&&(vr.close(),vr=null)}()}(M,b)}function vn(D,b){const M=cn.get(D);if(M)for(const F of M)F(b)}let vr=null;const Bn="firebase-installations-store";let Ai=null;function ht(){return Ai||(Ai=(0,ae.X3)("firebase-installations-database",1,{upgrade:(D,b)=>{0===b&&D.createObjectStore(Bn)}})),Ai}function Rr(D,b){return gn.apply(this,arguments)}function gn(){return(gn=(0,R.Z)(function*(D,b){const M=Sn(D),K=(yield ht()).transaction(Bn,"readwrite"),Y=K.objectStore(Bn),Fe=yield Y.get(M);return yield Y.put(b,M),yield K.done,(!Fe||Fe.fid!==b.fid)&&Xt(D,b.fid),b})).apply(this,arguments)}function Kt(D){return Er.apply(this,arguments)}function Er(){return(Er=(0,R.Z)(function*(D){const b=Sn(D),F=(yield ht()).transaction(Bn,"readwrite");yield F.objectStore(Bn).delete(b),yield F.done})).apply(this,arguments)}function tr(D,b){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,R.Z)(function*(D,b){const M=Sn(D),K=(yield ht()).transaction(Bn,"readwrite"),Y=K.objectStore(Bn),Fe=yield Y.get(M),ze=b(Fe);return void 0===ze?yield Y.delete(M):yield Y.put(ze,M),yield K.done,ze&&(!Fe||Fe.fid!==ze.fid)&&Xt(D,ze.fid),ze})).apply(this,arguments)}function En(D){return nr.apply(this,arguments)}function nr(){return(nr=(0,R.Z)(function*(D){let b;const M=yield tr(D.appConfig,F=>{const K=Es(F),Y=Gt(D,K);return b=Y.registrationPromise,Y.installationEntry});return""===M.fid?{installationEntry:yield b}:{installationEntry:M,registrationPromise:b}})).apply(this,arguments)}function Es(D){return Si(D||{fid:Ke(),registrationStatus:0})}function Gt(D,b){if(0===b.registrationStatus){if(!navigator.onLine)return{installationEntry:b,registrationPromise:Promise.reject(qe.create("app-offline"))};const M={fid:b.fid,registrationStatus:1,registrationTime:Date.now()},F=function lt(D,b){return rt.apply(this,arguments)}(D,M);return{installationEntry:M,registrationPromise:F}}return 1===b.registrationStatus?{installationEntry:b,registrationPromise:ri(D)}:{installationEntry:b}}function rt(){return(rt=(0,R.Z)(function*(D,b){try{const M=yield _e(D,b);return Rr(D.appConfig,M)}catch(M){throw Ge(M)&&409===M.customData.serverCode?yield Kt(D.appConfig):yield Rr(D.appConfig,{fid:b.fid,registrationStatus:0}),M}})).apply(this,arguments)}function ri(D){return ii.apply(this,arguments)}function ii(){return(ii=(0,R.Z)(function*(D){let b=yield Bt(D.appConfig);for(;1===b.registrationStatus;)yield Le(100),b=yield Bt(D.appConfig);if(0===b.registrationStatus){const{installationEntry:M,registrationPromise:F}=yield En(D);return F||M}return b})).apply(this,arguments)}function Bt(D){return tr(D,b=>{if(!b)throw qe.create("installation-not-found");return Si(b)})}function Si(D){return function Mn(D){return 1===D.registrationStatus&&D.registrationTime+1e4<Date.now()}(D)?{fid:D.fid,registrationStatus:0}:D}function an(D,b){return V.apply(this,arguments)}function V(){return(V=(0,R.Z)(function*({appConfig:D,heartbeatServiceProvider:b},M){const F=H(D,M),K=ce(D,M),Y=b.getImmediate({optional:!0});if(Y){const bt=yield Y.getHeartbeatsHeader();bt&&K.append("x-firebase-client",bt)}const ze={method:"POST",headers:K,body:JSON.stringify({installation:{sdkVersion:re,appId:D.appId}})},pt=yield De(()=>fetch(F,ze));if(pt.ok)return Me(yield pt.json());throw yield Ie("Generate Auth Token",pt)})).apply(this,arguments)}function H(D,{fid:b}){return`${Se(D)}/${b}/authTokens:generate`}function z(D){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,R.Z)(function*(D,b=!1){let M;const F=yield tr(D.appConfig,Y=>{if(!Mt(Y))throw qe.create("not-registered");const Fe=Y.authToken;if(!b&&nn(Fe))return Y;if(1===Fe.requestStatus)return M=B(D,b),Y;{if(!navigator.onLine)throw qe.create("app-offline");const ze=jn(Y);return M=et(D,ze),ze}});return M?yield M:F.authToken})).apply(this,arguments)}function B(D,b){return Q.apply(this,arguments)}function Q(){return(Q=(0,R.Z)(function*(D,b){let M=yield Oe(D.appConfig);for(;1===M.authToken.requestStatus;)yield Le(100),M=yield Oe(D.appConfig);const F=M.authToken;return 0===F.requestStatus?z(D,b):F})).apply(this,arguments)}function Oe(D){return tr(D,b=>{if(!Mt(b))throw qe.create("not-registered");return function ue(D){return 1===D.requestStatus&&D.requestTime+1e4<Date.now()}(b.authToken)?Object.assign(Object.assign({},b),{authToken:{requestStatus:0}}):b})}function et(D,b){return dt.apply(this,arguments)}function dt(){return(dt=(0,R.Z)(function*(D,b){try{const M=yield an(D,b),F=Object.assign(Object.assign({},b),{authToken:M});return yield Rr(D.appConfig,F),M}catch(M){if(!Ge(M)||401!==M.customData.serverCode&&404!==M.customData.serverCode){const F=Object.assign(Object.assign({},b),{authToken:{requestStatus:0}});yield Rr(D.appConfig,F)}else yield Kt(D.appConfig);throw M}})).apply(this,arguments)}function Mt(D){return void 0!==D&&2===D.registrationStatus}function nn(D){return 2===D.requestStatus&&!function vt(D){const b=Date.now();return b<D.creationTime||D.creationTime+D.expiresIn<b+36e5}(D)}function jn(D){const b={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},D),{authToken:b})}function G(){return(G=(0,R.Z)(function*(D){const b=D,{installationEntry:M,registrationPromise:F}=yield En(b);return F?F.catch(console.error):z(b).catch(console.error),M.fid})).apply(this,arguments)}function Ye(){return(Ye=(0,R.Z)(function*(D,b=!1){const M=D;return yield at(M),(yield z(M,b)).token})).apply(this,arguments)}function at(D){return St.apply(this,arguments)}function St(){return(St=(0,R.Z)(function*(D){const{registrationPromise:b}=yield En(D);b&&(yield b)})).apply(this,arguments)}function Xo(D){return qe.create("missing-app-config-values",{valueName:D})}const qr="installations",Ot=D=>{const b=D.getProvider("app").getImmediate(),M=function rr(D){if(!D||!D.options)throw Xo("App Configuration");if(!D.name)throw Xo("App Name");const b=["projectId","apiKey","appId"];for(const M of b)if(!D.options[M])throw Xo(M);return{appName:D.name,projectId:D.options.projectId,apiKey:D.options.apiKey,appId:D.options.appId}}(b);return{app:b,appConfig:M,heartbeatServiceProvider:(0,se._getProvider)(b,"heartbeat"),_delete:()=>Promise.resolve()}},hn=D=>{const b=D.getProvider("app").getImmediate(),M=(0,se._getProvider)(b,qr).getImmediate();return{getId:()=>function q(D){return G.apply(this,arguments)}(M),getToken:K=>function Te(D){return Ye.apply(this,arguments)}(M,K)}};(function Or(){(0,se._registerComponent)(new ge.wA(qr,Ot,"PUBLIC")),(0,se._registerComponent)(new ge.wA("installations-internal",hn,"PRIVATE"))})(),(0,se.registerVersion)(me,$),(0,se.registerVersion)(me,$,"esm2017");const Wi="@firebase/remote-config",xn=new oe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class tc{constructor(b,M,F,K){this.client=b,this.storage=M,this.storageCache=F,this.logger=K}isCachedDataFresh(b,M){if(!M)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const F=Date.now()-M,K=F<=b;return this.logger.debug(`Config fetch cache check. Cache age millis: ${F}. Cache max age millis (minimumFetchIntervalMillis setting): ${b}. Is cache hit: ${K}.`),K}fetch(b){var M=this;return(0,R.Z)(function*(){const[F,K]=yield Promise.all([M.storage.getLastSuccessfulFetchTimestampMillis(),M.storage.getLastSuccessfulFetchResponse()]);if(K&&M.isCachedDataFresh(b.cacheMaxAgeMillis,F))return K;b.eTag=K&&K.eTag;const Y=yield M.client.fetch(b),Fe=[M.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Y.status&&Fe.push(M.storage.setLastSuccessfulFetchResponse(Y)),yield Promise.all(Fe),Y})()}}function Ba(D=navigator){return D.languages&&D.languages[0]||D.language}class $n{constructor(b,M,F,K,Y,Fe){this.firebaseInstallations=b,this.sdkVersion=M,this.namespace=F,this.projectId=K,this.apiKey=Y,this.appId=Fe}fetch(b){var M=this;return(0,R.Z)(function*(){const[F,K]=yield Promise.all([M.firebaseInstallations.getId(),M.firebaseInstallations.getToken()]),Fe=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${M.projectId}/namespaces/${M.namespace}:fetch?key=${M.apiKey}`,ze={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":b.eTag||"*"},pt={sdk_version:M.sdkVersion,app_instance_id:F,app_instance_id_token:K,app_id:M.appId,language_code:Ba()},bt={method:"POST",headers:ze,body:JSON.stringify(pt)},$t=fetch(Fe,bt),Et=new Promise((ks,Qr)=>{b.signal.addEventListener(()=>{const jo=new Error("The operation was aborted.");jo.name="AbortError",Qr(jo)})});let Vr;try{yield Promise.race([$t,Et]),Vr=yield $t}catch(ks){let Qr="fetch-client-network";throw"AbortError"===ks.name&&(Qr="fetch-timeout"),xn.create(Qr,{originalErrorMessage:ks.message})}let Tn=Vr.status;const Ui=Vr.headers.get("ETag")||void 0;let Ps,Ur;if(200===Vr.status){let ks;try{ks=yield Vr.json()}catch(Qr){throw xn.create("fetch-client-parse",{originalErrorMessage:Qr.message})}Ps=ks.entries,Ur=ks.state}if("INSTANCE_STATE_UNSPECIFIED"===Ur?Tn=500:"NO_CHANGE"===Ur?Tn=304:("NO_TEMPLATE"===Ur||"EMPTY_CONFIG"===Ur)&&(Ps={}),304!==Tn&&200!==Tn)throw xn.create("fetch-status",{httpStatus:Tn});return{status:Tn,eTag:Ui,config:Ps}})()}}class Ki{constructor(b,M){this.client=b,this.storage=M}fetch(b){var M=this;return(0,R.Z)(function*(){const F=(yield M.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return M.attemptFetch(b,F)})()}attemptFetch(b,{throttleEndTimeMillis:M,backoffCount:F}){var K=this;return(0,R.Z)(function*(){yield function nc(D,b){return new Promise((M,F)=>{const K=Math.max(b-Date.now(),0),Y=setTimeout(M,K);D.addEventListener(()=>{clearTimeout(Y),F(xn.create("fetch-throttle",{throttleEndTimeMillis:b}))})})}(b.signal,M);try{const Y=yield K.client.fetch(b);return yield K.storage.deleteThrottleMetadata(),Y}catch(Y){if(!function Hf(D){if(!(D instanceof oe.ZR&&D.customData))return!1;const b=Number(D.customData.httpStatus);return 429===b||500===b||503===b||504===b}(Y))throw Y;const Fe={throttleEndTimeMillis:Date.now()+(0,oe.$s)(F),backoffCount:F+1};return yield K.storage.setThrottleMetadata(Fe),K.attemptFetch(b,Fe)}})()}}class zf{constructor(b,M,F,K,Y){this.app=b,this._client=M,this._storageCache=F,this._storage=K,this._logger=Y,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ea(D,b){const M=D.target.error||void 0;return xn.create(b,{originalErrorMessage:M&&M.message})}const Eo="app_namespace_store";class sc{constructor(b,M,F,K=function Wf(){return new Promise((D,b)=>{try{const M=indexedDB.open("firebase_remote_config",1);M.onerror=F=>{b(ea(F,"storage-open"))},M.onsuccess=F=>{D(F.target.result)},M.onupgradeneeded=F=>{0===F.oldVersion&&F.target.result.createObjectStore(Eo,{keyPath:"compositeKey"})}}catch(M){b(xn.create("storage-open",{originalErrorMessage:M}))}})}()){this.appId=b,this.appName=M,this.namespace=F,this.openDbPromise=K}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(b){return this.set("last_fetch_status",b)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(b){return this.set("last_successful_fetch_timestamp_millis",b)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(b){return this.set("last_successful_fetch_response",b)}getActiveConfig(){return this.get("active_config")}setActiveConfig(b){return this.set("active_config",b)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(b){return this.set("active_config_etag",b)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(b){return this.set("throttle_metadata",b)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(b){var M=this;return(0,R.Z)(function*(){const F=yield M.openDbPromise;return new Promise((K,Y)=>{const ze=F.transaction([Eo],"readonly").objectStore(Eo),pt=M.createCompositeKey(b);try{const bt=ze.get(pt);bt.onerror=$t=>{Y(ea($t,"storage-get"))},bt.onsuccess=$t=>{const Et=$t.target.result;K(Et?Et.value:void 0)}}catch(bt){Y(xn.create("storage-get",{originalErrorMessage:bt&&bt.message}))}})})()}set(b,M){var F=this;return(0,R.Z)(function*(){const K=yield F.openDbPromise;return new Promise((Y,Fe)=>{const pt=K.transaction([Eo],"readwrite").objectStore(Eo),bt=F.createCompositeKey(b);try{const $t=pt.put({compositeKey:bt,value:M});$t.onerror=Et=>{Fe(ea(Et,"storage-set"))},$t.onsuccess=()=>{Y()}}catch($t){Fe(xn.create("storage-set",{originalErrorMessage:$t&&$t.message}))}})})()}delete(b){var M=this;return(0,R.Z)(function*(){const F=yield M.openDbPromise;return new Promise((K,Y)=>{const ze=F.transaction([Eo],"readwrite").objectStore(Eo),pt=M.createCompositeKey(b);try{const bt=ze.delete(pt);bt.onerror=$t=>{Y(ea($t,"storage-delete"))},bt.onsuccess=()=>{K()}}catch(bt){Y(xn.create("storage-delete",{originalErrorMessage:bt&&bt.message}))}})})()}createCompositeKey(b){return[this.appId,this.appName,this.namespace,b].join()}}class wo{constructor(b){this.storage=b}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var b=this;return(0,R.Z)(function*(){const M=b.storage.getLastFetchStatus(),F=b.storage.getLastSuccessfulFetchTimestampMillis(),K=b.storage.getActiveConfig(),Y=yield M;Y&&(b.lastFetchStatus=Y);const Fe=yield F;Fe&&(b.lastSuccessfulFetchTimestampMillis=Fe);const ze=yield K;ze&&(b.activeConfig=ze)})()}setLastFetchStatus(b){return this.lastFetchStatus=b,this.storage.setLastFetchStatus(b)}setLastSuccessfulFetchTimestampMillis(b){return this.lastSuccessfulFetchTimestampMillis=b,this.storage.setLastSuccessfulFetchTimestampMillis(b)}setActiveConfig(b){return this.activeConfig=b,this.storage.setActiveConfig(b)}}function lm(){return ta.apply(this,arguments)}function ta(){return(ta=(0,R.Z)(function*(){if(!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch(D){return!1}})).apply(this,arguments)}!function Zf(){(0,se._registerComponent)(new ge.wA("remote-config",function D(b,{instanceIdentifier:M}){const F=b.getProvider("app").getImmediate(),K=b.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw xn.create("registration-window");if(!(0,oe.hl)())throw xn.create("indexed-db-unavailable");const{projectId:Y,apiKey:Fe,appId:ze}=F.options;if(!Y)throw xn.create("registration-project-id");if(!Fe)throw xn.create("registration-api-key");if(!ze)throw xn.create("registration-app-id");const pt=new sc(ze,F.name,M=M||"firebase"),bt=new wo(pt),$t=new de.Yd(Wi);$t.logLevel=de.in.ERROR;const Et=new $n(K,se.SDK_VERSION,M,Y,Fe,ze),Vr=new Ki(Et,pt),Tn=new tc(Vr,pt,bt,$t),Ui=new zf(F,Tn,bt,pt,$t);return function un(D){const b=(0,oe.m9)(D);b._initializePromise||(b._initializePromise=b._storageCache.loadFromStorage().then(()=>{b._isInitializationComplete=!0}))}(Ui),Ui},"PUBLIC").setMultipleInstances(!0)),(0,se.registerVersion)(Wi,"0.3.8"),(0,se.registerVersion)(Wi,"0.3.8","esm2017")}();const Ds="/firebase-messaging-sw.js",ai="/firebase-cloud-messaging-push-scope",Io="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ra="google.c.a.c_id",zd="google.c.a.c_l",Kf="google.c.a.ts",zs="google.c.a.e";var Qi=(()=>{return(D=Qi||(Qi={})).PUSH_RECEIVED="push-received",D.NOTIFICATION_CLICKED="notification-clicked",Qi;var D})();function gi(D){const b=new Uint8Array(D);return btoa(String.fromCharCode(...b)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ac(D){const M=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),F=atob(M),K=new Uint8Array(F.length);for(let Y=0;Y<F.length;++Y)K[Y]=F.charCodeAt(Y);return K}const Ir="fcm_token_details_db",uc="fcm_token_object_Store";function lc(D){return ja.apply(this,arguments)}function ja(){return ja=(0,R.Z)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Y=>Y.name).includes(Ir))return null;let b=null;return(yield(0,ae.X3)(Ir,5,{upgrade:(F=(0,R.Z)(function*(K,Y,Fe,ze){var pt;if(Y<2||!K.objectStoreNames.contains(uc))return;const bt=ze.objectStore(uc),$t=yield bt.index("fcmSenderId").get(D);if(yield bt.clear(),$t)if(2===Y){const Et=$t;if(!Et.auth||!Et.p256dh||!Et.endpoint)return;b={token:Et.fcmToken,createTime:null!==(pt=Et.createTime)&&void 0!==pt?pt:Date.now(),subscriptionOptions:{auth:Et.auth,p256dh:Et.p256dh,endpoint:Et.endpoint,swScope:Et.swScope,vapidKey:"string"==typeof Et.vapidKey?Et.vapidKey:gi(Et.vapidKey)}}}else if(3===Y){const Et=$t;b={token:Et.fcmToken,createTime:Et.createTime,subscriptionOptions:{auth:gi(Et.auth),p256dh:gi(Et.p256dh),endpoint:Et.endpoint,swScope:Et.swScope,vapidKey:gi(Et.vapidKey)}}}else if(4===Y){const Et=$t;b={token:Et.fcmToken,createTime:Et.createTime,subscriptionOptions:{auth:gi(Et.auth),p256dh:gi(Et.p256dh),endpoint:Et.endpoint,swScope:Et.swScope,vapidKey:gi(Et.vapidKey)}}}}),function(Y,Fe,ze,pt){return F.apply(this,arguments)})})).close(),yield(0,ae.Lj)(Ir),yield(0,ae.Lj)("fcm_vapid_details_db"),yield(0,ae.Lj)("undefined"),$a(b)?b:null;var F}),ja.apply(this,arguments)}function $a(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:b}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof b.auth&&b.auth.length>0&&"string"==typeof b.p256dh&&b.p256dh.length>0&&"string"==typeof b.endpoint&&b.endpoint.length>0&&"string"==typeof b.swScope&&b.swScope.length>0&&"string"==typeof b.vapidKey&&b.vapidKey.length>0}const Ji="firebase-messaging-store";let ju=null;function fn(){return ju||(ju=(0,ae.X3)("firebase-messaging-database",1,{upgrade:(D,b)=>{0===b&&D.createObjectStore(Ji)}})),ju}function ia(D){return bs.apply(this,arguments)}function bs(){return(bs=(0,R.Z)(function*(D){const b=ir(D),F=yield(yield fn()).transaction(Ji).objectStore(Ji).get(b);if(F)return F;{const K=yield lc(D.appConfig.senderId);if(K)return yield ln(D,K),K}})).apply(this,arguments)}function ln(D,b){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,R.Z)(function*(D,b){const M=ir(D),K=(yield fn()).transaction(Ji,"readwrite");return yield K.objectStore(Ji).put(b,M),yield K.done,b})).apply(this,arguments)}function sa(D){return qs.apply(this,arguments)}function qs(){return(qs=(0,R.Z)(function*(D){const b=ir(D),F=(yield fn()).transaction(Ji,"readwrite");yield F.objectStore(Ji).delete(b),yield F.done})).apply(this,arguments)}function ir({appConfig:D}){return D.appId}const Nn=new oe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Xi(D,b){return sr.apply(this,arguments)}function sr(){return(sr=(0,R.Z)(function*(D,b){const M=yield Ts(D),F=Ws(b),K={method:"POST",headers:M,body:JSON.stringify(F)};let Y;try{Y=yield(yield fetch(Cs(D.appConfig),K)).json()}catch(Fe){throw Nn.create("token-subscribe-failed",{errorInfo:Fe})}if(Y.error)throw Nn.create("token-subscribe-failed",{errorInfo:Y.error.message});if(!Y.token)throw Nn.create("token-subscribe-no-token");return Y.token})).apply(this,arguments)}function Do(D,b){return xi.apply(this,arguments)}function xi(){return(xi=(0,R.Z)(function*(D,b){const M=yield Ts(D),F=Ws(b.subscriptionOptions),K={method:"PATCH",headers:M,body:JSON.stringify(F)};let Y;try{Y=yield(yield fetch(`${Cs(D.appConfig)}/${b.token}`,K)).json()}catch(Fe){throw Nn.create("token-update-failed",{errorInfo:Fe})}if(Y.error)throw Nn.create("token-update-failed",{errorInfo:Y.error.message});if(!Y.token)throw Nn.create("token-update-no-token");return Y.token})).apply(this,arguments)}function $u(D,b){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,R.Z)(function*(D,b){const F={method:"DELETE",headers:yield Ts(D)};try{const Y=yield(yield fetch(`${Cs(D.appConfig)}/${b}`,F)).json();if(Y.error)throw Nn.create("token-unsubscribe-failed",{errorInfo:Y.error.message})}catch(K){throw Nn.create("token-unsubscribe-failed",{errorInfo:K})}})).apply(this,arguments)}function Cs({projectId:D}){return`https://fcmregistrations.googleapis.com/v1/projects/${D}/registrations`}function Ts(D){return mt.apply(this,arguments)}function mt(){return(mt=(0,R.Z)(function*({appConfig:D,installations:b}){const M=yield b.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${M}`})})).apply(this,arguments)}function Ws({p256dh:D,auth:b,endpoint:M,vapidKey:F}){const K={web:{endpoint:M,auth:b,p256dh:D}};return F!==Io&&(K.web.applicationPubKey=F),K}const qa=6048e5;function cc(D){return oa.apply(this,arguments)}function oa(){return(oa=(0,R.Z)(function*(D){const b=yield Wa(D.swRegistration,D.vapidKey),M={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:b.endpoint,auth:gi(b.getKey("auth")),p256dh:gi(b.getKey("p256dh"))},F=yield ia(D.firebaseDependencies);if(F){if(hc(F.subscriptionOptions,M))return Date.now()>=F.createTime+qa?qd(D,{token:F.token,createTime:Date.now(),subscriptionOptions:M}):F.token;try{yield $u(D.firebaseDependencies,F.token)}catch(K){console.warn(K)}return Re(D.firebaseDependencies,M)}return Re(D.firebaseDependencies,M)})).apply(this,arguments)}function dc(D){return bo.apply(this,arguments)}function bo(){return(bo=(0,R.Z)(function*(D){const b=yield ia(D.firebaseDependencies);b&&(yield $u(D.firebaseDependencies,b.token),yield sa(D.firebaseDependencies));const M=yield D.swRegistration.pushManager.getSubscription();return!M||M.unsubscribe()})).apply(this,arguments)}function qd(D,b){return As.apply(this,arguments)}function As(){return(As=(0,R.Z)(function*(D,b){try{const M=yield Do(D.firebaseDependencies,b),F=Object.assign(Object.assign({},b),{token:M,createTime:Date.now()});return yield ln(D.firebaseDependencies,F),M}catch(M){throw yield dc(D),M}})).apply(this,arguments)}function Re(D,b){return jt.apply(this,arguments)}function jt(){return(jt=(0,R.Z)(function*(D,b){const F={token:yield Xi(D,b),createTime:Date.now(),subscriptionOptions:b};return yield ln(D,F),F.token})).apply(this,arguments)}function Wa(D,b){return mn.apply(this,arguments)}function mn(){return(mn=(0,R.Z)(function*(D,b){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ac(b)})})).apply(this,arguments)}function hc(D,b){return b.vapidKey===D.vapidKey&&b.endpoint===D.endpoint&&b.auth===D.auth&&b.p256dh===D.p256dh}function es(D){const b={from:D.from,collapseKey:D.collapse_key,messageId:D.fcmMessageId};return function Ri(D,b){if(!b.notification)return;D.notification={};const M=b.notification.title;M&&(D.notification.title=M);const F=b.notification.body;F&&(D.notification.body=F);const K=b.notification.image;K&&(D.notification.image=K)}(b,D),function Hu(D,b){!b.data||(D.data=b.data)}(b,D),function aa(D,b){if(!b.fcmOptions)return;D.fcmOptions={};const M=b.fcmOptions.link;M&&(D.fcmOptions.link=M);const F=b.fcmOptions.analytics_label;F&&(D.fcmOptions.analyticsLabel=F)}(b,D),b}function Wd(D){return"object"==typeof D&&!!D&&ra in D}function fc(D,b){const M=[];for(let F=0;F<D.length;F++)M.push(D.charAt(F)),F<b.length&&M.push(b.charAt(F));return M.join("")}function Zs(D){return Nn.create("missing-app-config-values",{valueName:D})}fc("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),fc("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class or{constructor(b,M,F){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const K=function pc(D){if(!D||!D.options)throw Zs("App Configuration Object");if(!D.name)throw Zs("App Name");const b=["projectId","apiKey","appId","messagingSenderId"],{options:M}=D;for(const F of b)if(!M[F])throw Zs(F);return{appName:D.name,projectId:M.projectId,apiKey:M.apiKey,appId:M.appId,senderId:M.messagingSenderId}}(b);this.firebaseDependencies={app:b,appConfig:K,installations:M,analyticsProvider:F}}_delete(){return Promise.resolve()}}function Ni(D){return Co.apply(this,arguments)}function Co(){return(Co=(0,R.Z)(function*(D){try{D.swRegistration=yield navigator.serviceWorker.register(Ds,{scope:ai}),D.swRegistration.update().catch(()=>{})}catch(b){throw Nn.create("failed-service-worker-registration",{browserErrorMessage:b.message})}})).apply(this,arguments)}function To(D,b){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,R.Z)(function*(D,b){if(!b&&!D.swRegistration&&(yield Ni(D)),b||!D.swRegistration){if(!(b instanceof ServiceWorkerRegistration))throw Nn.create("invalid-sw-registration");D.swRegistration=b}})).apply(this,arguments)}function Zd(D,b){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,R.Z)(function*(D,b){b?D.vapidKey=b:D.vapidKey||(D.vapidKey=Io)})).apply(this,arguments)}function ua(){return(ua=(0,R.Z)(function*(D,b){if(!navigator)throw Nn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Nn.create("permission-blocked");return yield Zd(D,null==b?void 0:b.vapidKey),yield To(D,null==b?void 0:b.serviceWorkerRegistration),cc(D)})).apply(this,arguments)}function Gu(D,b,M){return So.apply(this,arguments)}function So(){return(So=(0,R.Z)(function*(D,b,M){const F=mc(b);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(F,{message_id:M[ra],message_name:M[zd],message_time:M[Kf],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function mc(D){switch(D){case Qi.NOTIFICATION_CLICKED:return"notification_open";case Qi.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function zu(){return(zu=(0,R.Z)(function*(D,b){const M=b.data;if(!M.isFirebaseMessaging)return;D.onMessageHandler&&M.messageType===Qi.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler(es(M)):D.onMessageHandler.next(es(M)));const F=M.data;Wd(F)&&"1"===F[zs]&&(yield Gu(D,M.messageType,F))})).apply(this,arguments)}const la="@firebase/messaging",Ks=D=>{const b=new or(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",M=>function yc(D,b){return zu.apply(this,arguments)}(b,M)),b},_c=D=>{const b=D.getProvider("messaging").getImmediate();return{getToken:F=>function gc(D,b){return ua.apply(this,arguments)}(b,F)}};function Za(){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,R.Z)(function*(){try{yield(0,oe.eu)()}catch(D){return!1}return"undefined"!=typeof window&&(0,oe.hl)()&&(0,oe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Kd(){(0,se._registerComponent)(new ge.wA("messaging",Ks,"PUBLIC")),(0,se._registerComponent)(new ge.wA("messaging-internal",_c,"PRIVATE")),(0,se.registerVersion)(la,"0.9.13"),(0,se.registerVersion)(la,"0.9.13","esm2017")}();const vc="analytics",Yf="firebase_id",da="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ha="https://www.googletagmanager.com/gtag/js",Wn=new de.Yd("@firebase/analytics");function wc(D){return Promise.all(D.map(b=>b.catch(M=>M)))}function Qf(D,b){const M=document.createElement("script");M.src=`${ha}?l=${D}&id=${b}`,M.async=!0,document.head.appendChild(M)}function Mo(D,b,M,F,K,Y){return Ic.apply(this,arguments)}function Ic(){return(Ic=(0,R.Z)(function*(D,b,M,F,K,Y){const Fe=F[K];try{if(Fe)yield b[Fe];else{const pt=(yield wc(M)).find(bt=>bt.measurementId===K);pt&&(yield b[pt.appId])}}catch(ze){Wn.error(ze)}D("config",K,Y)})).apply(this,arguments)}function Wu(D,b,M,F,K){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,R.Z)(function*(D,b,M,F,K){try{let Y=[];if(K&&K.send_to){let Fe=K.send_to;Array.isArray(Fe)||(Fe=[Fe]);const ze=yield wc(M);for(const pt of Fe){const bt=ze.find(Et=>Et.measurementId===pt),$t=bt&&b[bt.appId];if(!$t){Y=[];break}Y.push($t)}}0===Y.length&&(Y=Object.values(b)),yield Promise.all(Y),D("event",F,K||{})}catch(Y){Wn.error(Y)}})).apply(this,arguments)}function bn(){const D=window.document.getElementsByTagName("script");for(const b of Object.values(D))if(b.src&&b.src.includes(ha))return b;return null}const ut=new oe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),fa=new class mi{constructor(b={},M=1e3){this.throttleMetadata=b,this.intervalMillis=M}getThrottleMetadata(b){return this.throttleMetadata[b]}setThrottleMetadata(b,M){this.throttleMetadata[b]=M}deleteThrottleMetadata(b){delete this.throttleMetadata[b]}};function xo(D){return new Headers({Accept:"application/json","x-goog-api-key":D})}function Dc(D){return pn.apply(this,arguments)}function pn(){return(pn=(0,R.Z)(function*(D){var b;const{appId:M,apiKey:F}=D,K={method:"GET",headers:xo(F)},Y=da.replace("{app-id}",M),Fe=yield fetch(Y,K);if(200!==Fe.status&&304!==Fe.status){let ze="";try{const pt=yield Fe.json();(null===(b=pt.error)||void 0===b?void 0:b.message)&&(ze=pt.error.message)}catch(pt){}throw ut.create("config-fetch-failed",{httpStatus:Fe.status,responseMessage:ze})}return Fe.json()})).apply(this,arguments)}function bc(D){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,R.Z)(function*(D,b=fa,M){const{appId:F,apiKey:K,measurementId:Y}=D.options;if(!F)throw ut.create("no-app-id");if(!K){if(Y)return{measurementId:Y,appId:F};throw ut.create("no-api-key")}const Fe=b.getThrottleMetadata(F)||{backoffCount:0,throttleEndTimeMillis:Date.now()},ze=new Ya;return setTimeout((0,R.Z)(function*(){ze.abort()}),void 0!==M?M:6e4),Ss({appId:F,apiKey:K,measurementId:Y},Fe,ze,b)})).apply(this,arguments)}function Ss(D,b,M){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,R.Z)(function*(D,{throttleEndTimeMillis:b,backoffCount:M},F,K=fa){const{appId:Y,measurementId:Fe}=D;try{yield Xf(F,b)}catch(ze){if(Fe)return Wn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Fe} provided in the "measurementId" field in the local Firebase config. [${ze.message}]`),{appId:Y,measurementId:Fe};throw ze}try{const ze=yield Dc(D);return K.deleteThrottleMetadata(Y),ze}catch(ze){if(!Cc(ze)){if(K.deleteThrottleMetadata(Y),Fe)return Wn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Fe} provided in the "measurementId" field in the local Firebase config. [${ze.message}]`),{appId:Y,measurementId:Fe};throw ze}const pt=503===Number(ze.customData.httpStatus)?(0,oe.$s)(M,K.intervalMillis,30):(0,oe.$s)(M,K.intervalMillis),bt={throttleEndTimeMillis:Date.now()+pt,backoffCount:M+1};return K.setThrottleMetadata(Y,bt),Wn.debug(`Calling attemptFetch again in ${pt} millis`),Ss(D,bt,F,K)}})).apply(this,arguments)}function Xf(D,b){return new Promise((M,F)=>{const K=Math.max(b-Date.now(),0),Y=setTimeout(M,K);D.addEventListener(()=>{clearTimeout(Y),F(ut.create("fetch-throttle",{throttleEndTimeMillis:b}))})})}function Cc(D){if(!(D instanceof oe.ZR&&D.customData))return!1;const b=Number(D.customData.httpStatus);return 429===b||500===b||503===b||504===b}class Ya{constructor(){this.listeners=[]}addEventListener(b){this.listeners.push(b)}abort(){this.listeners.forEach(b=>b())}}function Tc(){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,R.Z)(function*(){if(!(0,oe.hl)())return Wn.warn(ut.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,oe.eu)()}catch(D){return Wn.warn(ut.create("indexeddb-unavailable",{errorInfo:D}).message),!1}return!0})).apply(this,arguments)}function rs(){return(rs=(0,R.Z)(function*(D,b,M,F,K,Y,Fe){var ze;const pt=bc(D);pt.then(Tn=>{M[Tn.measurementId]=Tn.appId,D.options.measurementId&&Tn.measurementId!==D.options.measurementId&&Wn.warn(`The measurement ID in the local Firebase config (${D.options.measurementId}) does not match the measurement ID fetched from the server (${Tn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Tn=>Wn.error(Tn)),b.push(pt);const bt=Tc().then(Tn=>{if(Tn)return F.getId()}),[$t,Et]=yield Promise.all([pt,bt]);bn()||Qf(Y,$t.measurementId),K("js",new Date);const Vr=null!==(ze=null==Fe?void 0:Fe.config)&&void 0!==ze?ze:{};return Vr.origin="firebase",Vr.update=!0,null!=Et&&(Vr[Yf]=Et),K("config",$t.measurementId,Vr),$t.measurementId})).apply(this,arguments)}class No{constructor(b){this.app=b}_delete(){return delete Yr[this.app.options.appId],Promise.resolve()}}let Yr={},is=[];const Oo={};let Ms,Xs,Js="dataLayer",pa=!1;function yi(D,b,M){!function Qa(){const D=[];if((0,oe.ru)()&&D.push("This is a browser extension environment."),(0,oe.zI)()||D.push("Cookies are not available."),D.length>0){const b=D.map((F,K)=>`(${K+1}) ${F}`).join(" "),M=ut.create("invalid-analytics-context",{errorInfo:b});Wn.warn(M.message)}}();const F=D.options.appId;if(!F)throw ut.create("no-app-id");if(!D.options.apiKey){if(!D.options.measurementId)throw ut.create("no-api-key");Wn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${D.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Yr[F])throw ut.create("already-exists",{id:F});if(!pa){!function ns(D){let b=[];Array.isArray(window[D])?b=window[D]:window[D]=b}(Js);const{wrappedGtag:Y,gtagCore:Fe}=function Jf(D,b,M,F,K){let Y=function(...Fe){window[F].push(arguments)};return window[K]&&"function"==typeof window[K]&&(Y=window[K]),window[K]=function Zu(D,b,M,F){function Y(){return(Y=(0,R.Z)(function*(Fe,ze,pt){try{"event"===Fe?yield Wu(D,b,M,ze,pt):"config"===Fe?yield Mo(D,b,M,F,ze,pt):D("set",ze)}catch(bt){Wn.error(bt)}})).apply(this,arguments)}return function K(Fe,ze,pt){return Y.apply(this,arguments)}}(Y,D,b,M),{gtagCore:Y,wrappedGtag:window[K]}}(Yr,is,Oo,Js,"gtag");Xs=Y,Ms=Fe,pa=!0}return Yr[F]=function Ro(D,b,M,F,K,Y,Fe){return rs.apply(this,arguments)}(D,is,Oo,b,Ms,Js,M),new No(D)}function pr(){return(pr=(0,R.Z)(function*(D,b,M,F,K){if(K&&K.global)D("event",M,F);else{const Y=yield b;D("event",M,Object.assign(Object.assign({},F),{send_to:Y}))}})).apply(this,arguments)}function Li(){return ko.apply(this,arguments)}function ko(){return(ko=(0,R.Z)(function*(){if((0,oe.ru)()||!(0,oe.zI)()||!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch(D){return!1}})).apply(this,arguments)}const kr="@firebase/analytics";!function Os(){(0,se._registerComponent)(new ge.wA(vc,(b,{options:M})=>yi(b.getProvider("app").getImmediate(),b.getProvider("installations-internal").getImmediate(),M),"PUBLIC")),(0,se._registerComponent)(new ge.wA("analytics-internal",function D(b){try{const M=b.getProvider(vc).getImmediate();return{logEvent:(F,K,Y)=>function Fo(D,b,M,F){D=(0,oe.m9)(D),function Ac(D,b,M,F,K){return pr.apply(this,arguments)}(Xs,Yr[D.app.options.appId],b,M,F).catch(K=>Wn.error(K))}(M,F,K,Y)}}catch(M){throw ut.create("interop-component-reg-failed",{reason:M})}},"PRIVATE")),(0,se.registerVersion)(kr,"0.7.9"),(0,se.registerVersion)(kr,"0.7.9","esm2017")}();var Sc=O(4408),th=O(7565);const Qu=new class Pn extends th.v{}(class _i extends Sc.o{constructor(b,M){super(b,M),this.scheduler=b,this.work=M}schedule(b,M=0){return M>0?super.schedule(b,M):(this.delay=M,this.state=b,this.scheduler.flush(this),this)}execute(b,M){return M>0||this.closed?super.execute(b,M):this._execute(b,M)}requestAsyncId(b,M,F=0){return null!=F&&F>0||null==F&&this.delay>0?super.requestAsyncId(b,M,F):b.flush(this)}});var ep=O(4986),Ja=O(8306),br=O(8505),Fr=O(9468),Xa=O(5363);const Vo=new h.GfV("7.3.0"),to="__angularfire_symbol__analyticsIsSupportedValue",Vi="__angularfire_symbol__analyticsIsSupported",ga="__angularfire_symbol__remoteConfigIsSupportedValue",eu="__angularfire_symbol__remoteConfigIsSupported",Pt="__angularfire_symbol__messagingIsSupportedValue",Mc="__angularfire_symbol__messagingIsSupported";function xc(D,b,M){if(b){if(1===b.length)return b[0];const Y=b.filter(Fe=>Fe.app===M);if(1===Y.length)return Y[0]}return M.container.getProvider(D).getImmediate({optional:!0})}globalThis[Vi]||(globalThis[Vi]=Li().then(D=>globalThis[to]=D).catch(()=>globalThis[to]=!1)),globalThis[Mc]||(globalThis[Mc]=Za().then(D=>globalThis[Pt]=D).catch(()=>globalThis[Pt]=!1)),globalThis[eu]||(globalThis[eu]=lm().then(D=>globalThis[ga]=D).catch(()=>globalThis[ga]=!1));const Rc=(D,b)=>{const M=b?[b]:(0,L.C6)(),F=[];return M.forEach(K=>{K.container.getProvider(D).instances.forEach(Fe=>{F.includes(Fe)||F.push(Fe)})}),F};function ar(){}class Ju{constructor(b,M=Qu){this.zone=b,this.delegate=M}now(){return this.delegate.now()}schedule(b,M,F){const K=this.zone;return this.delegate.schedule(function(Fe){K.runGuarded(()=>{b.apply(this,[Fe])})},M,F)}}class nu{constructor(b){this.zone=b,this.task=null}call(b,M){const F=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ar,{},ar,ar)),M.pipe((0,br.b)({next:F,complete:F,error:F})).subscribe(b).add(F)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ru=(()=>{class D{constructor(M){this.ngZone=M,this.outsideAngular=M.runOutsideAngular(()=>new Ju(Zone.current)),this.insideAngular=M.run(()=>new Ju(Zone.current,ep.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(M){return new(M||D)(h.LFG(h.R0b))},D.\u0275prov=h.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function Uo(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function Cn(D){return Uo().ngZone.runOutsideAngular(()=>D())}function Kn(D){return Uo().ngZone.run(()=>D())}function ss(D){return Uo(),function Bo(D){return function(M){return(M=M.lift(new nu(D.ngZone))).pipe((0,Fr.R)(D.outsideAngular),(0,Xa.Q)(D.insideAngular))}}(Uo())(D)}const iu=(D,b)=>function(){const F=arguments;return b&&setTimeout(()=>{"scheduled"===b.state&&b.invoke()},10),Kn(()=>D.apply(void 0,F))},el=(D,b)=>function(){let M;const F=arguments;for(let Y=0;Y<arguments.length;Y++)"function"==typeof F[Y]&&(b&&(M||(M=Kn(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ar,{},ar,ar)))),F[Y]=iu(F[Y],M));const K=Cn(()=>D.apply(this,F));if(!b){if(K instanceof Ja.y){const Y=Uo();return K.pipe((0,Fr.R)(Y.outsideAngular),(0,Xa.Q)(Y.insideAngular))}return Kn(()=>K)}return K instanceof Ja.y?K.pipe(ss):K instanceof Promise?Kn(()=>new Promise((Y,Fe)=>K.then(ze=>Kn(()=>Y(ze)),ze=>Kn(()=>Fe(ze))))):"function"==typeof K&&M?function(){return setTimeout(()=>{M&&"scheduled"===M.state&&M.invoke()},10),K.apply(this,arguments)}:Kn(()=>K)}},198:(nt,be,O)=>{O.d(be,{$:()=>Cs,A:()=>U,B:()=>Ae,G:()=>hn,H:()=>rn,J:()=>Ki,L:()=>nn,M:()=>ta,N:()=>na,P:()=>to,Q:()=>ra,R:()=>Os,T:()=>zd,U:()=>Io,V:()=>Qi,W:()=>gi,X:()=>lc,Y:()=>za,Z:()=>Xi,_:()=>Do,a:()=>Pr,a0:()=>cc,a1:()=>dc,a2:()=>qd,a3:()=>Re,a4:()=>Wa,a5:()=>hc,a6:()=>Ri,a7:()=>Hu,a8:()=>Wd,a9:()=>fc,aA:()=>Qr,aB:()=>Tn,aC:()=>el,aD:()=>iu,aE:()=>Ue,aI:()=>xo,aL:()=>zs,aa:()=>Ni,ab:()=>To,ac:()=>Zd,af:()=>Gu,ag:()=>mc,ah:()=>yc,ak:()=>Ji,al:()=>qu,an:()=>ha,ao:()=>Ic,ap:()=>Vn,aq:()=>De,ar:()=>kt,as:()=>at,at:()=>Ge,au:()=>oh,av:()=>tl,aw:()=>Se,ax:()=>X,ay:()=>ee,az:()=>vt,b:()=>ut,c:()=>ma,d:()=>Ju,e:()=>Rc,f:()=>M,g:()=>pt,h:()=>Y,i:()=>yi,j:()=>Et,k:()=>ip,l:()=>Qu,m:()=>op,o:()=>ae,r:()=>ep,s:()=>th,u:()=>Xa});var h=O(5861),L=O(2090),R=O(9681),se=O(655),oe=O(1877),ge=O(4859);const ae={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},U={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ae=function re(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},ke=function We(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},je=new L.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ce=new oe.Yd("@firebase/auth");function qe(_,...p){Ce.logLevel<=oe.in.ERROR&&Ce.error(`Auth (${R.SDK_VERSION}): ${_}`,...p)}function Ge(_,...p){throw Ze(_,...p)}function Se(_,...p){return Ze(_,...p)}function Me(_,p,g){const w=Object.assign(Object.assign({},ke()),{[p]:g});return new L.LL("auth","Firebase",w).create(p,{appName:_.name})}function Ie(_,p,g){if(!(p instanceof g))throw g.name!==p.constructor.name&&Ge(_,"argument-error"),Me(_,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ze(_,...p){if("string"!=typeof _){const g=p[0],w=[...p.slice(1)];return w[0]&&(w[0].appName=_.name),_._errorFactory.create(g,...w)}return je.create(_,...p)}function X(_,p,...g){if(!_)throw Ze(p,...g)}function ce(_){const p="INTERNAL ASSERTION FAILED: "+_;throw qe(p),new Error(p)}function De(_,p){_||ce(p)}const Z=new Map;function ee(_){De(_ instanceof Function,"Expected a class definition");let p=Z.get(_);return p?(De(p instanceof _,"Instance stored in cache mismatched with class"),p):(p=new _,Z.set(_,p),p)}function le(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function Le(){return"http:"===ct()||"https:"===ct()}function ct(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class Ke{constructor(p,g){this.shortDelay=p,this.longDelay=g,De(g>p,"Short delay should be less than long delay!"),this.isMobile=(0,L.uI)()||(0,L.b$)()}get(){return function Wt(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Le()||(0,L.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function on(_,p){De(_.emulator,"Emulator should always be set here");const{url:g}=_.emulator;return p?`${g}${p.startsWith("/")?p.slice(1):p}`:g}class Sn{static initialize(p,g,w){this.fetchImpl=p,g&&(this.headersImpl=g),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void ce("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void ce("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void ce("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const cn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Xt=new Ke(3e4,6e4);function Ut(_,p){return _.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:_.tenantId}):p}function Zt(_,p,g,w){return vn.apply(this,arguments)}function vn(){return(vn=(0,h.Z)(function*(_,p,g,w,A={}){return Ci(_,A,(0,h.Z)(function*(){let P={},te={};w&&("GET"===p?te=w:P={body:JSON.stringify(w)});const xe=(0,L.xO)(Object.assign({key:_.config.apiKey},te)).slice(1),Xe=yield _._getAdditionalHeaders();return Xe["Content-Type"]="application/json",_.languageCode&&(Xe["X-Firebase-Locale"]=_.languageCode),Sn.fetch()(ni(_,_.config.apiHost,g,xe),Object.assign({method:p,headers:Xe,referrerPolicy:"no-referrer"},P))}))})).apply(this,arguments)}function Ci(_,p,g){return vr.apply(this,arguments)}function vr(){return(vr=(0,h.Z)(function*(_,p,g){_._canInitEmulator=!1;const w=Object.assign(Object.assign({},cn),p);try{const A=new fi(_),P=yield Promise.race([g(),A.promise]);A.clearNetworkTimeout();const te=yield P.json();if("needConfirmation"in te)throw Bn(_,"account-exists-with-different-credential",te);if(P.ok&&!("errorMessage"in te))return te;{const xe=P.ok?te.errorMessage:te.error.message,[Xe,ft]=xe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Xe)throw Bn(_,"credential-already-in-use",te);if("EMAIL_EXISTS"===Xe)throw Bn(_,"email-already-in-use",te);const At=w[Xe]||Xe.toLowerCase().replace(/[_\s]+/g,"-");if(ft)throw Me(_,At,ft);Ge(_,At)}}catch(A){if(A instanceof L.ZR)throw A;Ge(_,"network-request-failed")}})).apply(this,arguments)}function In(_,p,g,w){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,h.Z)(function*(_,p,g,w,A={}){const P=yield Zt(_,p,g,w,A);return"mfaPendingCredential"in P&&Ge(_,"multi-factor-auth-required",{_serverResponse:P}),P})).apply(this,arguments)}function ni(_,p,g,w){const A=`${p}${g}?${w}`;return _.config.emulator?on(_.config,A):`${_.config.apiScheme}://${A}`}class fi{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((g,w)=>{this.timer=setTimeout(()=>w(Se(this.auth,"network-request-failed")),Xt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Bn(_,p,g){const w={appName:_.name};g.email&&(w.email=g.email),g.phoneNumber&&(w.phoneNumber=g.phoneNumber);const A=Se(_,p,w);return A.customData._tokenResponse=g,A}function ht(){return(ht=(0,h.Z)(function*(_,p){return Zt(_,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Rr(_,p){return gn.apply(this,arguments)}function gn(){return(gn=(0,h.Z)(function*(_,p){return Zt(_,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Kt(_,p){return Er.apply(this,arguments)}function Er(){return(Er=(0,h.Z)(function*(_,p){return Zt(_,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function tr(_){if(_)try{const p=new Date(Number(_));if(!isNaN(p.getTime()))return p.toUTCString()}catch(p){}}function nr(){return(nr=(0,h.Z)(function*(_,p=!1){const g=(0,L.m9)(_),w=yield g.getIdToken(p),A=Gt(w);X(A&&A.exp&&A.auth_time&&A.iat,g.auth,"internal-error");const P="object"==typeof A.firebase?A.firebase:void 0,te=null==P?void 0:P.sign_in_provider;return{claims:A,token:w,authTime:tr(Es(A.auth_time)),issuedAtTime:tr(Es(A.iat)),expirationTime:tr(Es(A.exp)),signInProvider:te||null,signInSecondFactor:(null==P?void 0:P.sign_in_second_factor)||null}})).apply(this,arguments)}function Es(_){return 1e3*Number(_)}function Gt(_){const[p,g,w]=_.split(".");if(void 0===p||void 0===g||void 0===w)return qe("JWT malformed, contained fewer than 3 sections"),null;try{const A=(0,L.tV)(g);return A?JSON.parse(A):(qe("Failed to decode base64 JWT payload"),null)}catch(A){return qe("Caught error parsing JWT payload as JSON",A),null}}function rt(_,p){return ri.apply(this,arguments)}function ri(){return(ri=(0,h.Z)(function*(_,p,g=!1){if(g)return p;try{return yield p}catch(w){throw w instanceof L.ZR&&ii(w)&&_.auth.currentUser===_&&(yield _.auth.signOut()),w}})).apply(this,arguments)}function ii({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}class Bt{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var g;if(p){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const A=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,A)}}schedule(p=!1){var g=this;if(!this.isRunning)return;const w=this.getInterval(p);this.timerId=setTimeout((0,h.Z)(function*(){yield g.iteration()}),w)}iteration(){var p=this;return(0,h.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g.code&&p.schedule(!0))}p.schedule()})()}}class Si{constructor(p,g){this.createdAt=p,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=tr(this.lastLoginAt),this.creationTime=tr(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Mn(_){return an.apply(this,arguments)}function an(){return(an=(0,h.Z)(function*(_){var p;const g=_.auth,w=yield _.getIdToken(),A=yield rt(_,Kt(g,{idToken:w}));X(null==A?void 0:A.users.length,g,"internal-error");const P=A.users[0];_._notifyReloadListener(P);const te=(null===(p=P.providerUserInfo)||void 0===p?void 0:p.length)?Ee(P.providerUserInfo):[],xe=z(_.providerData,te),At=!!_.isAnonymous&&!(_.email&&P.passwordHash||(null==xe?void 0:xe.length)),kn={uid:P.localId,displayName:P.displayName||null,photoURL:P.photoUrl||null,email:P.email||null,emailVerified:P.emailVerified||!1,phoneNumber:P.phoneNumber||null,tenantId:P.tenantId||null,providerData:xe,metadata:new Si(P.createdAt,P.lastLoginAt),isAnonymous:At};Object.assign(_,kn)})).apply(this,arguments)}function H(){return(H=(0,h.Z)(function*(_){const p=(0,L.m9)(_);yield Mn(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function z(_,p){return[..._.filter(w=>!p.some(A=>A.providerId===w.providerId)),...p]}function Ee(_){return _.map(p=>{var{providerId:g}=p,w=(0,se._T)(p,["providerId"]);return{providerId:g,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function Q(){return(Q=(0,h.Z)(function*(_,p){const g=yield Ci(_,{},(0,h.Z)(function*(){const w=(0,L.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:A,apiKey:P}=_.config,te=ni(_,A,"/v1/token",`key=${P}`),xe=yield _._getAdditionalHeaders();return xe["Content-Type"]="application/x-www-form-urlencoded",Sn.fetch()(te,{method:"POST",headers:xe,body:w})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class Oe{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){X(p.idToken,"internal-error"),X(void 0!==p.idToken,"internal-error"),X(void 0!==p.refreshToken,"internal-error");const g="expiresIn"in p&&void 0!==p.expiresIn?Number(p.expiresIn):function lt(_){const p=Gt(_);return X(p,"internal-error"),X(void 0!==p.exp,"internal-error"),X(void 0!==p.iat,"internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,g)}getToken(p,g=!1){var w=this;return(0,h.Z)(function*(){return X(!w.accessToken||w.refreshToken,p,"user-token-expired"),g||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(p,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,g){var w=this;return(0,h.Z)(function*(){const{accessToken:A,refreshToken:P,expiresIn:te}=yield function B(_,p){return Q.apply(this,arguments)}(p,g);w.updateTokensAndExpiration(A,P,Number(te))})()}updateTokensAndExpiration(p,g,w){this.refreshToken=g||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(p,g){const{refreshToken:w,accessToken:A,expirationTime:P}=g,te=new Oe;return w&&(X("string"==typeof w,"internal-error",{appName:p}),te.refreshToken=w),A&&(X("string"==typeof A,"internal-error",{appName:p}),te.accessToken=A),P&&(X("number"==typeof P,"internal-error",{appName:p}),te.expirationTime=P),te}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Oe,this.toJSON())}_performRefresh(){return ce("not implemented")}}function et(_,p){X("string"==typeof _||void 0===_,"internal-error",{appName:p})}class dt{constructor(p){var{uid:g,auth:w,stsTokenManager:A}=p,P=(0,se._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Bt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=w,this.stsTokenManager=A,this.accessToken=A.accessToken,this.displayName=P.displayName||null,this.email=P.email||null,this.emailVerified=P.emailVerified||!1,this.phoneNumber=P.phoneNumber||null,this.photoURL=P.photoURL||null,this.isAnonymous=P.isAnonymous||!1,this.tenantId=P.tenantId||null,this.providerData=P.providerData?[...P.providerData]:[],this.metadata=new Si(P.createdAt||void 0,P.lastLoginAt||void 0)}getIdToken(p){var g=this;return(0,h.Z)(function*(){const w=yield rt(g,g.stsTokenManager.getToken(g.auth,p));return X(w,g.auth,"internal-error"),g.accessToken!==w&&(g.accessToken=w,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),w})()}getIdTokenResult(p){return function En(_){return nr.apply(this,arguments)}(this,p)}reload(){return function V(_){return H.apply(this,arguments)}(this)}_assign(p){this!==p&&(X(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(g=>Object.assign({},g)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new dt(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){X(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,g=!1){var w=this;return(0,h.Z)(function*(){let A=!1;p.idToken&&p.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(p),A=!0),g&&(yield Mn(w)),yield w.auth._persistUserIfCurrent(w),A&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var p=this;return(0,h.Z)(function*(){const g=yield p.getIdToken();return yield rt(p,function Ai(_,p){return ht.apply(this,arguments)}(p.auth,{idToken:g})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,g){var w,A,P,te,xe,Xe,ft,At;const kn=null!==(w=g.displayName)&&void 0!==w?w:void 0,Bi=null!==(A=g.email)&&void 0!==A?A:void 0,Fs=null!==(P=g.phoneNumber)&&void 0!==P?P:void 0,lu=null!==(te=g.photoURL)&&void 0!==te?te:void 0,ol=null!==(xe=g.tenantId)&&void 0!==xe?xe:void 0,cu=null!==(Xe=g._redirectEventId)&&void 0!==Xe?Xe:void 0,lh=null!==(ft=g.createdAt)&&void 0!==ft?ft:void 0,du=null!==(At=g.lastLoginAt)&&void 0!==At?At:void 0,{uid:al,emailVerified:up,isAnonymous:ch,providerData:ul,stsTokenManager:ll}=g;X(al&&ll,p,"internal-error");const Em=Oe.fromJSON(this.name,ll);X("string"==typeof al,p,"internal-error"),et(kn,p.name),et(Bi,p.name),X("boolean"==typeof up,p,"internal-error"),X("boolean"==typeof ch,p,"internal-error"),et(Fs,p.name),et(lu,p.name),et(ol,p.name),et(cu,p.name),et(lh,p.name),et(du,p.name);const va=new dt({uid:al,auth:p,email:Bi,emailVerified:up,displayName:kn,isAnonymous:ch,photoURL:lu,phoneNumber:Fs,tenantId:ol,stsTokenManager:Em,createdAt:lh,lastLoginAt:du});return ul&&Array.isArray(ul)&&(va.providerData=ul.map(ji=>Object.assign({},ji))),cu&&(va._redirectEventId=cu),va}static _fromIdTokenResponse(p,g,w=!1){return(0,h.Z)(function*(){const A=new Oe;A.updateFromServerResponse(g);const P=new dt({uid:g.localId,auth:p,stsTokenManager:A,isAnonymous:w});return yield Mn(P),P})()}}const nn=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,h.Z)(function*(){return!0})()}_set(g,w){var A=this;return(0,h.Z)(function*(){A.storage[g]=w})()}_get(g){var w=this;return(0,h.Z)(function*(){const A=w.storage[g];return void 0===A?null:A})()}_remove(g){var w=this;return(0,h.Z)(function*(){delete w.storage[g]})()}_addListener(g,w){}_removeListener(g,w){}}return _.type="NONE",_})();function vt(_,p,g){return`firebase:${_}:${p}:${g}`}class jn{constructor(p,g,w){this.persistence=p,this.auth=g,this.userKey=w;const{config:A,name:P}=this.auth;this.fullUserKey=vt(this.userKey,A.apiKey,P),this.fullPersistenceKey=vt("persistence",A.apiKey,P),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,h.Z)(function*(){const g=yield p.persistence._get(p.fullUserKey);return g?dt._fromJSON(p.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var g=this;return(0,h.Z)(function*(){if(g.persistence===p)return;const w=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=p,w?g.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,g,w="authUser"){return(0,h.Z)(function*(){if(!g.length)return new jn(ee(nn),p,w);const A=(yield Promise.all(g.map(function(){var ft=(0,h.Z)(function*(At){if(yield At._isAvailable())return At});return function(At){return ft.apply(this,arguments)}}()))).filter(ft=>ft);let P=A[0]||ee(nn);const te=vt(w,p.config.apiKey,p.name);let xe=null;for(const ft of g)try{const At=yield ft._get(te);if(At){const kn=dt._fromJSON(p,At);ft!==P&&(xe=kn),P=ft;break}}catch(At){}const Xe=A.filter(ft=>ft._shouldAllowMigration);return P._shouldAllowMigration&&Xe.length?(P=Xe[0],xe&&(yield P._set(te,xe.toJSON())),yield Promise.all(g.map(function(){var ft=(0,h.Z)(function*(At){if(At!==P)try{yield At._remove(te)}catch(kn){}});return function(At){return ft.apply(this,arguments)}}())),new jn(P,p,w)):new jn(P,p,w)})()}}function ue(_){const p=_.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(Ye(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(q(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(St(p))return"Blackberry";if(zt(p))return"Webos";if(G(p))return"Safari";if((p.includes("chrome/")||Te(p))&&!p.includes("edge/"))return"Chrome";if(at(p))return"Android";{const w=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==w?void 0:w.length))return w[1]}return"Other"}function q(_=(0,L.z$)()){return/firefox\//i.test(_)}function G(_=(0,L.z$)()){const p=_.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function Te(_=(0,L.z$)()){return/crios\//i.test(_)}function Ye(_=(0,L.z$)()){return/iemobile/i.test(_)}function at(_=(0,L.z$)()){return/android/i.test(_)}function St(_=(0,L.z$)()){return/blackberry/i.test(_)}function zt(_=(0,L.z$)()){return/webos/i.test(_)}function kt(_=(0,L.z$)()){return/iphone|ipad|ipod/i.test(_)}function Vn(_=(0,L.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}function wr(_=(0,L.z$)()){return kt(_)||at(_)||zt(_)||St(_)||/windows phone/i.test(_)||Ye(_)}function rr(_,p=[]){let g;switch(_){case"Browser":g=ue((0,L.z$)());break;case"Worker":g=`${ue((0,L.z$)())}-${_}`;break;default:g=_}const w=p.length?p.join(","):"FirebaseCore-web";return`${g}/JsCore/${R.SDK_VERSION}/${w}`}class Xo{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,g){const w=P=>new Promise((te,xe)=>{try{te(p(P))}catch(Xe){xe(Xe)}});w.onAbort=g,this.queue.push(w);const A=this.queue.length-1;return()=>{this.queue[A]=()=>Promise.resolve()}}runMiddleware(p){var g=this;return(0,h.Z)(function*(){if(g.auth.currentUser===p)return;const w=[];try{for(const A of g.queue)yield A(p),A.onAbort&&w.push(A.onAbort)}catch(A){w.reverse();for(const P of w)try{P()}catch(te){}throw g.auth._errorFactory.create("login-blocked",{originalMessage:A.message})}})()}}class qr{constructor(p,g,w){this.app=p,this.heartbeatServiceProvider=g,this.config=w,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ot(this),this.idTokenSubscription=new Ot(this),this.beforeStateQueue=new Xo(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=je,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=w.sdkClientVersion}_initializeWithPersistence(p,g){var w=this;return g&&(this._popupRedirectResolver=ee(g)),this._initializationPromise=this.queue((0,h.Z)(function*(){var A,P;if(!w._deleted&&(w.persistenceManager=yield jn.create(w,p),!w._deleted)){if(null===(A=w._popupRedirectResolver)||void 0===A?void 0:A._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch(te){}yield w.initializeCurrentUser(g),w.lastNotifiedUid=(null===(P=w.currentUser)||void 0===P?void 0:P.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,h.Z)(function*(){if(p._deleted)return;const g=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||g){if(p.currentUser&&g&&p.currentUser.uid===g.uid)return p._currentUser._assign(g),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(g,!0)}})()}initializeCurrentUser(p){var g=this;return(0,h.Z)(function*(){var w;const A=yield g.assertedPersistence.getCurrentUser();let P=A,te=!1;if(p&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const xe=null===(w=g.redirectUser)||void 0===w?void 0:w._redirectEventId,Xe=null==P?void 0:P._redirectEventId,ft=yield g.tryRedirectSignIn(p);(!xe||xe===Xe)&&(null==ft?void 0:ft.user)&&(P=ft.user,te=!0)}if(!P)return g.directlySetCurrentUser(null);if(!P._redirectEventId){if(te)try{yield g.beforeStateQueue.runMiddleware(P)}catch(xe){P=A,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(xe))}return P?g.reloadAndSetCurrentUserOrClear(P):g.directlySetCurrentUser(null)}return X(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===P._redirectEventId?g.directlySetCurrentUser(P):g.reloadAndSetCurrentUserOrClear(P)})()}tryRedirectSignIn(p){var g=this;return(0,h.Z)(function*(){let w=null;try{w=yield g._popupRedirectResolver._completeRedirectFn(g,p,!0)}catch(A){yield g._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(p){var g=this;return(0,h.Z)(function*(){try{yield Mn(p)}catch(w){if("auth/network-request-failed"!==w.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function Vt(){if("undefined"==typeof navigator)return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var p=this;return(0,h.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var g=this;return(0,h.Z)(function*(){const w=p?(0,L.m9)(p):null;return w&&X(w.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(w&&w._clone(g))})()}_updateCurrentUser(p,g=!1){var w=this;return(0,h.Z)(function*(){if(!w._deleted)return p&&X(w.tenantId===p.tenantId,w,"tenant-id-mismatch"),g||(yield w.beforeStateQueue.runMiddleware(p)),w.queue((0,h.Z)(function*(){yield w.directlySetCurrentUser(p),w.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,h.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var g=this;return this.queue((0,h.Z)(function*(){yield g.assertedPersistence.setPersistence(ee(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new L.LL("auth","Firebase",p())}onAuthStateChanged(p,g,w){return this.registerStateListener(this.authStateSubscription,p,g,w)}beforeAuthStateChanged(p,g){return this.beforeStateQueue.pushCallback(p,g)}onIdTokenChanged(p,g,w){return this.registerStateListener(this.idTokenSubscription,p,g,w)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,g){var w=this;return(0,h.Z)(function*(){const A=yield w.getOrInitRedirectPersistenceManager(g);return null===p?A.removeCurrentUser():A.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var g=this;return(0,h.Z)(function*(){if(!g.redirectPersistenceManager){const w=p&&ee(p)||g._popupRedirectResolver;X(w,g,"argument-error"),g.redirectPersistenceManager=yield jn.create(g,[ee(w._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(p){var g=this;return(0,h.Z)(function*(){var w,A;return g._isInitialized&&(yield g.queue((0,h.Z)(function*(){}))),(null===(w=g._currentUser)||void 0===w?void 0:w._redirectEventId)===p?g._currentUser:(null===(A=g.redirectUser)||void 0===A?void 0:A._redirectEventId)===p?g.redirectUser:null})()}_persistUserIfCurrent(p){var g=this;return(0,h.Z)(function*(){if(p===g.currentUser)return g.queue((0,h.Z)(function*(){return g.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(g=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,g,w,A){if(this._deleted)return()=>{};const P="function"==typeof g?g:g.next.bind(g),te=this._isInitialized?Promise.resolve():this._initializationPromise;return X(te,this,"internal-error"),te.then(()=>P(this.currentUser)),"function"==typeof g?p.addObserver(g,w,A):p.addObserver(g)}directlySetCurrentUser(p){var g=this;return(0,h.Z)(function*(){g.currentUser&&g.currentUser!==p&&(g._currentUser._stopProactiveRefresh(),p&&g.isProactiveRefreshEnabled&&p._startProactiveRefresh()),g.currentUser=p,p?yield g.assertedPersistence.setCurrentUser(p):yield g.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return X(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=rr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,h.Z)(function*(){var g;const w={"X-Client-Version":p.clientVersion};p.app.options.appId&&(w["X-Firebase-gmpid"]=p.app.options.appId);const A=yield null===(g=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();return A&&(w["X-Firebase-Client"]=A),w})()}}function Ue(_){return(0,L.m9)(_)}class Ot{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,L.ne)(g=>this.observer=g)}get next(){return X(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function hn(_,p,g){const w=Ue(_);X(w._canInitEmulator,w,"emulator-config-failed"),X(/^https?:\/\//.test(p),w,"invalid-emulator-scheme");const A=!!(null==g?void 0:g.disableWarnings),P=Or(p),{host:te,port:xe}=function Wi(_){const p=Or(_),g=/(\/\/)?([^?#/]+)/.exec(_.substr(p.length));if(!g)return{host:"",port:null};const w=g[2].split("@").pop()||"",A=/^(\[[^\]]+\])(:|$)/.exec(w);if(A){const P=A[1];return{host:P,port:Un(w.substr(P.length+1))}}{const[P,te]=w.split(":");return{host:P,port:Un(te)}}}(p);w.config.emulator={url:`${P}//${te}${null===xe?"":`:${xe}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:te,port:xe,protocol:P.replace(":",""),options:Object.freeze({disableWarnings:A})}),A||function Zi(){function _(){const p=document.createElement("p"),g=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}function Or(_){const p=_.indexOf(":");return p<0?"":_.substr(0,p+1)}function Un(_){if(!_)return null;const p=Number(_);return isNaN(p)?null:p}class rn{constructor(p,g){this.providerId=p,this.signInMethod=g}toJSON(){return ce("not implemented")}_getIdTokenResponse(p){return ce("not implemented")}_linkToIdToken(p,g){return ce("not implemented")}_getReauthenticationResolver(p){return ce("not implemented")}}function $s(_,p){return xn.apply(this,arguments)}function xn(){return(xn=(0,h.Z)(function*(_,p){return Zt(_,"POST","/v1/accounts:resetPassword",Ut(_,p))})).apply(this,arguments)}function xt(_,p){return mo.apply(this,arguments)}function mo(){return(mo=(0,h.Z)(function*(_,p){return Zt(_,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function yo(_,p){return _o.apply(this,arguments)}function _o(){return(_o=(0,h.Z)(function*(_,p){return Zt(_,"POST","/v1/accounts:update",Ut(_,p))})).apply(this,arguments)}function Rn(){return(Rn=(0,h.Z)(function*(_,p){return In(_,"POST","/v1/accounts:signInWithPassword",Ut(_,p))})).apply(this,arguments)}function ws(_,p){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,h.Z)(function*(_,p){return Zt(_,"POST","/v1/accounts:sendOobCode",Ut(_,p))})).apply(this,arguments)}function hr(_,p){return un.apply(this,arguments)}function un(){return(un=(0,h.Z)(function*(_,p){return ws(_,p)})).apply(this,arguments)}function Xl(_,p){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,h.Z)(function*(_,p){return ws(_,p)})).apply(this,arguments)}function pi(_,p){return si.apply(this,arguments)}function si(){return(si=(0,h.Z)(function*(_,p){return ws(_,p)})).apply(this,arguments)}function ec(_,p){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,h.Z)(function*(_,p){return ws(_,p)})).apply(this,arguments)}function oi(){return(oi=(0,h.Z)(function*(_,p){return In(_,"POST","/v1/accounts:signInWithEmailLink",Ut(_,p))})).apply(this,arguments)}function tc(){return(tc=(0,h.Z)(function*(_,p){return In(_,"POST","/v1/accounts:signInWithEmailLink",Ut(_,p))})).apply(this,arguments)}class Ba extends rn{constructor(p,g,w,A=null){super("password",w),this._email=p,this._password=g,this._tenantId=A}static _fromEmailAndPassword(p,g){return new Ba(p,g,"password")}static _fromEmailAndCode(p,g,w=null){return new Ba(p,g,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p;if((null==g?void 0:g.email)&&(null==g?void 0:g.password)){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(p){var g=this;return(0,h.Z)(function*(){switch(g.signInMethod){case"password":return function vo(_,p){return Rn.apply(this,arguments)}(p,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function Is(_,p){return oi.apply(this,arguments)}(p,{email:g._email,oobCode:g._password});default:Ge(p,"internal-error")}})()}_linkToIdToken(p,g){var w=this;return(0,h.Z)(function*(){switch(w.signInMethod){case"password":return xt(p,{idToken:g,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function Hd(_,p){return tc.apply(this,arguments)}(p,{idToken:g,email:w._email,oobCode:w._password});default:Ge(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function $n(_,p){return nc.apply(this,arguments)}function nc(){return(nc=(0,h.Z)(function*(_,p){return In(_,"POST","/v1/accounts:signInWithIdp",Ut(_,p))})).apply(this,arguments)}class Ki extends rn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const g=new Ki(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(g.idToken=p.idToken),p.accessToken&&(g.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(g.nonce=p.nonce),p.pendingToken&&(g.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(g.accessToken=p.oauthToken,g.secret=p.oauthTokenSecret):Ge("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:A}=g,P=(0,se._T)(g,["providerId","signInMethod"]);if(!w||!A)return null;const te=new Ki(w,A);return te.idToken=P.idToken||void 0,te.accessToken=P.accessToken||void 0,te.secret=P.secret,te.nonce=P.nonce,te.pendingToken=P.pendingToken||null,te}_getIdTokenResponse(p){return $n(p,this.buildRequest())}_linkToIdToken(p,g){const w=this.buildRequest();return w.idToken=g,$n(p,w)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,$n(p,g)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),p.postBody=(0,L.xO)(g)}return p}}function Gf(_,p){return rc.apply(this,arguments)}function rc(){return(rc=(0,h.Z)(function*(_,p){return Zt(_,"POST","/v1/accounts:sendVerificationCode",Ut(_,p))})).apply(this,arguments)}function ea(){return(ea=(0,h.Z)(function*(_,p){return In(_,"POST","/v1/accounts:signInWithPhoneNumber",Ut(_,p))})).apply(this,arguments)}function ic(){return(ic=(0,h.Z)(function*(_,p){const g=yield In(_,"POST","/v1/accounts:signInWithPhoneNumber",Ut(_,p));if(g.temporaryProof)throw Bn(_,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const qf={USER_NOT_FOUND:"user-not-found"};function sc(){return(sc=(0,h.Z)(function*(_,p){return In(_,"POST","/v1/accounts:signInWithPhoneNumber",Ut(_,Object.assign(Object.assign({},p),{operation:"REAUTH"})),qf)})).apply(this,arguments)}class wo extends rn{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,g){return new wo({verificationId:p,verificationCode:g})}static _fromTokenResponse(p,g){return new wo({phoneNumber:p,temporaryProof:g})}_getIdTokenResponse(p){return function zf(_,p){return ea.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,g){return function Eo(_,p){return ic.apply(this,arguments)}(p,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function Wf(_,p){return sc.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:g,verificationId:w,verificationCode:A}=this.params;return p&&g?{temporaryProof:p,phoneNumber:g}:{sessionInfo:w,code:A}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:g,verificationCode:w,phoneNumber:A,temporaryProof:P}=p;return w||g||A||P?new wo({verificationId:g,verificationCode:w,phoneNumber:A,temporaryProof:P}):null}}class Yi{constructor(p){var g,w,A,P,te,xe;const Xe=(0,L.zd)((0,L.pd)(p)),ft=null!==(g=Xe.apiKey)&&void 0!==g?g:null,At=null!==(w=Xe.oobCode)&&void 0!==w?w:null,kn=function Zf(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(A=Xe.mode)&&void 0!==A?A:null);X(ft&&At&&kn,"argument-error"),this.apiKey=ft,this.operation=kn,this.code=At,this.continueUrl=null!==(P=Xe.continueUrl)&&void 0!==P?P:null,this.languageCode=null!==(te=Xe.languageCode)&&void 0!==te?te:null,this.tenantId=null!==(xe=Xe.tenantId)&&void 0!==xe?xe:null}static parseLink(p){const g=function Gd(_){const p=(0,L.zd)((0,L.pd)(_)).link,g=p?(0,L.zd)((0,L.pd)(p)).deep_link_id:null,w=(0,L.zd)((0,L.pd)(_)).deep_link_id;return(w?(0,L.zd)((0,L.pd)(w)).link:null)||w||g||p||_}(p);try{return new Yi(g)}catch(w){return null}}}let ta=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(g,w){return Ba._fromEmailAndPassword(g,w)}static credentialWithLink(g,w){const A=Yi.parseLink(w);return X(A,"argument-error"),Ba._fromEmailAndCode(g,A.code,A.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class Ds{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class ai extends Ds{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class Io extends ai{static credentialFromJSON(p){const g="string"==typeof p?JSON.parse(p):p;return X("providerId"in g&&"signInMethod"in g,"argument-error"),Ki._fromParams(g)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return X(p.idToken||p.accessToken,"argument-error"),Ki._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return Io.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return Io.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:g,oauthAccessToken:w,oauthTokenSecret:A,pendingToken:P,nonce:te,providerId:xe}=p;if(!w&&!A&&!g&&!P||!xe)return null;try{return new Io(xe)._credential({idToken:g,accessToken:w,nonce:te,pendingToken:P})}catch(Xe){return null}}}let na=(()=>{class _ extends ai{constructor(){super("facebook.com")}static credential(g){return Ki._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch(w){return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),ra=(()=>{class _ extends ai{constructor(){super("google.com"),this.addScope("profile")}static credential(g,w){return Ki._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:w})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:w,oauthAccessToken:A}=g;if(!w&&!A)return null;try{return _.credential(w,A)}catch(P){return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),zd=(()=>{class _ extends ai{constructor(){super("github.com")}static credential(g){return Ki._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch(w){return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class zs extends rn{constructor(p,g){super(p,p),this.pendingToken=g}_getIdTokenResponse(p){return $n(p,this.buildRequest())}_linkToIdToken(p,g){const w=this.buildRequest();return w.idToken=g,$n(p,w)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,$n(p,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:A,pendingToken:P}=g;return w&&A&&P&&w===A?new zs(w,P):null}static _create(p,g){return new zs(p,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Qi extends Ds{constructor(p){X(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Qi.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Qi.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const g=zs.fromJSON(p);return X(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:g,providerId:w}=p;if(!g||!w)return null;try{return zs._create(w,g)}catch(A){return null}}}let gi=(()=>{class _ extends ai{constructor(){super("twitter.com")}static credential(g,w){return Ki._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:w})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:w,oauthTokenSecret:A}=g;if(!w||!A)return null;try{return _.credential(w,A)}catch(P){return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function ac(_,p){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,h.Z)(function*(_,p){return In(_,"POST","/v1/accounts:signUp",Ut(_,p))})).apply(this,arguments)}class Dr{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,g,w,A=!1){return(0,h.Z)(function*(){const P=yield dt._fromIdTokenResponse(p,w,A),te=uc(w);return new Dr({user:P,providerId:te,_tokenResponse:w,operationType:g})})()}static _forOperation(p,g,w){return(0,h.Z)(function*(){yield p._updateTokensIfNecessary(w,!0);const A=uc(w);return new Dr({user:p,providerId:A,_tokenResponse:w,operationType:g})})()}}function uc(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function lc(_){return ja.apply(this,arguments)}function ja(){return(ja=(0,h.Z)(function*(_){var p;const g=Ue(_);if(yield g._initializationPromise,null===(p=g.currentUser)||void 0===p?void 0:p.isAnonymous)return new Dr({user:g.currentUser,providerId:null,operationType:"signIn"});const w=yield ac(g,{returnSecureToken:!0}),A=yield Dr._fromIdTokenResponse(g,"signIn",w,!0);return yield g._updateCurrentUser(A.user),A})).apply(this,arguments)}class $a extends L.ZR{constructor(p,g,w,A){var P;super(g.code,g.message),this.operationType=w,this.user=A,Object.setPrototypeOf(this,$a.prototype),this.customData={appName:p.name,tenantId:null!==(P=p.tenantId)&&void 0!==P?P:void 0,_serverResponse:g.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(p,g,w,A){return new $a(p,g,w,A)}}function Ha(_,p,g,w){return("reauthenticate"===p?g._getReauthenticationResolver(_):g._getIdTokenResponse(_)).catch(P=>{throw"auth/multi-factor-auth-required"===P.code?$a._fromErrorAndOperation(_,P,p,w):P})}function Bu(_){return new Set(_.map(({providerId:p})=>p).filter(p=>!!p))}function Ji(_,p){return ju.apply(this,arguments)}function ju(){return(ju=(0,h.Z)(function*(_,p){const g=(0,L.m9)(_);yield bs(!0,g,p);const{providerUserInfo:w}=yield Rr(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[p]}),A=Bu(w||[]);return g.providerData=g.providerData.filter(P=>A.has(P.providerId)),A.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function fn(_,p){return ia.apply(this,arguments)}function ia(){return(ia=(0,h.Z)(function*(_,p,g=!1){const w=yield rt(_,p._linkToIdToken(_.auth,yield _.getIdToken()),g);return Dr._forOperation(_,"link",w)})).apply(this,arguments)}function bs(_,p,g){return ln.apply(this,arguments)}function ln(){return(ln=(0,h.Z)(function*(_,p,g){yield Mn(p);const A=!1===_?"provider-already-linked":"no-such-provider";X(Bu(p.providerData).has(g)===_,p.auth,A)})).apply(this,arguments)}function Ga(_,p){return sa.apply(this,arguments)}function sa(){return(sa=(0,h.Z)(function*(_,p,g=!1){const{auth:w}=_,A="reauthenticate";try{const P=yield rt(_,Ha(w,A,p,_),g);X(P.idToken,w,"internal-error");const te=Gt(P.idToken);X(te,w,"internal-error");const{sub:xe}=te;return X(_.uid===xe,w,"user-mismatch"),Dr._forOperation(_,A,P)}catch(P){throw"auth/user-not-found"===(null==P?void 0:P.code)&&Ge(w,"user-mismatch"),P}})).apply(this,arguments)}function qs(_,p){return ir.apply(this,arguments)}function ir(){return(ir=(0,h.Z)(function*(_,p,g=!1){const w="signIn",A=yield Ha(_,w,p),P=yield Dr._fromIdTokenResponse(_,w,A);return g||(yield _._updateCurrentUser(P.user)),P})).apply(this,arguments)}function za(_,p){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,h.Z)(function*(_,p){return qs(Ue(_),p)})).apply(this,arguments)}function Xi(_,p){return sr.apply(this,arguments)}function sr(){return(sr=(0,h.Z)(function*(_,p){const g=(0,L.m9)(_);return yield bs(!1,g,p.providerId),fn(g,p)})).apply(this,arguments)}function Do(_,p){return xi.apply(this,arguments)}function xi(){return(xi=(0,h.Z)(function*(_,p){return Ga((0,L.m9)(_),p)})).apply(this,arguments)}function $u(_,p){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,h.Z)(function*(_,p){return In(_,"POST","/v1/accounts:signInWithCustomToken",Ut(_,p))})).apply(this,arguments)}function Cs(_,p){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,h.Z)(function*(_,p){const g=Ue(_),w=yield $u(g,{token:p,returnSecureToken:!0}),A=yield Dr._fromIdTokenResponse(g,"signIn",w);return yield g._updateCurrentUser(A.user),A})).apply(this,arguments)}class mt{constructor(p,g){this.factorId=p,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(p,g){return"phoneInfo"in g?Ws._fromServerResponse(p,g):Ge(p,"internal-error")}}class Ws extends mt{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,g){return new Ws(g)}}function qa(_,p,g){var w;X((null===(w=g.url)||void 0===w?void 0:w.length)>0,_,"invalid-continue-uri"),X(void 0===g.dynamicLinkDomain||g.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),p.continueUrl=g.url,p.dynamicLinkDomain=g.dynamicLinkDomain,p.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(X(g.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),p.iOSBundleId=g.iOS.bundleId),g.android&&(X(g.android.packageName.length>0,_,"missing-android-pkg-name"),p.androidInstallApp=g.android.installApp,p.androidMinimumVersionCode=g.android.minimumVersion,p.androidPackageName=g.android.packageName)}function cc(_,p,g){return oa.apply(this,arguments)}function oa(){return(oa=(0,h.Z)(function*(_,p,g){const w=(0,L.m9)(_),A={requestType:"PASSWORD_RESET",email:p};g&&qa(w,A,g),yield Xl(w,A)})).apply(this,arguments)}function dc(_,p,g){return bo.apply(this,arguments)}function bo(){return(bo=(0,h.Z)(function*(_,p,g){yield $s((0,L.m9)(_),{oobCode:p,newPassword:g})})).apply(this,arguments)}function qd(_,p){return As.apply(this,arguments)}function As(){return(As=(0,h.Z)(function*(_,p){yield yo((0,L.m9)(_),{oobCode:p})})).apply(this,arguments)}function Re(_,p){return jt.apply(this,arguments)}function jt(){return(jt=(0,h.Z)(function*(_,p){const g=(0,L.m9)(_),w=yield $s(g,{oobCode:p}),A=w.requestType;switch(X(A,g,"internal-error"),A){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":X(w.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":X(w.mfaInfo,g,"internal-error");default:X(w.email,g,"internal-error")}let P=null;return w.mfaInfo&&(P=mt._fromServerResponse(Ue(g),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:P},operation:A}})).apply(this,arguments)}function Wa(_,p){return mn.apply(this,arguments)}function mn(){return(mn=(0,h.Z)(function*(_,p){const{data:g}=yield Re((0,L.m9)(_),p);return g.email})).apply(this,arguments)}function hc(_,p,g){return es.apply(this,arguments)}function es(){return(es=(0,h.Z)(function*(_,p,g){const w=Ue(_),A=yield ac(w,{returnSecureToken:!0,email:p,password:g}),P=yield Dr._fromIdTokenResponse(w,"signIn",A);return yield w._updateCurrentUser(P.user),P})).apply(this,arguments)}function Ri(_,p,g){return za((0,L.m9)(_),ta.credential(p,g))}function Hu(_,p,g){return aa.apply(this,arguments)}function aa(){return(aa=(0,h.Z)(function*(_,p,g){const w=(0,L.m9)(_),A={requestType:"EMAIL_SIGNIN",email:p};X(g.handleCodeInApp,w,"argument-error"),g&&qa(w,A,g),yield pi(w,A)})).apply(this,arguments)}function Wd(_,p){const g=Yi.parseLink(p);return"EMAIL_SIGNIN"===(null==g?void 0:g.operation)}function fc(_,p,g){return pc.apply(this,arguments)}function pc(){return(pc=(0,h.Z)(function*(_,p,g){const w=(0,L.m9)(_),A=ta.credentialWithLink(p,g||le());return X(A._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),za(w,A)})).apply(this,arguments)}function Zs(_,p){return or.apply(this,arguments)}function or(){return(or=(0,h.Z)(function*(_,p){return Zt(_,"POST","/v1/accounts:createAuthUri",Ut(_,p))})).apply(this,arguments)}function Ni(_,p){return Co.apply(this,arguments)}function Co(){return(Co=(0,h.Z)(function*(_,p){const w={identifier:p,continueUri:Le()?le():"http://localhost"},{signinMethods:A}=yield Zs((0,L.m9)(_),w);return A||[]})).apply(this,arguments)}function To(_,p){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,h.Z)(function*(_,p){const g=(0,L.m9)(_),A={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};p&&qa(g.auth,A,p);const{email:P}=yield hr(g.auth,A);P!==_.email&&(yield _.reload())})).apply(this,arguments)}function Zd(_,p,g){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,h.Z)(function*(_,p,g){const w=(0,L.m9)(_),P={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:p};g&&qa(w.auth,P,g);const{email:te}=yield ec(w.auth,P);te!==_.email&&(yield _.reload())})).apply(this,arguments)}function gc(_,p){return ua.apply(this,arguments)}function ua(){return(ua=(0,h.Z)(function*(_,p){return Zt(_,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Gu(_,p){return So.apply(this,arguments)}function So(){return(So=(0,h.Z)(function*(_,{displayName:p,photoURL:g}){if(void 0===p&&void 0===g)return;const w=(0,L.m9)(_),P={idToken:yield w.getIdToken(),displayName:p,photoUrl:g,returnSecureToken:!0},te=yield rt(w,gc(w.auth,P));w.displayName=te.displayName||null,w.photoURL=te.photoUrl||null;const xe=w.providerData.find(({providerId:Xe})=>"password"===Xe);xe&&(xe.displayName=w.displayName,xe.photoURL=w.photoURL),yield w._updateTokensIfNecessary(te)})).apply(this,arguments)}function mc(_,p){return zu((0,L.m9)(_),p,null)}function yc(_,p){return zu((0,L.m9)(_),null,p)}function zu(_,p,g){return la.apply(this,arguments)}function la(){return(la=(0,h.Z)(function*(_,p,g){const{auth:w}=_,P={idToken:yield _.getIdToken(),returnSecureToken:!0};p&&(P.email=p),g&&(P.password=g);const te=yield rt(_,xt(w,P));yield _._updateTokensIfNecessary(te,!0)})).apply(this,arguments)}class Ks{constructor(p,g,w={}){this.isNewUser=p,this.providerId=g,this.profile=w}}class _c extends Ks{constructor(p,g,w,A){super(p,g,w),this.username=A}}class Kd extends Ks{constructor(p,g){super(p,"facebook.com",g)}}class Za extends _c{constructor(p,g){super(p,"github.com",g,"string"==typeof(null==g?void 0:g.login)?null==g?void 0:g.login:null)}}class Kr extends Ks{constructor(p,g){super(p,"google.com",g)}}class Yd extends _c{constructor(p,g,w){super(p,"twitter.com",g,w)}}function qu(_){const{user:p,_tokenResponse:g}=_;return p.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function ca(_){var p,g;if(!_)return null;const{providerId:w}=_,A=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},P=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!w&&(null==_?void 0:_.idToken)){const te=null===(g=null===(p=Gt(_.idToken))||void 0===p?void 0:p.firebase)||void 0===g?void 0:g.sign_in_provider;if(te)return new Ks(P,"anonymous"!==te&&"custom"!==te?te:null)}if(!w)return null;switch(w){case"facebook.com":return new Kd(P,A);case"github.com":return new Za(P,A);case"google.com":return new Kr(P,A);case"twitter.com":return new Yd(P,A,_.screenName||null);case"custom":case"anonymous":return new Ks(P,null);default:return new Ks(P,w,A)}}(g)}class ts{constructor(p,g){this.type=p,this.credential=g}static _fromIdtoken(p){return new ts("enroll",p)}static _fromMfaPendingCredential(p){return new ts("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var g,w;if(null==p?void 0:p.multiFactorSession){if(null===(g=p.multiFactorSession)||void 0===g?void 0:g.pendingCredential)return ts._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null===(w=p.multiFactorSession)||void 0===w?void 0:w.idToken)return ts._fromIdtoken(p.multiFactorSession.idToken)}return null}}class da{constructor(p,g,w){this.session=p,this.hints=g,this.signInResolver=w}static _fromError(p,g){const w=Ue(p),A=g.customData._serverResponse,P=(A.mfaInfo||[]).map(xe=>mt._fromServerResponse(w,xe));X(A.mfaPendingCredential,w,"internal-error");const te=ts._fromMfaPendingCredential(A.mfaPendingCredential);return new da(te,P,function(){var xe=(0,h.Z)(function*(Xe){const ft=yield Xe._process(w,te);delete A.mfaInfo,delete A.mfaPendingCredential;const At=Object.assign(Object.assign({},A),{idToken:ft.idToken,refreshToken:ft.refreshToken});switch(g.operationType){case"signIn":const kn=yield Dr._fromIdTokenResponse(w,g.operationType,At);return yield w._updateCurrentUser(kn.user),kn;case"reauthenticate":return X(g.user,w,"internal-error"),Dr._forOperation(g.user,g.operationType,At);default:Ge(w,"internal-error")}});return function(Xe){return xe.apply(this,arguments)}}())}resolveSignIn(p){var g=this;return(0,h.Z)(function*(){return g.signInResolver(p)})()}}function ha(_,p){var g;const w=(0,L.m9)(_),A=p;return X(p.customData.operationType,w,"argument-error"),X(null===(g=A.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,w,"argument-error"),da._fromError(w,A)}function Wn(_,p){return Zt(_,"POST","/v2/accounts/mfaEnrollment:start",Ut(_,p))}class ns{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(w=>mt._fromServerResponse(p.auth,w)))})}static _fromUser(p){return new ns(p)}getSession(){var p=this;return(0,h.Z)(function*(){return ts._fromIdtoken(yield p.user.getIdToken())})()}enroll(p,g){var w=this;return(0,h.Z)(function*(){const A=p,P=yield w.getSession(),te=yield rt(w.user,A._process(w.user.auth,P,g));return yield w.user._updateTokensIfNecessary(te),w.user.reload()})()}unenroll(p){var g=this;return(0,h.Z)(function*(){const w="string"==typeof p?p:p.uid,A=yield g.user.getIdToken(),P=yield rt(g.user,function Qf(_,p){return Zt(_,"POST","/v2/accounts/mfaEnrollment:withdraw",Ut(_,p))}(g.user.auth,{idToken:A,mfaEnrollmentId:w}));g.enrolledFactors=g.enrolledFactors.filter(({uid:te})=>te!==w),yield g.user._updateTokensIfNecessary(P);try{yield g.user.reload()}catch(te){if("auth/user-token-expired"!==te.code)throw te}})()}}const Mo=new WeakMap;function Ic(_){const p=(0,L.m9)(_);return Mo.has(p)||Mo.set(p,ns._fromUser(p)),Mo.get(p)}const Wu="__sak";class Qs{constructor(p,g){this.storageRetriever=p,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(Wu,"1"),this.storage.removeItem(Wu),Promise.resolve(!0)):Promise.resolve(!1)}catch(p){return Promise.resolve(!1)}}_set(p,g){return this.storage.setItem(p,JSON.stringify(g)),Promise.resolve()}_get(p){const g=this.storage.getItem(p);return Promise.resolve(g?JSON.parse(g):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const ut=(()=>{class _ extends Qs{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,w)=>this.onStorageEvent(g,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Zu(){const _=(0,L.z$)();return G(_)||kt(_)}()&&function Mi(){try{return!(!window||window===window.top)}catch(_){return!1}}(),this.fallbackToPolling=wr(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const w of Object.keys(this.listeners)){const A=this.storage.getItem(w),P=this.localCache[w];A!==P&&g(w,P,A)}}onStorageEvent(g,w=!1){if(!g.key)return void this.forAllChangedKeys((xe,Xe,ft)=>{this.notifyListeners(xe,ft)});const A=g.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const xe=this.storage.getItem(A);if(g.newValue!==xe)null!==g.newValue?this.storage.setItem(A,g.newValue):this.storage.removeItem(A);else if(this.localCache[A]===g.newValue&&!w)return}const P=()=>{const xe=this.storage.getItem(A);!w&&this.localCache[A]===xe||this.notifyListeners(A,xe)},te=this.storage.getItem(A);!function Ft(){return(0,L.w1)()&&10===document.documentMode}()||te===g.newValue||g.newValue===g.oldValue?P():setTimeout(P,10)}notifyListeners(g,w){this.localCache[g]=w;const A=this.listeners[g];if(A)for(const P of Array.from(A))P(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,w,A)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:w,newValue:A}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(w)}_removeListener(g,w){this.listeners[g]&&(this.listeners[g].delete(w),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,w){var A=()=>super._set,P=this;return(0,h.Z)(function*(){yield A().call(P,g,w),P.localCache[g]=JSON.stringify(w)})()}_get(g){var w=()=>super._get,A=this;return(0,h.Z)(function*(){const P=yield w().call(A,g);return A.localCache[g]=JSON.stringify(P),P})()}_remove(g){var w=()=>super._remove,A=this;return(0,h.Z)(function*(){yield w().call(A,g),delete A.localCache[g]})()}}return _.type="LOCAL",_})(),Pr=(()=>{class _ extends Qs{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,w){}_removeListener(g,w){}}return _.type="SESSION",_})();let fa=(()=>{class _{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const w=this.receivers.find(P=>P.isListeningto(g));if(w)return w;const A=new _(g);return this.receivers.push(A),A}isListeningto(g){return this.eventTarget===g}handleEvent(g){var w=this;return(0,h.Z)(function*(){const A=g,{eventId:P,eventType:te,data:xe}=A.data,Xe=w.handlersMap[te];if(!(null==Xe?void 0:Xe.size))return;A.ports[0].postMessage({status:"ack",eventId:P,eventType:te});const ft=Array.from(Xe).map(function(){var kn=(0,h.Z)(function*(Bi){return Bi(A.origin,xe)});return function(Bi){return kn.apply(this,arguments)}}()),At=yield function mi(_){return Promise.all(_.map(function(){var p=(0,h.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(w){return{fulfilled:!1,reason:w}}});return function(g){return p.apply(this,arguments)}}()))}(ft);A.ports[0].postMessage({status:"done",eventId:P,eventType:te,response:At})})()}_subscribe(g,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(w)}_unsubscribe(g,w){this.handlersMap[g]&&w&&this.handlersMap[g].delete(w),(!w||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function xo(_="",p=10){let g="";for(let w=0;w<p;w++)g+=Math.floor(10*Math.random());return _+g}class Dc{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,g,w=50){var A=this;return(0,h.Z)(function*(){const P="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!P)throw new Error("connection_unavailable");let te,xe;return new Promise((Xe,ft)=>{const At=xo("",20);P.port1.start();const kn=setTimeout(()=>{ft(new Error("unsupported_event"))},w);xe={messageChannel:P,onMessage(Bi){const Fs=Bi;if(Fs.data.eventId===At)switch(Fs.data.status){case"ack":clearTimeout(kn),te=setTimeout(()=>{ft(new Error("timeout"))},3e3);break;case"done":clearTimeout(te),Xe(Fs.data.response);break;default:clearTimeout(kn),clearTimeout(te),ft(new Error("invalid_response"))}}},A.handlers.add(xe),P.port1.addEventListener("message",xe.onMessage),A.target.postMessage({eventType:p,eventId:At,data:g},[P.port2])}).finally(()=>{xe&&A.removeMessageHandler(xe)})})()}}function pn(){return window}function Pi(){return void 0!==pn().WorkerGlobalScope&&"function"==typeof pn().importScripts}function Dt(){return(Dt=(0,h.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(_){return null}})).apply(this,arguments)}const Ya="firebaseLocalStorageDb",Gn="firebaseLocalStorage",Ro="fbase_key";class rs{constructor(p){this.request=p}toPromise(){return new Promise((p,g)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function No(_,p){return _.transaction([Gn],p?"readwrite":"readonly").objectStore(Gn)}function is(){const _=indexedDB.open(Ya,1);return new Promise((p,g)=>{_.addEventListener("error",()=>{g(_.error)}),_.addEventListener("upgradeneeded",()=>{const w=_.result;try{w.createObjectStore(Gn,{keyPath:Ro})}catch(A){g(A)}}),_.addEventListener("success",(0,h.Z)(function*(){const w=_.result;w.objectStoreNames.contains(Gn)?p(w):(w.close(),yield function Yr(){const _=indexedDB.deleteDatabase(Ya);return new rs(_).toPromise()}(),p(yield is()))}))})}function Oo(_,p,g){return Js.apply(this,arguments)}function Js(){return(Js=(0,h.Z)(function*(_,p,g){const w=No(_,!0).put({[Ro]:p,value:g});return new rs(w).toPromise()})).apply(this,arguments)}function Ms(){return(Ms=(0,h.Z)(function*(_,p){const g=No(_,!1).get(p),w=yield new rs(g).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function Xs(_,p){const g=No(_,!0).delete(p);return new rs(g).toPromise()}const yi=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,h.Z)(function*(){return g.db||(g.db=yield is()),g.db})()}_withRetries(g){var w=this;return(0,h.Z)(function*(){let A=0;for(;;)try{const P=yield w._openDb();return yield g(P)}catch(P){if(A++>3)throw P;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,h.Z)(function*(){return Pi()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,h.Z)(function*(){g.receiver=fa._getInstance(function Cc(){return Pi()?self:null}()),g.receiver._subscribe("keyChanged",function(){var w=(0,h.Z)(function*(A,P){return{keyProcessed:(yield g._poll()).includes(P.key)}});return function(A,P){return w.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var w=(0,h.Z)(function*(A,P){return["keyChanged"]});return function(A,P){return w.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,h.Z)(function*(){var w,A;if(g.activeServiceWorker=yield function Ss(){return Dt.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Dc(g.activeServiceWorker);const P=yield g.sender._send("ping",{},800);!P||(null===(w=P[0])||void 0===w?void 0:w.fulfilled)&&(null===(A=P[0])||void 0===A?void 0:A.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var w=this;return(0,h.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function Xf(){var _;return(null===(_=null==navigator?void 0:navigator.serviceWorker)||void 0===_?void 0:_.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:g},w.serviceWorkerReceiverAvailable?800:50)}catch(A){}})()}_isAvailable(){return(0,h.Z)(function*(){try{if(!indexedDB)return!1;const g=yield is();return yield Oo(g,Wu,"1"),yield Xs(g,Wu),!0}catch(g){}return!1})()}_withPendingWrite(g){var w=this;return(0,h.Z)(function*(){w.pendingWrites++;try{yield g()}finally{w.pendingWrites--}})()}_set(g,w){var A=this;return(0,h.Z)(function*(){return A._withPendingWrite((0,h.Z)(function*(){return yield A._withRetries(P=>Oo(P,g,w)),A.localCache[g]=w,A.notifyServiceWorker(g)}))})()}_get(g){var w=this;return(0,h.Z)(function*(){const A=yield w._withRetries(P=>function Po(_,p){return Ms.apply(this,arguments)}(P,g));return w.localCache[g]=A,A})()}_remove(g){var w=this;return(0,h.Z)(function*(){return w._withPendingWrite((0,h.Z)(function*(){return yield w._withRetries(A=>Xs(A,g)),delete w.localCache[g],w.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,h.Z)(function*(){const w=yield g._withRetries(te=>{const xe=No(te,!1).getAll();return new rs(xe).toPromise()});if(!w)return[];if(0!==g.pendingWrites)return[];const A=[],P=new Set;for(const{fbase_key:te,value:xe}of w)P.add(te),JSON.stringify(g.localCache[te])!==JSON.stringify(xe)&&(g.notifyListeners(te,xe),A.push(te));for(const te of Object.keys(g.localCache))g.localCache[te]&&!P.has(te)&&(g.notifyListeners(te,null),A.push(te));return A})()}notifyListeners(g,w){this.localCache[g]=w;const A=this.listeners[g];if(A)for(const P of Array.from(A))P(w)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,h.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(w)}_removeListener(g,w){this.listeners[g]&&(this.listeners[g].delete(w),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();function Ac(_,p){return Zt(_,"POST","/v2/accounts/mfaSignIn:start",Ut(_,p))}function ki(){return(ki=(0,h.Z)(function*(_){return(yield Zt(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function xs(_){return new Promise((p,g)=>{const w=document.createElement("script");w.setAttribute("src",_),w.onload=p,w.onerror=A=>{const P=Se("internal-error");P.customData=A,g(P)},w.type="text/javascript",w.charset="UTF-8",function gr(){var _,p;return null!==(p=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==p?p:document}().appendChild(w)})}function eo(_){return`__${_}${Math.floor(1e6*Math.random())}`}const zn=1e12;class Ns{constructor(p){this.auth=p,this.counter=zn,this._widgets=new Map}render(p,g){const w=this.counter;return this._widgets.set(w,new Zn(p,this.auth.name,g||{})),this.counter++,w}reset(p){var g;const w=p||zn;null===(g=this._widgets.get(w))||void 0===g||g.delete(),this._widgets.delete(w)}getResponse(p){var g;return(null===(g=this._widgets.get(p||zn))||void 0===g?void 0:g.getResponse())||""}execute(p){var g=this;return(0,h.Z)(function*(){var w;return null===(w=g._widgets.get(p||zn))||void 0===w||w.execute(),""})()}}class Zn{constructor(p,g,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const A="string"==typeof p?document.getElementById(p):p;X(A,"argument-error",{appName:g}),this.container=A,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Li(_){const p=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<_;w++)p.push(g.charAt(Math.floor(Math.random()*g.length)));return p.join("")}(50);const{callback:p,"expired-callback":g}=this.params;if(p)try{p(this.responseToken)}catch(w){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch(w){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ko=eo("rcb"),Jd=new Ke(3e4,6e4);class Xd{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!pn().grecaptcha}load(p,g=""){return X(function dm(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(g),p,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(pn().grecaptcha):new Promise((w,A)=>{const P=pn().setTimeout(()=>{A(Se(p,"network-request-failed"))},Jd.get());pn()[ko]=()=>{pn().clearTimeout(P),delete pn()[ko];const xe=pn().grecaptcha;if(!xe)return void A(Se(p,"internal-error"));const Xe=xe.render;xe.render=(ft,At)=>{const kn=Xe(ft,At);return this.counter++,kn},this.hostLanguage=g,w(xe)},xs(`https://www.google.com/recaptcha/api.js??${(0,L.xO)({onload:ko,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(P),A(Se(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){return!!pn().grecaptcha&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Fo{load(p){return(0,h.Z)(function*(){return new Ns(p)})()}clearedOneInstance(){}}const kr="recaptcha",eh={theme:"light",type:"image"};class Os{constructor(p,g=Object.assign({},eh),w){this.parameters=g,this.type=kr,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ue(w),this.isInvisible="invisible"===this.parameters.size,X("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const A="string"==typeof p?document.getElementById(p):p;X(A,this.auth,"argument-error"),this.container=A,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Fo:new Xd,this.validateStartingState()}verify(){var p=this;return(0,h.Z)(function*(){p.assertNotDestroyed();const g=yield p.render(),w=p.getAssertedRecaptcha();return w.getResponse(g)||new Promise(P=>{const te=xe=>{!xe||(p.tokenChangeListeners.delete(te),P(xe))};p.tokenChangeListeners.add(te),p.isInvisible&&w.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){X(!this.parameters.sitekey,this.auth,"argument-error"),X(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),X("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return g=>{if(this.tokenChangeListeners.forEach(w=>w(g)),"function"==typeof p)p(g);else if("string"==typeof p){const w=pn()[p];"function"==typeof w&&w(g)}}}assertNotDestroyed(){X(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,h.Z)(function*(){if(yield p.init(),!p.widgetId){let g=p.container;if(!p.isInvisible){const w=document.createElement("div");g.appendChild(w),g=w}p.widgetId=p.getAssertedRecaptcha().render(g,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,h.Z)(function*(){X(Le()&&!Pi(),p.auth,"internal-error"),yield function Sc(){let _=null;return new Promise(p=>{"complete"!==document.readyState?(_=()=>p(),window.addEventListener("load",_)):p()}).catch(p=>{throw _&&window.removeEventListener("load",_),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const g=yield function Yu(_){return ki.apply(this,arguments)}(p.auth);X(g,p.auth,"internal-error"),p.parameters.sitekey=g})()}getAssertedRecaptcha(){return X(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class _i{constructor(p,g){this.verificationId=p,this.onConfirmation=g}confirm(p){const g=wo._fromVerification(this.verificationId,p);return this.onConfirmation(g)}}function th(_,p,g){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,h.Z)(function*(_,p,g){const w=Ue(_),A=yield br(w,p,(0,L.m9)(g));return new _i(A,P=>za(w,P))})).apply(this,arguments)}function Qu(_,p,g){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,h.Z)(function*(_,p,g){const w=(0,L.m9)(_);yield bs(!1,w,"phone");const A=yield br(w.auth,p,(0,L.m9)(g));return new _i(A,P=>Xi(w,P))})).apply(this,arguments)}function ep(_,p,g){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,h.Z)(function*(_,p,g){const w=(0,L.m9)(_),A=yield br(w.auth,p,(0,L.m9)(g));return new _i(A,P=>Do(w,P))})).apply(this,arguments)}function br(_,p,g){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,h.Z)(function*(_,p,g){var w;const A=yield g.verify();try{let P;if(X("string"==typeof A,_,"argument-error"),X(g.type===kr,_,"argument-error"),P="string"==typeof p?{phoneNumber:p}:p,"session"in P){const te=P.session;if("phoneNumber"in P)return X("enroll"===te.type,_,"internal-error"),(yield Wn(_,{idToken:te.credential,phoneEnrollmentInfo:{phoneNumber:P.phoneNumber,recaptchaToken:A}})).phoneSessionInfo.sessionInfo;{X("signin"===te.type,_,"internal-error");const xe=(null===(w=P.multiFactorHint)||void 0===w?void 0:w.uid)||P.multiFactorUid;return X(xe,_,"missing-multi-factor-info"),(yield Ac(_,{mfaPendingCredential:te.credential,mfaEnrollmentId:xe,phoneSignInInfo:{recaptchaToken:A}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:te}=yield Gf(_,{phoneNumber:P.phoneNumber,recaptchaToken:A});return te}}finally{g._reset()}})).apply(this,arguments)}function Xa(_,p){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,h.Z)(function*(_,p){yield fn((0,L.m9)(_),p)})).apply(this,arguments)}let to=(()=>{class _{constructor(g){this.providerId=_.PROVIDER_ID,this.auth=Ue(g)}verifyPhoneNumber(g,w){return br(this.auth,g,(0,L.m9)(w))}static credential(g,w){return wo._fromVerification(g,w)}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:w,temporaryProof:A}=g;return w&&A?wo._fromTokenResponse(w,A):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function Vi(_,p){return p?ee(p):(X(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class ga extends rn{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return $n(p,this._buildIdpRequest())}_linkToIdToken(p,g){return $n(p,this._buildIdpRequest(g))}_getReauthenticationResolver(p){return $n(p,this._buildIdpRequest())}_buildIdpRequest(p){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(g.idToken=p),g}}function eu(_){return qs(_.auth,new ga(_),_.bypassAuthState)}function Pt(_){const{auth:p,user:g}=_;return X(g,p,"internal-error"),Ga(g,new ga(_),_.bypassAuthState)}function Mc(_){return vi.apply(this,arguments)}function vi(){return(vi=(0,h.Z)(function*(_){const{auth:p,user:g}=_;return X(g,p,"internal-error"),fn(g,new ga(_),_.bypassAuthState)})).apply(this,arguments)}class Lr{constructor(p,g,w,A,P=!1){this.auth=p,this.resolver=w,this.user=A,this.bypassAuthState=P,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var p=this;return new Promise(function(){var g=(0,h.Z)(function*(w,A){p.pendingPromise={resolve:w,reject:A};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(P){p.reject(P)}});return function(w,A){return g.apply(this,arguments)}}())}onAuthEvent(p){var g=this;return(0,h.Z)(function*(){const{urlResponse:w,sessionId:A,postBody:P,tenantId:te,error:xe,type:Xe}=p;if(xe)return void g.reject(xe);const ft={auth:g.auth,requestUri:w,sessionId:A,tenantId:te||void 0,postBody:P||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Xe)(ft))}catch(At){g.reject(At)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return eu;case"linkViaPopup":case"linkViaRedirect":return Mc;case"reauthViaPopup":case"reauthViaRedirect":return Pt;default:Ge(this.auth,"internal-error")}}resolve(p){De(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){De(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const tu=new Ke(2e3,1e4);function ma(_,p,g){return xc.apply(this,arguments)}function xc(){return(xc=(0,h.Z)(function*(_,p,g){const w=Ue(_);Ie(_,p,Ds);const A=Vi(w,g);return new ru(w,"signInViaPopup",p,A).executeNotNull()})).apply(this,arguments)}function Rc(_,p,g){return ar.apply(this,arguments)}function ar(){return(ar=(0,h.Z)(function*(_,p,g){const w=(0,L.m9)(_);Ie(w.auth,p,Ds);const A=Vi(w.auth,g);return new ru(w.auth,"reauthViaPopup",p,A,w).executeNotNull()})).apply(this,arguments)}function Ju(_,p,g){return nu.apply(this,arguments)}function nu(){return(nu=(0,h.Z)(function*(_,p,g){const w=(0,L.m9)(_);Ie(w.auth,p,Ds);const A=Vi(w.auth,g);return new ru(w.auth,"linkViaPopup",p,A,w).executeNotNull()})).apply(this,arguments)}let ru=(()=>{class _ extends Lr{constructor(g,w,A,P,te){super(g,w,P,te),this.provider=A,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var g=this;return(0,h.Z)(function*(){const w=yield g.execute();return X(w,g.auth,"internal-error"),w})()}onExecution(){var g=this;return(0,h.Z)(function*(){De(1===g.filter.length,"Popup operations only handle one event");const w=xo();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],w),g.authWindow.associatedEvent=w,g.resolver._originValidation(g.auth).catch(A=>{g.reject(A)}),g.resolver._isIframeWebStorageSupported(g.auth,A=>{A||g.reject(Se(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(Se(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const g=()=>{var w,A;this.pollId=(null===(A=null===(w=this.authWindow)||void 0===w?void 0:w.window)||void 0===A?void 0:A.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Se(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,tu.get())};g()}}return _.currentPopupAction=null,_})();const Cn=new Map;class Kn extends Lr{constructor(p,g,w=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,w),this.eventId=null}execute(){var p=()=>super.execute,g=this;return(0,h.Z)(function*(){let w=Cn.get(g.auth._key());if(!w){try{const P=(yield function Xu(_,p){return nh.apply(this,arguments)}(g.resolver,g.auth))?yield p().call(g):null;w=()=>Promise.resolve(P)}catch(A){w=()=>Promise.reject(A)}Cn.set(g.auth._key(),w)}return g.bypassAuthState||Cn.set(g.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(p){var g=()=>super.onAuthEvent,w=this;return(0,h.Z)(function*(){if("signInViaRedirect"===p.type)return g().call(w,p);if("unknown"!==p.type){if(p.eventId){const A=yield w.auth._redirectUserForId(p.eventId);if(A)return w.user=A,g().call(w,p);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,h.Z)(function*(){})()}cleanUp(){}}function nh(){return(nh=(0,h.Z)(function*(_,p){const g=b(p),w=D(_);if(!(yield w._isAvailable()))return!1;const A="true"===(yield w._get(g));return yield w._remove(g),A})).apply(this,arguments)}function ss(_,p){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,h.Z)(function*(_,p){return D(_)._set(b(p),"true")})).apply(this,arguments)}function iu(){Cn.clear()}function el(_,p){Cn.set(_._key(),p)}function D(_){return ee(_._redirectPersistence)}function b(_){return vt("pendingRedirect",_.config.apiKey,_.name)}function M(_,p,g){return function F(_,p,g){return K.apply(this,arguments)}(_,p,g)}function K(){return(K=(0,h.Z)(function*(_,p,g){const w=Ue(_);Ie(_,p,Ds);const A=Vi(w,g);return yield ss(A,w),A._openRedirect(w,p,"signInViaRedirect")})).apply(this,arguments)}function Y(_,p,g){return function Fe(_,p,g){return ze.apply(this,arguments)}(_,p,g)}function ze(){return(ze=(0,h.Z)(function*(_,p,g){const w=(0,L.m9)(_);Ie(w.auth,p,Ds);const A=Vi(w.auth,g);yield ss(A,w.auth);const P=yield Ps(w);return A._openRedirect(w.auth,p,"reauthViaRedirect",P)})).apply(this,arguments)}function pt(_,p,g){return function bt(_,p,g){return $t.apply(this,arguments)}(_,p,g)}function $t(){return($t=(0,h.Z)(function*(_,p,g){const w=(0,L.m9)(_);Ie(w.auth,p,Ds);const A=Vi(w.auth,g);yield bs(!1,w,p.providerId),yield ss(A,w.auth);const P=yield Ps(w);return A._openRedirect(w.auth,p,"linkViaRedirect",P)})).apply(this,arguments)}function Et(_,p){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,h.Z)(function*(_,p){return yield Ue(_)._initializationPromise,Tn(_,p,!1)})).apply(this,arguments)}function Tn(_,p){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,h.Z)(function*(_,p,g=!1){const w=Ue(_),A=Vi(w,p),te=yield new Kn(w,A,g).execute();return te&&!g&&(delete te.user._redirectEventId,yield w._persistUserIfCurrent(te.user),yield w._setRedirectUser(null,p)),te})).apply(this,arguments)}function Ps(_){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,h.Z)(function*(_){const p=xo(`${_.uid}:::`);return _._redirectEventId=p,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),p})).apply(this,arguments)}class Qr{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let g=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(p,w)&&(g=!0,this.sendToConsumer(p,w),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function Oc(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Nc(_);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=p,g=!0)),g}sendToConsumer(p,g){var w;if(p.error&&!Nc(p)){const A=(null===(w=p.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";g.onError(Se(this.auth,A))}else g.onAuthEvent(p)}isEventForConsumer(p,g){const w=null===g.eventId||!!p.eventId&&p.eventId===g.eventId;return g.filter.includes(p.type)&&w}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(jo(p))}saveEventToCache(p){this.cachedEventUids.add(jo(p)),this.lastProcessedEventTime=Date.now()}}function jo(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(p=>p).join("-")}function Nc({type:_,error:p}){return"unknown"===_&&"auth/no-auth-event"===(null==p?void 0:p.code)}function tl(_){return Pc.apply(this,arguments)}function Pc(){return(Pc=(0,h.Z)(function*(_,p={}){return Zt(_,"GET","/v1/projects",p)})).apply(this,arguments)}const hm=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,kc=/^https?/;function ya(){return(ya=(0,h.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:p}=yield tl(_);for(const g of p)try{if(fm(g))return}catch(w){}Ge(_,"unauthorized-domain")})).apply(this,arguments)}function fm(_){const p=le(),{protocol:g,hostname:w}=new URL(p);if(_.startsWith("chrome-extension://")){const te=new URL(_);return""===te.hostname&&""===w?"chrome-extension:"===g&&_.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===g&&te.hostname===w}if(!kc.test(g))return!1;if(hm.test(_))return w===_;const A=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+A+"|"+A+")$","i").test(w)}const Sv=new Ke(3e4,6e4);function rh(){const _=pn().___jsl;if(null==_?void 0:_.H)for(const p of Object.keys(_.H))if(_.H[p].r=_.H[p].r||[],_.H[p].L=_.H[p].L||[],_.H[p].r=[..._.H[p].L],_.CP)for(let g=0;g<_.CP.length;g++)_.CP[g]=null}let nl=null;function ih(_){return nl=nl||function tp(_){return new Promise((p,g)=>{var w,A,P;function te(){rh(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{rh(),g(Se(_,"network-request-failed"))},timeout:Sv.get()})}if(null===(A=null===(w=pn().gapi)||void 0===w?void 0:w.iframes)||void 0===A?void 0:A.Iframe)p(gapi.iframes.getContext());else{if(!(null===(P=pn().gapi)||void 0===P?void 0:P.load)){const xe=eo("iframefcb");return pn()[xe]=()=>{gapi.load?te():g(Se(_,"network-request-failed"))},xs(`https://apis.google.com/js/api.js?onload=${xe}`).catch(Xe=>g(Xe))}te()}}).catch(p=>{throw nl=null,p})}(_),nl}const no=new Ke(5e3,15e3),Fc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},au=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function uu(_){const p=_.config;X(p.authDomain,_,"auth-domain-config-required");const g=p.emulator?on(p,"emulator/auth/iframe"):`https://${_.config.authDomain}/__/auth/iframe`,w={apiKey:p.apiKey,appName:_.name,v:R.SDK_VERSION},A=au.get(_.config.apiHost);A&&(w.eid=A);const P=_._getFrameworks();return P.length&&(w.fw=P.join(",")),`${g}?${(0,L.xO)(w).slice(1)}`}function rp(){return rp=(0,h.Z)(function*(_){const p=yield ih(_),g=pn().gapi;return X(g,_,"internal-error"),p.open({where:document.body,url:uu(_),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Fc,dontclear:!0},w=>new Promise(function(){var A=(0,h.Z)(function*(P,te){yield w.restyle({setHideOnLeave:!1});const xe=Se(_,"network-request-failed"),Xe=pn().setTimeout(()=>{te(xe)},no.get());function ft(){pn().clearTimeout(Xe),P(w)}w.ping(ft).then(ft,()=>{te(xe)})});return function(P,te){return A.apply(this,arguments)}}()))}),rp.apply(this,arguments)}const _a={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class il{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(p){}}}function oh(_,p,g,w,A,P){X(_.config.authDomain,_,"auth-domain-config-required"),X(_.config.apiKey,_,"invalid-api-key");const te={apiKey:_.config.apiKey,appName:_.name,authType:g,redirectUrl:w,v:R.SDK_VERSION,eventId:A};if(p instanceof Ds){p.setDefaultLanguage(_.languageCode),te.providerId=p.providerId||"",(0,L.xb)(p.getCustomParameters())||(te.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Xe,ft]of Object.entries(P||{}))te[Xe]=ft}if(p instanceof ai){const Xe=p.getScopes().filter(ft=>""!==ft);Xe.length>0&&(te.scopes=Xe.join(","))}_.tenantId&&(te.tid=_.tenantId);const xe=te;for(const Xe of Object.keys(xe))void 0===xe[Xe]&&delete xe[Xe];return`${function os({config:_}){return _.emulator?on(_,"emulator/auth/handler"):`https://${_.authDomain}/__/auth/handler`}(_)}?${(0,L.xO)(xe).slice(1)}`}const as="webStorageSupport",ip=class ah{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Pr,this._completeRedirectFn=Tn,this._overrideRedirectResult=el}_openPopup(p,g,w,A){var P=this;return(0,h.Z)(function*(){var te;De(null===(te=P.eventManagers[p._key()])||void 0===te?void 0:te.manager,"_initialize() not called before _openPopup()");const xe=oh(p,g,w,le(),A);return function pm(_,p,g,w=500,A=600){const P=Math.max((window.screen.availHeight-A)/2,0).toString(),te=Math.max((window.screen.availWidth-w)/2,0).toString();let xe="";const Xe=Object.assign(Object.assign({},_a),{width:w.toString(),height:A.toString(),top:P,left:te}),ft=(0,L.z$)().toLowerCase();g&&(xe=Te(ft)?"_blank":g),q(ft)&&(p=p||"http://localhost",Xe.scrollbars="yes");const At=Object.entries(Xe).reduce((Bi,[Fs,lu])=>`${Bi}${Fs}=${lu},`,"");if(function zr(_=(0,L.z$)()){var p;return kt(_)&&!!(null===(p=window.navigator)||void 0===p?void 0:p.standalone)}(ft)&&"_self"!==xe)return function sl(_,p){const g=document.createElement("a");g.href=_,g.target=p;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(w)}(p||"",xe),new il(null);const kn=window.open(p||"",xe,At);X(kn,_,"popup-blocked");try{kn.focus()}catch(Bi){}return new il(kn)}(p,xe,xo())})()}_openRedirect(p,g,w,A){var P=this;return(0,h.Z)(function*(){return yield P._originValidation(p),function bc(_){pn().location.href=_}(oh(p,g,w,le(),A)),new Promise(()=>{})})()}_initialize(p){const g=p._key();if(this.eventManagers[g]){const{manager:A,promise:P}=this.eventManagers[g];return A?Promise.resolve(A):(De(P,"If manager is not set, promise should be"),P)}const w=this.initAndGetManager(p);return this.eventManagers[g]={promise:w},w.catch(()=>{delete this.eventManagers[g]}),w}initAndGetManager(p){var g=this;return(0,h.Z)(function*(){const w=yield function np(_){return rp.apply(this,arguments)}(p),A=new Qr(p);return w.register("authEvent",P=>(X(null==P?void 0:P.authEvent,p,"invalid-auth-event"),{status:A.onEvent(P.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[p._key()]={manager:A},g.iframes[p._key()]=w,A})()}_isIframeWebStorageSupported(p,g){this.iframes[p._key()].send(as,{type:as},A=>{var P;const te=null===(P=null==A?void 0:A[0])||void 0===P?void 0:P[as];void 0!==te&&g(!!te),Ge(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function su(_){return ya.apply(this,arguments)}(p)),this.originValidationPromises[g]}get _shouldInitProactively(){return wr()||G()||kt()}};class sp extends class ym{constructor(p){this.factorId=p}_process(p,g,w){switch(g.type){case"enroll":return this._finalizeEnroll(p,g.credential,w);case"signin":return this._finalizeSignIn(p,g.credential);default:return ce("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new sp(p)}_finalizeEnroll(p,g,w){return function wc(_,p){return Zt(_,"POST","/v2/accounts/mfaEnrollment:finalize",Ut(_,p))}(p,{idToken:g,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,g){return function pr(_,p){return Zt(_,"POST","/v2/accounts/mfaSignIn:finalize",Ut(_,p))}(p,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let op=(()=>{class _{constructor(){}static assertion(g){return sp._fromCredential(g)}}return _.FACTOR_ID="phone",_})();var _m="@firebase/auth";class vm{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var g=this;return(0,h.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const g=this.auth.onIdTokenChanged(w=>{var A;p((null===(A=w)||void 0===A?void 0:A.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,g),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const g=this.internalListeners.get(p);!g||(this.internalListeners.delete(p),g(),this.updateProactiveRefresh())}assertAuthConfigured(){X(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}!function Bc(_){(0,R._registerComponent)(new ge.wA("auth",(p,{options:g})=>{const w=p.getProvider("app").getImmediate(),A=p.getProvider("heartbeat"),{apiKey:P,authDomain:te}=w.options;return((xe,Xe)=>{X(P&&!P.includes(":"),"invalid-api-key",{appName:xe.name}),X(!(null==te?void 0:te.includes(":")),"argument-error",{appName:xe.name});const ft={apiKey:P,authDomain:te,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rr(_)},At=new qr(xe,Xe,ft);return function _e(_,p){const g=(null==p?void 0:p.persistence)||[],w=(Array.isArray(g)?g:[g]).map(ee);(null==p?void 0:p.errorMap)&&_._updateErrorMap(p.errorMap),_._initializeWithPersistence(w,null==p?void 0:p.popupRedirectResolver)}(At,g),At})(w,A)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,g,w)=>{p.getProvider("auth-internal").initialize()})),(0,R._registerComponent)(new ge.wA("auth-internal",p=>{const g=Ue(p.getProvider("auth").getImmediate());return new vm(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,R.registerVersion)(_m,"0.20.1",function ap(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,R.registerVersion)(_m,"0.20.1","esm2017")}("Browser")},2090:(nt,be,O)=>{O.d(be,{$s:()=>Bt,BH:()=>We,G6:()=>X,L:()=>ae,LL:()=>le,Mn:()=>Ie,Sg:()=>Ae,UG:()=>pe,US:()=>ge,ZB:()=>U,ZR:()=>_e,b$:()=>Ge,d:()=>Se,eu:()=>De,hl:()=>ce,jU:()=>Ce,m9:()=>an,ne:()=>Ai,pd:()=>fi,r3:()=>Ut,ru:()=>qe,tV:()=>me,uI:()=>je,vZ:()=>vr,w1:()=>Me,xO:()=>Ti,xb:()=>vn,z$:()=>ke,zI:()=>Z,zd:()=>ni});const se=function(V){const H=[];let z=0;for(let Ee=0;Ee<V.length;Ee++){let B=V.charCodeAt(Ee);B<128?H[z++]=B:B<2048?(H[z++]=B>>6|192,H[z++]=63&B|128):55296==(64512&B)&&Ee+1<V.length&&56320==(64512&V.charCodeAt(Ee+1))?(B=65536+((1023&B)<<10)+(1023&V.charCodeAt(++Ee)),H[z++]=B>>18|240,H[z++]=B>>12&63|128,H[z++]=B>>6&63|128,H[z++]=63&B|128):(H[z++]=B>>12|224,H[z++]=B>>6&63|128,H[z++]=63&B|128)}return H},ge={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(V,H){if(!Array.isArray(V))throw Error("encodeByteArray takes an array as a parameter");this.init_();const z=H?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ee=[];for(let B=0;B<V.length;B+=3){const Q=V[B],Oe=B+1<V.length,et=Oe?V[B+1]:0,dt=B+2<V.length,Mt=dt?V[B+2]:0;let jn=(15&et)<<2|Mt>>6,ue=63&Mt;dt||(ue=64,Oe||(jn=64)),Ee.push(z[Q>>2],z[(3&Q)<<4|et>>4],z[jn],z[ue])}return Ee.join("")},encodeString(V,H){return this.HAS_NATIVE_SUPPORT&&!H?btoa(V):this.encodeByteArray(se(V),H)},decodeString(V,H){return this.HAS_NATIVE_SUPPORT&&!H?atob(V):function(V){const H=[];let z=0,Ee=0;for(;z<V.length;){const B=V[z++];if(B<128)H[Ee++]=String.fromCharCode(B);else if(B>191&&B<224){const Q=V[z++];H[Ee++]=String.fromCharCode((31&B)<<6|63&Q)}else if(B>239&&B<365){const dt=((7&B)<<18|(63&V[z++])<<12|(63&V[z++])<<6|63&V[z++])-65536;H[Ee++]=String.fromCharCode(55296+(dt>>10)),H[Ee++]=String.fromCharCode(56320+(1023&dt))}else{const Q=V[z++],Oe=V[z++];H[Ee++]=String.fromCharCode((15&B)<<12|(63&Q)<<6|63&Oe)}}return H.join("")}(this.decodeStringToByteArray(V,H))},decodeStringToByteArray(V,H){this.init_();const z=H?this.charToByteMapWebSafe_:this.charToByteMap_,Ee=[];for(let B=0;B<V.length;){const Q=z[V.charAt(B++)],et=B<V.length?z[V.charAt(B)]:0;++B;const Mt=B<V.length?z[V.charAt(B)]:64;++B;const vt=B<V.length?z[V.charAt(B)]:64;if(++B,null==Q||null==et||null==Mt||null==vt)throw Error();Ee.push(Q<<2|et>>4),64!==Mt&&(Ee.push(et<<4&240|Mt>>2),64!==vt&&Ee.push(Mt<<6&192|vt))}return Ee},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let V=0;V<this.ENCODED_VALS.length;V++)this.byteToCharMap_[V]=this.ENCODED_VALS.charAt(V),this.charToByteMap_[this.byteToCharMap_[V]]=V,this.byteToCharMapWebSafe_[V]=this.ENCODED_VALS_WEBSAFE.charAt(V),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[V]]=V,V>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(V)]=V,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(V)]=V)}}},ae=function(V){return function(V){const H=se(V);return ge.encodeByteArray(H,!0)}(V).replace(/\./g,"")},me=function(V){try{return ge.decodeString(V,!0)}catch(H){console.error("base64Decode failed: ",H)}return null};function U(V,H){if(!(H instanceof Object))return H;switch(H.constructor){case Date:return new Date(H.getTime());case Object:void 0===V&&(V={});break;case Array:V=[];break;default:return H}for(const z in H)!H.hasOwnProperty(z)||!re(z)||(V[z]=U(V[z],H[z]));return V}function re(V){return"__proto__"!==V}class We{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((H,z)=>{this.resolve=H,this.reject=z})}wrapCallback(H){return(z,Ee)=>{z?this.reject(z):this.resolve(Ee),"function"==typeof H&&(this.promise.catch(()=>{}),1===H.length?H(z):H(z,Ee))}}}function Ae(V,H){if(V.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ee=H||"demo-project",B=V.iat||0,Q=V.sub||V.user_id;if(!Q)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Oe=Object.assign({iss:`https://securetoken.google.com/${Ee}`,aud:Ee,iat:B,exp:B+3600,auth_time:B,sub:Q,user_id:Q,firebase:{sign_in_provider:"custom",identities:{}}},V);return[ae(JSON.stringify({alg:"none",type:"JWT"})),ae(JSON.stringify(Oe)),""].join(".")}function ke(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function je(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ke())}function pe(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(V){return!1}}function Ce(){return"object"==typeof self&&self.self===self}function qe(){const V="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof V&&void 0!==V.id}function Ge(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Se(){return ke().indexOf("Electron/")>=0}function Me(){const V=ke();return V.indexOf("MSIE ")>=0||V.indexOf("Trident/")>=0}function Ie(){return ke().indexOf("MSAppHost/")>=0}function X(){return!pe()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ce(){return"object"==typeof indexedDB}function De(){return new Promise((V,H)=>{try{let z=!0;const Ee="validate-browser-context-for-indexeddb-analytics-module",B=self.indexedDB.open(Ee);B.onsuccess=()=>{B.result.close(),z||self.indexedDB.deleteDatabase(Ee),V(!0)},B.onupgradeneeded=()=>{z=!1},B.onerror=()=>{var Q;H((null===(Q=B.error)||void 0===Q?void 0:Q.message)||"")}}catch(z){H(z)}})}function Z(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class _e extends Error{constructor(H,z,Ee){super(z),this.code=H,this.customData=Ee,this.name="FirebaseError",Object.setPrototypeOf(this,_e.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,le.prototype.create)}}class le{constructor(H,z,Ee){this.service=H,this.serviceName=z,this.errors=Ee}create(H,...z){const Ee=z[0]||{},B=`${this.service}/${H}`,Q=this.errors[H],Oe=Q?function Le(V,H){return V.replace(ct,(z,Ee)=>{const B=H[Ee];return null!=B?String(B):`<${Ee}?>`})}(Q,Ee):"Error";return new _e(B,`${this.serviceName}: ${Oe} (${B}).`,Ee)}}const ct=/\{\$([^}]+)}/g;function Ut(V,H){return Object.prototype.hasOwnProperty.call(V,H)}function vn(V){for(const H in V)if(Object.prototype.hasOwnProperty.call(V,H))return!1;return!0}function vr(V,H){if(V===H)return!0;const z=Object.keys(V),Ee=Object.keys(H);for(const B of z){if(!Ee.includes(B))return!1;const Q=V[B],Oe=H[B];if(In(Q)&&In(Oe)){if(!vr(Q,Oe))return!1}else if(Q!==Oe)return!1}for(const B of Ee)if(!z.includes(B))return!1;return!0}function In(V){return null!==V&&"object"==typeof V}function Ti(V){const H=[];for(const[z,Ee]of Object.entries(V))Array.isArray(Ee)?Ee.forEach(B=>{H.push(encodeURIComponent(z)+"="+encodeURIComponent(B))}):H.push(encodeURIComponent(z)+"="+encodeURIComponent(Ee));return H.length?"&"+H.join("&"):""}function ni(V){const H={};return V.replace(/^\?/,"").split("&").forEach(Ee=>{if(Ee){const[B,Q]=Ee.split("=");H[decodeURIComponent(B)]=decodeURIComponent(Q)}}),H}function fi(V){const H=V.indexOf("?");if(!H)return"";const z=V.indexOf("#",H);return V.substring(H,z>0?z:void 0)}function Ai(V,H){const z=new ht(V,H);return z.subscribe.bind(z)}class ht{constructor(H,z){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=z,this.task.then(()=>{H(this)}).catch(Ee=>{this.error(Ee)})}next(H){this.forEachObserver(z=>{z.next(H)})}error(H){this.forEachObserver(z=>{z.error(H)}),this.close(H)}complete(){this.forEachObserver(H=>{H.complete()}),this.close()}subscribe(H,z,Ee){let B;if(void 0===H&&void 0===z&&void 0===Ee)throw new Error("Missing Observer.");B=function gn(V,H){if("object"!=typeof V||null===V)return!1;for(const z of H)if(z in V&&"function"==typeof V[z])return!0;return!1}(H,["next","error","complete"])?H:{next:H,error:z,complete:Ee},void 0===B.next&&(B.next=Kt),void 0===B.error&&(B.error=Kt),void 0===B.complete&&(B.complete=Kt);const Q=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?B.error(this.finalError):B.complete()}catch(Oe){}}),this.observers.push(B),Q}unsubscribeOne(H){void 0===this.observers||void 0===this.observers[H]||(delete this.observers[H],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(H){if(!this.finalized)for(let z=0;z<this.observers.length;z++)this.sendOne(z,H)}sendOne(H,z){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[H])try{z(this.observers[H])}catch(Ee){"undefined"!=typeof console&&console.error&&console.error(Ee)}})}close(H){this.finalized||(this.finalized=!0,void 0!==H&&(this.finalError=H),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Kt(){}function Bt(V,H=1e3,z=2){const Ee=H*Math.pow(z,V),B=Math.round(.5*Ee*(Math.random()-.5)*2);return Math.min(144e5,Ee+B)}function an(V){return V&&V._delegate?V._delegate:V}},6897:(nt,be,O)=>{var h=O(5e3);let L=null;function R(){return L}const de=new h.OlP("DocumentToken");let ae=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return function me(){return(0,h.LFG)(U)}()},providedIn:"platform"}),n})();const $=new h.OlP("Location Initialized");let U=(()=>{class n extends ae{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return R().getBaseHref(this._doc)}onPopState(t){const r=R().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=R().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,o){re()?this._history.pushState(t,r,o):this.location.hash=o}replaceState(t,r,o){re()?this._history.replaceState(t,r,o):this.location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(de))},n.\u0275prov=h.Yz7({token:n,factory:function(){return function We(){return new U((0,h.LFG)(de))}()},providedIn:"platform"}),n})();function re(){return!!window.history.pushState}function Ae(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function ke(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function je(n){return n&&"?"!==n[0]?"?"+n:n}let pe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return function Ce(n){const e=(0,h.LFG)(de).location;return new Ge((0,h.LFG)(ae),e&&e.origin||"")}()},providedIn:"root"}),n})();const qe=new h.OlP("appBaseHref");let Ge=(()=>{class n extends pe{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ae(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+je(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${r}${o}`:r}pushState(t,r,o,u){const d=this.prepareExternalUrl(o+je(u));this._platformLocation.pushState(t,r,d)}replaceState(t,r,o,u){const d=this.prepareExternalUrl(o+je(u));this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformLocation).historyGo)||void 0===o||o.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ae),h.LFG(qe,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),Se=(()=>{class n extends pe{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Ae(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,o,u){let d=this.prepareExternalUrl(o+je(u));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(t,r,d)}replaceState(t,r,o,u){let d=this.prepareExternalUrl(o+je(u));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformLocation).historyGo)||void 0===o||o.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ae),h.LFG(qe,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),Me=(()=>{class n{constructor(t,r){this._subject=new h.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const o=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=ke(X(o)),this._platformStrategy.onPopState(u=>{this._subject.emit({url:this.path(!0),pop:!0,state:u.state,type:u.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+je(r))}normalize(t){return n.stripTrailingSlash(function Ze(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,X(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",o=null){this._platformStrategy.pushState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+je(r)),o)}replaceState(t,r="",o=null){this._platformStrategy.replaceState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+je(r)),o)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformStrategy).historyGo)||void 0===o||o.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(o=>o(t,r))}subscribe(t,r,o){return this._subject.subscribe({next:t,error:r,complete:o})}}return n.normalizeQueryParams=je,n.joinWithSlash=Ae,n.stripTrailingSlash=ke,n.\u0275fac=function(t){return new(t||n)(h.LFG(pe),h.LFG(ae))},n.\u0275prov=h.Yz7({token:n,factory:function(){return function Ie(){return new Me((0,h.LFG)(pe),(0,h.LFG)(ae))}()},providedIn:"root"}),n})();function X(n){return n.replace(/\/index.html$/,"")}class vo{constructor(e,t,r,o){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Rn=(()=>{class n{constructor(t,r,o){this._viewContainer=t,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((o,u,d)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new vo(o.item,this._ngForOf,-1,-1),null===d?void 0:d);else if(null==d)r.remove(null===u?void 0:u);else if(null!==u){const m=r.get(u);r.move(m,d),ws(m,o)}});for(let o=0,u=r.length;o<u;o++){const m=r.get(o).context;m.index=o,m.count=u,m.ngForOf=this._ngForOf}t.forEachIdentityChange(o=>{ws(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.s_b),h.Y36(h.Rgc),h.Y36(h.ZZ4))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function ws(n,e){n.context.$implicit=e.item}let hr=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new un,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Xl("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Xl("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.s_b),h.Y36(h.Rgc))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class un{constructor(){this.$implicit=null,this.ngIf=null}}function Xl(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,h.AaK)(e)}'.`)}let zs=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();function Dr(n){return"server"===n}let $a=(()=>{class n{}return n.\u0275prov=(0,h.Yz7)({token:n,providedIn:"root",factory:()=>new Ha((0,h.LFG)(de),window)}),n})();class Ha{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Ji(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const u=o.shadowRoot;if(u){const d=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(d)return d}o=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,o=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],o-u[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Bu(this.window.history)||Bu(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function Bu(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class bs extends class ia extends class ge{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function oe(n){L||(L=n)}(new bs)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Ga(){return ln=ln||document.querySelector("base"),ln?ln.getAttribute("href"):null}();return null==t?null:function qs(n){sa=sa||document.createElement("a"),sa.setAttribute("href",n);const e=sa.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){ln=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function mo(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[o,u]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===e)return decodeURIComponent(u)}return null}(document.cookie,e)}}let sa,ln=null;const ir=new h.OlP("TRANSITION_ID"),Nn=[{provide:h.ip1,useFactory:function za(n,e,t){return()=>{t.get(h.CZH).donePromise.then(()=>{const r=R(),o=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let u=0;u<o.length;u++)r.remove(o[u])})}},deps:[ir,de,h.zs3],multi:!0}];class Xi{static init(){(0,h.VLi)(new Xi)}addToWindow(e){h.dqk.getAngularTestability=(r,o=!0)=>{const u=e.findTestabilityInTree(r,o);if(null==u)throw new Error("Could not find testability for element.");return u},h.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),h.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),h.dqk.frameworkStabilizers||(h.dqk.frameworkStabilizers=[]),h.dqk.frameworkStabilizers.push(r=>{const o=h.dqk.getAllAngularTestabilities();let u=o.length,d=!1;const m=function(E){d=d||E,u--,0==u&&r(d)};o.forEach(function(E){E.whenStable(m)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const o=e.getTestability(t);return null!=o?o:r?R().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let sr=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const Do=new h.OlP("EventManagerPlugins");let xi=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(o=>o.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,o){return this._findPluginFor(r).addEventListener(t,r,o)}addGlobalEventListener(t,r,o){return this._findPluginFor(r).addGlobalEventListener(t,r,o)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const o=this._plugins;for(let u=0;u<o.length;u++){const d=o[u];if(d.supports(t))return this._eventNameToPlugin.set(t,d),d}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Do),h.LFG(h.R0b))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class $u{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const o=R().getGlobalEventTarget(this._doc,e);if(!o)throw new Error(`Unsupported event target ${o} for event ${t}`);return this.addEventListener(o,t,r)}}let Wr=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),r.add(o))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),Cs=(()=>{class n extends Wr{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,o){t.forEach(u=>{const d=this._doc.createElement("style");d.textContent=u,o.push(r.appendChild(d))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Ts),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,o)=>{this._addStylesToHost(t,o,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Ts))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(de))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function Ts(n){R().remove(n)}const mt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ws=/%COMP%/g;function As(n,e,t){for(let r=0;r<e.length;r++){let o=e[r];Array.isArray(o)?As(n,o,t):(o=o.replace(Ws,n),t.push(o))}return t}function Re(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Wa=(()=>{class n{constructor(t,r,o){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new mn(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case h.ifc.Emulated:{let o=this.rendererByCompId.get(r.id);return o||(o=new Ri(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,o)),o.applyToHost(t),o}case 1:case h.ifc.ShadowDom:return new Hu(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const o=As(r.id,r.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(xi),h.LFG(Cs),h.LFG(h.AFp))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class mn{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(mt[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,o){if(o){t=o+":"+t;const u=mt[o];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const o=mt[r];o?e.removeAttributeNS(o,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,o){o&(h.JOm.DashCase|h.JOm.Important)?e.style.setProperty(t,r,o&h.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&h.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Re(r)):this.eventManager.addEventListener(e,t,Re(r))}}class Ri extends mn{constructor(e,t,r,o){super(e),this.component=r;const u=As(o+"-"+r.id,r.styles,[]);t.addStyles(u),this.contentAttr=function bo(n){return"_ngcontent-%COMP%".replace(Ws,n)}(o+"-"+r.id),this.hostAttr=function qd(n){return"_nghost-%COMP%".replace(Ws,n)}(o+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class Hu extends mn{constructor(e,t,r,o){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=As(o.id,o.styles,[]);for(let d=0;d<u.length;d++){const m=document.createElement("style");m.textContent=u[d],this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let aa=(()=>{class n extends $u{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o){return t.addEventListener(r,o,!1),()=>this.removeEventListener(t,r,o)}removeEventListener(t,r,o){return t.removeEventListener(r,o)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(de))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const Wd=["alt","control","meta","shift"],pc={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Zs={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},or={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Ni=(()=>{class n extends $u{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,o){const u=n.parseEventName(r),d=n.eventCallback(u.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>R().onAndCancel(t,u.domEventName,d))}static parseEventName(t){const r=t.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const u=n._normalizeKey(r.pop());let d="";if(Wd.forEach(E=>{const C=r.indexOf(E);C>-1&&(r.splice(C,1),d+=E+".")}),d+=u,0!=r.length||0===u.length)return null;const m={};return m.domEventName=o,m.fullKey=d,m}static getEventFullKey(t){let r="",o=function Co(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&Zs.hasOwnProperty(e)&&(e=Zs[e]))}return pc[e]||e}(t);return o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),Wd.forEach(u=>{u!=o&&or[u](t)&&(r+=u+".")}),r+=o,r}static eventCallback(t,r,o){return u=>{n.getEventFullKey(u)===t&&o.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(de))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const gc=(0,h.eFA)(h._c5,"browser",[{provide:h.Lbi,useValue:"browser"},{provide:h.g9A,useValue:function To(){bs.makeCurrent(),Xi.init()},multi:!0},{provide:de,useFactory:function Zd(){return(0,h.RDi)(document),document},deps:[]}]),ua=[{provide:h.zSh,useValue:"root"},{provide:h.qLn,useFactory:function Zr(){return new h.qLn},deps:[]},{provide:Do,useClass:aa,multi:!0,deps:[de,h.R0b,h.Lbi]},{provide:Do,useClass:Ni,multi:!0,deps:[de]},{provide:Wa,useClass:Wa,deps:[xi,Cs,h.AFp]},{provide:h.FYo,useExisting:Wa},{provide:Wr,useExisting:Cs},{provide:Cs,useClass:Cs,deps:[de]},{provide:h.dDg,useClass:h.dDg,deps:[h.R0b]},{provide:xi,useClass:xi,deps:[Do,h.R0b]},{provide:class fn{},useClass:sr,deps:[]}];let Gu=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:h.AFp,useValue:t.appId},{provide:ir,useExisting:h.AFp},Nn]}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(n,12))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:ua,imports:[zs,h.hGG]}),n})();"undefined"!=typeof window&&window;var bn=O(8996),Ka=O(7669);function ut(...n){const e=(0,Ka.yG)(n);return(0,bn.D)(n,e)}var Oi=O(7579);class Pr extends Oi.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var mi=O(8306);const{isArray:fa}=Array,{getPrototypeOf:xo,prototype:Dc,keys:pn}=Object;function bc(n){if(1===n.length){const e=n[0];if(fa(e))return{args:e,keys:null};if(function Pi(n){return n&&"object"==typeof n&&xo(n)===Dc}(e)){const t=pn(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Ss=O(4671),Dt=O(4004);const{isArray:Xf}=Array;function Ya(n){return(0,Dt.U)(e=>function Cc(n,e){return Xf(e)?n(...e):n(e)}(n,e))}function Tc(n,e){return n.reduce((t,r,o)=>(t[r]=e[o],t),{})}var Gn=O(5403),Ro=O(9672);function Yr(n,e,t){n?(0,Ro.f)(t,n,e):e()}var is=O(576);function Oo(n,e){const t=(0,is.m)(n)?n:()=>n,r=o=>o.error(t());return new mi.y(e?o=>e.schedule(r,0,o):r)}const Po=(0,O(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Ms=O(8189);function pa(...n){return function Xs(){return(0,Ms.J)(1)}()((0,bn.D)(n,(0,Ka.yG)(n)))}var Ku=O(8421);function Qa(n){return new mi.y(e=>{(0,Ku.Xf)(n()).subscribe(e)})}var yi=O(515),Ac=O(727),pr=O(4482);function Yu(){return(0,pr.e)((n,e)=>{let t=null;n._refCount++;const r=(0,Gn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const o=n._connection,u=t;t=null,o&&(!u||o===u)&&o.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class ki extends mi.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,pr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ac.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Gn.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ac.w0.EMPTY)}return e}refCount(){return Yu()(this)}}function gr(n,e){return(0,pr.e)((t,r)=>{let o=null,u=0,d=!1;const m=()=>d&&!o&&r.complete();t.subscribe((0,Gn.x)(r,E=>{null==o||o.unsubscribe();let C=0;const x=u++;(0,Ku.Xf)(n(E,x)).subscribe(o=(0,Gn.x)(r,N=>r.next(e?e(E,N,x,C++):N),()=>{o=null,m()}))},()=>{d=!0,m()}))})}var xs=O(5698);function eo(...n){const e=(0,Ka.yG)(n);return(0,pr.e)((t,r)=>{(e?pa(n,t,e):pa(n,t)).subscribe(r)})}function Rs(n,e,t,r,o){return(u,d)=>{let m=t,E=e,C=0;u.subscribe((0,Gn.x)(d,x=>{const N=C++;E=m?n(E,x,N):(m=!0,x),r&&d.next(E)},o&&(()=>{m&&d.next(E),d.complete()})))}}function Fi(n,e){return(0,pr.e)(Rs(n,e,arguments.length>=2,!0))}function zn(n,e){return(0,pr.e)((t,r)=>{let o=0;t.subscribe((0,Gn.x)(r,u=>n.call(e,u,o++)&&r.next(u)))})}function Ns(n){return(0,pr.e)((e,t)=>{let u,r=null,o=!1;r=e.subscribe((0,Gn.x)(t,void 0,void 0,d=>{u=(0,Ku.Xf)(n(d,Ns(n)(e))),r?(r.unsubscribe(),r=null,u.subscribe(t)):o=!0})),o&&(r.unsubscribe(),r=null,u.subscribe(t))})}var Zn=O(5577);function Li(n,e){return(0,is.m)(e)?(0,Zn.z)(n,e,1):(0,Zn.z)(n,1)}function ko(n){return n<=0?()=>yi.E:(0,pr.e)((e,t)=>{let r=[];e.subscribe((0,Gn.x)(t,o=>{r.push(o),n<r.length&&r.shift()},()=>{for(const o of r)t.next(o);t.complete()},void 0,()=>{r=null}))})}function Jd(n=On){return(0,pr.e)((e,t)=>{let r=!1;e.subscribe((0,Gn.x)(t,o=>{r=!0,t.next(o)},()=>r?t.complete():t.error(n())))})}function On(){return new Po}function Xd(n){return(0,pr.e)((e,t)=>{let r=!1;e.subscribe((0,Gn.x)(t,o=>{r=!0,t.next(o)},()=>{r||t.next(n),t.complete()}))})}function Fo(n,e){const t=arguments.length>=2;return r=>r.pipe(n?zn((o,u)=>n(o,u,r)):Ss.y,(0,xs.q)(1),t?Xd(e):Jd(()=>new Po))}var kr=O(8505);class Os{constructor(e,t){this.id=e,this.url=t}}class Sc extends Os{constructor(e,t,r="imperative",o=null){super(e,t),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class _i extends Os{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class th extends Os{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Pn extends Os{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Qu extends Os{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Lo extends Os{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ep extends Os{constructor(e,t,r,o,u){super(e,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=u}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ja extends Os{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class br extends Os{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fr{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Xa{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Vo{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class to{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Vi{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ga{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class eu{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Pt="primary";class Mc{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function vi(n){return new Mc(n)}const Lr="ngNavigationCancelingError";function tu(n){const e=Error("NavigationCancelingError: "+n);return e[Lr]=!0,e}function xc(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const o={};for(let u=0;u<r.length;u++){const d=r[u],m=n[u];if(d.startsWith(":"))o[d.substring(1)]=m;else if(d!==m.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function ar(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let u=0;u<t.length;u++)if(o=t[u],!Ju(n[o],e[o]))return!1;return!0}function Ju(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((o,u)=>r[u]===o)}return n===e}function nu(n){return Array.prototype.concat.apply([],n)}function ru(n){return n.length>0?n[n.length-1]:null}function Cn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Kn(n){return(0,h.CqO)(n)?n:(0,h.QGY)(n)?(0,bn.D)(Promise.resolve(n)):ut(n)}const nh={exact:function el(n,e,t){if(!pt(n.segments,e.segments)||!F(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!el(n.children[r],e.children[r],t))return!1;return!0},subset:b},ss={exact:function iu(n,e){return ar(n,e)},subset:function D(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Ju(n[t],e[t]))},ignored:()=>!0};function Bo(n,e,t){return nh[t.paths](n.root,e.root,t.matrixParams)&&ss[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function b(n,e,t){return M(n,e,e.segments,t)}function M(n,e,t,r){if(n.segments.length>t.length){const o=n.segments.slice(0,t.length);return!(!pt(o,t)||e.hasChildren()||!F(o,t,r))}if(n.segments.length===t.length){if(!pt(n.segments,t)||!F(n.segments,t,r))return!1;for(const o in e.children)if(!n.children[o]||!b(n.children[o],e.children[o],r))return!1;return!0}{const o=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(pt(n.segments,o)&&F(n.segments,o,r)&&n.children[Pt])&&M(n.children[Pt],e,u,r)}}function F(n,e,t){return e.every((r,o)=>ss[t](n[o].parameters,r.parameters))}class K{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=vi(this.queryParams)),this._queryParamMap}toString(){return Vr.serialize(this)}}class Y{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Cn(t,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Tn(this)}}class Fe{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=vi(this.parameters)),this._parameterMap}toString(){return Oc(this)}}function pt(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class $t{}class Et{parse(e){const t=new rh(e);return new K(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Ui(e.root,!0)}`,r=function Pc(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(o=>`${Ur(t)}=${Ur(o)}`).join("&"):`${Ur(t)}=${Ur(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function ks(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Vr=new Et;function Tn(n){return n.segments.map(e=>Oc(e)).join("/")}function Ui(n,e){if(!n.hasChildren())return Tn(n);if(e){const t=n.children[Pt]?Ui(n.children[Pt],!1):"",r=[];return Cn(n.children,(o,u)=>{u!==Pt&&r.push(`${u}:${Ui(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function bt(n,e){let t=[];return Cn(n.children,(r,o)=>{o===Pt&&(t=t.concat(e(r,o)))}),Cn(n.children,(r,o)=>{o!==Pt&&(t=t.concat(e(r,o)))}),t}(n,(r,o)=>o===Pt?[Ui(n.children[Pt],!1)]:[`${o}:${Ui(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Pt]?`${Tn(n)}/${t[0]}`:`${Tn(n)}/(${t.join("//")})`}}function Ps(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ur(n){return Ps(n).replace(/%3B/gi,";")}function Qr(n){return Ps(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function jo(n){return decodeURIComponent(n)}function Nc(n){return jo(n.replace(/\+/g,"%20"))}function Oc(n){return`${Qr(n.path)}${function tl(n){return Object.keys(n).map(e=>`;${Qr(e)}=${Qr(n[e])}`).join("")}(n.parameters)}`}const hm=/^[^\/()?;=#]+/;function kc(n){const e=n.match(hm);return e?e[0]:""}const su=/^[^=?&#]+/,fm=/^[^&#]+/;class rh{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Y([],{}):new Y([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Pt]=new Y(e,t)),r}parseSegment(){const e=kc(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Fe(jo(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=kc(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=kc(this.remaining);o&&(r=o,this.capture(r))}e[jo(t)]=jo(r)}parseQueryParam(e){const t=function ya(n){const e=n.match(su);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const d=function Sv(n){const e=n.match(fm);return e?e[0]:""}(this.remaining);d&&(r=d,this.capture(r))}const o=Nc(t),u=Nc(r);if(e.hasOwnProperty(o)){let d=e[o];Array.isArray(d)||(d=[d],e[o]=d),d.push(u)}else e[o]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=kc(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new Error(`Cannot parse url '${this.url}'`);let u;r.indexOf(":")>-1?(u=r.substr(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=Pt);const d=this.parseChildren();t[u]=1===Object.keys(d).length?d[Pt]:new Y([],d),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class tp{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=nl(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=nl(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=ih(e,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return ih(e,this._root).map(t=>t.value)}}function nl(n,e){if(n===e.value)return e;for(const t of e.children){const r=nl(n,t);if(r)return r}return null}function ih(n,e){if(n===e.value)return[e];for(const t of e.children){const r=ih(n,t);if(r.length)return r.unshift(e),r}return[]}class no{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function ou(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class rl extends tp{constructor(e,t){super(e),this.snapshot=t,Vc(this,e)}toString(){return this.snapshot.toString()}}function Fc(n,e){const t=function au(n,e){const d=new _a([],{},{},"",{},Pt,e,null,n.root,-1,{});return new Lc("",new no(d,[]))}(n,e),r=new Pr([new Fe("",{})]),o=new Pr({}),u=new Pr({}),d=new Pr({}),m=new Pr(""),E=new uu(r,o,d,m,u,Pt,e,t.root);return E.snapshot=t.root,new rl(new no(E,[]),t)}class uu{constructor(e,t,r,o,u,d,m,E){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=u,this.outlet=d,this.component=m,this._futureSnapshot=E}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Dt.U)(e=>vi(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Dt.U)(e=>vi(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function np(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const o=t[r],u=t[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(u.component)break;r--}}return function rp(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class _a{constructor(e,t,r,o,u,d,m,E,C,x,N){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=u,this.outlet=d,this.component=m,this.routeConfig=E,this._urlSegment=C,this._lastPathIndex=x,this._resolve=N}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=vi(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=vi(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Lc extends tp{constructor(e,t){super(t),this.url=e,Vc(this,t)}toString(){return sh(this._root)}}function Vc(n,e){e.value._routerState=n,e.children.forEach(t=>Vc(n,t))}function sh(n){const e=n.children.length>0?` { ${n.children.map(sh).join(", ")} } `:"";return`${n.value}${e}`}function Uc(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,ar(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),ar(e.params,t.params)||n.params.next(t.params),function Rc(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!ar(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),ar(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function il(n,e){const t=ar(n.params,e.params)&&function ze(n,e){return pt(n,e)&&n.every((t,r)=>ar(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||il(n.parent,e.parent))}function sl(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const o=function gm(n,e,t){return e.children.map(r=>{for(const o of t.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return sl(n,r,o);return sl(n,r)})}(n,e,t);return new no(r,o)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const d=u.route;return d.value._futureSnapshot=e.value,d.children=e.children.map(m=>sl(n,m)),d}}const r=function mm(n){return new uu(new Pr(n.url),new Pr(n.params),new Pr(n.queryParams),new Pr(n.fragment),new Pr(n.data),n.outlet,n.component,n)}(e.value),o=e.children.map(u=>sl(n,u));return new no(r,o)}}function os(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function as(n){return"object"==typeof n&&null!=n&&n.outlets}function ah(n,e,t,r,o){let u={};if(r&&Cn(r,(m,E)=>{u[E]=Array.isArray(m)?m.map(C=>`${C}`):`${m}`}),n===e)return new K(t,u,o);const d=ip(n,e,t);return new K(d,u,o)}function ip(n,e,t){const r={};return Cn(n.children,(o,u)=>{r[u]=o===e?t:ip(o,e,t)}),new Y(n.segments,r)}class ym{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&os(r[0]))throw new Error("Root segment cannot have matrix parameters");const o=r.find(as);if(o&&o!==ru(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class op{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function ap(n,e,t){if(n||(n=new Y([],{})),0===n.segments.length&&n.hasChildren())return Bc(n,e,t);const r=function Mv(n,e,t){let r=0,o=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=t.length)return u;const d=n.segments[o],m=t[r];if(as(m))break;const E=`${m}`,C=r<t.length-1?t[r+1]:null;if(o>0&&void 0===E)break;if(E&&C&&"object"==typeof C&&void 0===C.outlets){if(!w(E,C,d))return u;r+=2}else{if(!w(E,{},d))return u;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,e,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new Y(n.segments.slice(0,r.pathIndex),{});return u.children[Pt]=new Y(n.segments.slice(r.pathIndex),n.children),Bc(u,0,o)}return r.match&&0===o.length?new Y(n.segments,{}):r.match&&!n.hasChildren()?_(n,e,t):r.match?Bc(n,0,o):_(n,e,t)}function Bc(n,e,t){if(0===t.length)return new Y(n.segments,{});{const r=function vm(n){return as(n[0])?n[0].outlets:{[Pt]:n}}(t),o={};return Cn(r,(u,d)=>{"string"==typeof u&&(u=[u]),null!==u&&(o[d]=ap(n.children[d],e,u))}),Cn(n.children,(u,d)=>{void 0===r[d]&&(o[d]=u)}),new Y(n.segments,o)}}function _(n,e,t){const r=n.segments.slice(0,e);let o=0;for(;o<t.length;){const u=t[o];if(as(u)){const E=p(u.outlets);return new Y(r,E)}if(0===o&&os(t[0])){r.push(new Fe(n.segments[e].path,g(t[0]))),o++;continue}const d=as(u)?u.outlets[Pt]:`${u}`,m=o<t.length-1?t[o+1]:null;d&&m&&os(m)?(r.push(new Fe(d,g(m))),o+=2):(r.push(new Fe(d,{})),o++)}return new Y(r,{})}function p(n){const e={};return Cn(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=_(new Y([],{}),0,t))}),e}function g(n){const e={};return Cn(n,(t,r)=>e[r]=`${t}`),e}function w(n,e,t){return n==t.path&&ar(e,t.parameters)}class P{constructor(e,t,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=o}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Uc(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const o=ou(t);e.children.forEach(u=>{const d=u.value.outlet;this.deactivateRoutes(u,o[d],r),delete o[d]}),Cn(o,(u,d)=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const o=e.value,u=t?t.value:null;if(o===u)if(o.component){const d=r.getContext(o.outlet);d&&this.deactivateChildRoutes(e,t,d.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,u=ou(e);for(const d of Object.keys(u))this.deactivateRouteAndItsChildren(u[d],o);if(r&&r.outlet){const d=r.outlet.detach(),m=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:d,route:e,contexts:m})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,u=ou(e);for(const d of Object.keys(u))this.deactivateRouteAndItsChildren(u[d],o);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const o=ou(t);e.children.forEach(u=>{this.activateRoutes(u,o[u.value.outlet],r),this.forwardEvent(new ga(u.value.snapshot))}),e.children.length&&this.forwardEvent(new to(e.value.snapshot))}activateRoutes(e,t,r){const o=e.value,u=t?t.value:null;if(Uc(o),o===u)if(o.component){const d=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,d.children)}else this.activateChildRoutes(e,t,r);else if(o.component){const d=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const m=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),d.children.onOutletReAttached(m.contexts),d.attachRef=m.componentRef,d.route=m.route.value,d.outlet&&d.outlet.attach(m.componentRef,m.route.value),Uc(m.route.value),this.activateChildRoutes(e,null,d.children)}else{const m=function te(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(o.snapshot),E=m?m.module.componentFactoryResolver:null;d.attachRef=null,d.route=o,d.resolver=E,d.outlet&&d.outlet.activateWith(o,E),this.activateChildRoutes(e,null,d.children)}}else this.activateChildRoutes(e,null,r)}}class xe{constructor(e,t){this.routes=e,this.module=t}}function Xe(n){return"function"==typeof n}function At(n){return n instanceof K}const ol=Symbol("INITIAL_VALUE");function cu(){return gr(n=>function rs(...n){const e=(0,Ka.yG)(n),t=(0,Ka.jO)(n),{args:r,keys:o}=bc(n);if(0===r.length)return(0,bn.D)([],e);const u=new mi.y(function No(n,e,t=Ss.y){return r=>{Yr(e,()=>{const{length:o}=n,u=new Array(o);let d=o,m=o;for(let E=0;E<o;E++)Yr(e,()=>{const C=(0,bn.D)(n[E],e);let x=!1;C.subscribe((0,Gn.x)(r,N=>{u[E]=N,x||(x=!0,m--),m||r.next(t(u.slice()))},()=>{--d||r.complete()}))},r)},r)}}(r,e,o?d=>Tc(o,d):Ss.y));return t?u.pipe(Ya(t)):u}(n.map(e=>e.pipe((0,xs.q)(1),eo(ol)))).pipe(Fi((e,t)=>{let r=!1;return t.reduce((o,u,d)=>o!==ol?o:(u===ol&&(r=!0),r||!1!==u&&d!==t.length-1&&!At(u)?o:u),e)},ol),zn(e=>e!==ol),(0,Dt.U)(e=>At(e)?e:!0===e),(0,xs.q)(1)))}class lh{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new du,this.attachRef=null}}class du{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new lh,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let al=(()=>{class n{constructor(t,r,o,u,d){this.parentContexts=t,this.location=r,this.resolver=o,this.changeDetector=d,this.activated=null,this._activatedRoute=null,this.activateEvents=new h.vpe,this.deactivateEvents=new h.vpe,this.attachEvents=new h.vpe,this.detachEvents=new h.vpe,this.name=u||Pt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const d=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),m=this.parentContexts.getOrCreateContext(this.name).children,E=new up(t,m,this.location.injector);this.activated=this.location.createComponent(d,this.location.length,E),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(du),h.Y36(h.s_b),h.Y36(h._Vd),h.$8M("name"),h.Y36(h.sBO))},n.\u0275dir=h.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class up{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===uu?this.route:e===du?this.childContexts:this.parent.get(e,t)}}let ch=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&h._UZ(0,"router-outlet")},directives:[al],encapsulation:2}),n})();function ul(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];ll(r,Em(e,r))}}function ll(n,e){n.children&&ul(n.children,e)}function Em(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function va(n){const e=n.children&&n.children.map(va),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Pt&&(t.component=ch),t}function ji(n){return n.outlet||Pt}function ur(n,e){const t=n.filter(r=>ji(r)===e);return t.push(...n.filter(r=>ji(r)!==e)),t}const xv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function lp(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},xv):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const u=(e.matcher||xc)(t,n,e);if(!u)return Object.assign({},xv);const d={};Cn(u.posParams,(E,C)=>{d[C]=E.path});const m=u.consumed.length>0?Object.assign(Object.assign({},d),u.consumed[u.consumed.length-1].parameters):d;return{matched:!0,consumedSegments:u.consumed,remainingSegments:t.slice(u.consumed.length),parameters:m,positionalParamSegments:null!==(r=u.posParams)&&void 0!==r?r:{}}}function jc(n,e,t,r,o="corrected"){if(t.length>0&&function BI(n,e,t){return t.some(r=>cp(n,e,r)&&ji(r)!==Pt)}(n,t,r)){const d=new Y(e,function UI(n,e,t,r){const o={};o[Pt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const u of t)if(""===u.path&&ji(u)!==Pt){const d=new Y([],{});d._sourceSegment=n,d._segmentIndexShift=e.length,o[ji(u)]=d}return o}(n,e,r,new Y(t,n.children)));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:[]}}if(0===t.length&&function jI(n,e,t){return t.some(r=>cp(n,e,r))}(n,t,r)){const d=new Y(n.segments,function Rv(n,e,t,r,o,u){const d={};for(const m of r)if(cp(n,t,m)&&!o[ji(m)]){const E=new Y([],{});E._sourceSegment=n,E._segmentIndexShift="legacy"===u?n.segments.length:e.length,d[ji(m)]=E}return Object.assign(Object.assign({},o),d)}(n,e,t,r,n.children,o));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:t}}const u=new Y(n.segments,n.children);return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}function cp(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Nv(n,e,t,r){return!!(ji(n)===r||r!==Pt&&cp(e,t,n))&&("**"===n.path||lp(e,n,t).matched)}function $I(n,e,t){return 0===e.length&&!n.children[t]}class wm{constructor(e){this.segmentGroup=e||null}}class $c{constructor(e){this.urlTree=e}}function Cr(n){return Oo(new wm(n))}function dp(n){return Oo(new $c(n))}class dh{constructor(e,t,r,o,u){this.configLoader=t,this.urlSerializer=r,this.urlTree=o,this.config=u,this.allowRedirects=!0,this.ngModule=e.get(h.h0i)}apply(){const e=jc(this.urlTree.root,[],[],this.config).segmentGroup,t=new Y(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Pt).pipe((0,Dt.U)(u=>this.createUrlTree(Dm(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ns(u=>{if(u instanceof $c)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof wm?this.noMatchError(u):u}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Pt).pipe((0,Dt.U)(o=>this.createUrlTree(Dm(o),e.queryParams,e.fragment))).pipe(Ns(o=>{throw o instanceof wm?this.noMatchError(o):o}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const o=e.segments.length>0?new Y([],{[Pt]:e}):e;return new K(o,t,r)}expandSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,Dt.U)(u=>new Y([],u))):this.expandSegment(e,r,t,r.segments,o,!0)}expandChildren(e,t,r){const o=[];for(const u of Object.keys(r.children))"primary"===u?o.unshift(u):o.push(u);return(0,bn.D)(o).pipe(Li(u=>{const d=r.children[u],m=ur(t,u);return this.expandSegmentGroup(e,m,d,u).pipe((0,Dt.U)(E=>({segment:E,outlet:u})))}),Fi((u,d)=>(u[d.outlet]=d.segment,u),{}),function dm(n,e){const t=arguments.length>=2;return r=>r.pipe(n?zn((o,u)=>n(o,u,r)):Ss.y,ko(1),t?Xd(e):Jd(()=>new Po))}())}expandSegment(e,t,r,o,u,d){return(0,bn.D)(r).pipe(Li(m=>this.expandSegmentAgainstRoute(e,t,r,m,o,u,d).pipe(Ns(C=>{if(C instanceof wm)return ut(null);throw C}))),Fo(m=>!!m),Ns((m,E)=>{if(m instanceof Po||"EmptyError"===m.name)return $I(t,o,u)?ut(new Y([],{})):Cr(t);throw m}))}expandSegmentAgainstRoute(e,t,r,o,u,d,m){return Nv(o,t,u,d)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(e,t,o,u,d):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,o,u,d):Cr(t):Cr(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,o,u,d){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,o,d):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,u,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,o){const u=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?dp(u):this.lineralizeSegments(r,u).pipe((0,Zn.z)(d=>{const m=new Y(d,{});return this.expandSegment(e,m,t,d,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,u,d){const{matched:m,consumedSegments:E,remainingSegments:C,positionalParamSegments:x}=lp(t,o,u);if(!m)return Cr(t);const N=this.applyRedirectCommands(E,o.redirectTo,x);return o.redirectTo.startsWith("/")?dp(N):this.lineralizeSegments(o,N).pipe((0,Zn.z)(W=>this.expandSegment(e,t,r,W.concat(C),d,!1)))}matchSegmentAgainstRoute(e,t,r,o,u){if("**"===r.path)return r.loadChildren?(r._loadedConfig?ut(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,Dt.U)(N=>(r._loadedConfig=N,new Y(o,{})))):ut(new Y(o,{}));const{matched:d,consumedSegments:m,remainingSegments:E}=lp(t,r,o);return d?this.getChildConfig(e,r,o).pipe((0,Zn.z)(x=>{const N=x.module,W=x.routes,{segmentGroup:ne,slicedSegments:ye}=jc(t,m,E,W),He=new Y(ne.segments,ne.children);if(0===ye.length&&He.hasChildren())return this.expandChildren(N,W,He).pipe((0,Dt.U)(tn=>new Y(m,tn)));if(0===W.length&&0===ye.length)return ut(new Y(m,{}));const ot=ji(r)===u;return this.expandSegment(N,He,W,ye,ot?Pt:u,!0).pipe((0,Dt.U)(Qt=>new Y(m.concat(Qt.segments),Qt.children)))})):Cr(t)}getChildConfig(e,t,r){return t.children?ut(new xe(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?ut(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,Zn.z)(o=>o?this.configLoader.load(e.injector,t).pipe((0,Dt.U)(u=>(t._loadedConfig=u,u))):function Pv(n){return Oo(tu(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):ut(new xe([],e))}runCanLoadGuards(e,t,r){const o=t.canLoad;return o&&0!==o.length?ut(o.map(d=>{const m=e.get(d);let E;if(function kn(n){return n&&Xe(n.canLoad)}(m))E=m.canLoad(t,r);else{if(!Xe(m))throw new Error("Invalid CanLoad guard");E=m(t,r)}return Kn(E)})).pipe(cu(),(0,kr.b)(d=>{if(!At(d))return;const m=tu(`Redirecting to "${this.urlSerializer.serialize(d)}"`);throw m.url=d,m}),(0,Dt.U)(d=>!0===d)):ut(!0)}lineralizeSegments(e,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return ut(r);if(o.numberOfChildren>1||!o.children[Pt])return Oo(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));o=o.children[Pt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,o){const u=this.createSegmentGroup(e,t.root,r,o);return new K(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Cn(e,(o,u)=>{if("string"==typeof o&&o.startsWith(":")){const m=o.substring(1);r[u]=t[m]}else r[u]=o}),r}createSegmentGroup(e,t,r,o){const u=this.createSegments(e,t.segments,r,o);let d={};return Cn(t.children,(m,E)=>{d[E]=this.createSegmentGroup(e,m,r,o)}),new Y(u,d)}createSegments(e,t,r,o){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,o):this.findOrReturn(u,r))}findPosParam(e,t,r){const o=r[t.path.substring(1)];if(!o)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return o}findOrReturn(e,t){let r=0;for(const o of t){if(o.path===e.path)return t.splice(r),o;r++}return e}}function Dm(n){const e={};for(const r of Object.keys(n.children)){const u=Dm(n.children[r]);(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function Im(n){if(1===n.numberOfChildren&&n.children[Pt]){const e=n.children[Pt];return new Y(n.segments.concat(e.segments),e.children)}return n}(new Y(n.segments,e))}class bm{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class hp{constructor(e,t){this.component=e,this.route=t}}function kv(n,e,t){const r=n._root;return fh(r,e?e._root:null,t,[r.value])}function hh(n,e,t){const r=function zI(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function fh(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=ou(e);return n.children.forEach(d=>{(function Cm(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,d=e?e.value:null,m=t?t.getContext(n.value.outlet):null;if(d&&u.routeConfig===d.routeConfig){const E=function qI(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!pt(n.url,e.url);case"pathParamsOrQueryParamsChange":return!pt(n.url,e.url)||!ar(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!il(n,e)||!ar(n.queryParams,e.queryParams);default:return!il(n,e)}}(d,u,u.routeConfig.runGuardsAndResolvers);E?o.canActivateChecks.push(new bm(r)):(u.data=d.data,u._resolvedData=d._resolvedData),fh(n,e,u.component?m?m.children:null:t,r,o),E&&m&&m.outlet&&m.outlet.isActivated&&o.canDeactivateChecks.push(new hp(m.outlet.component,d))}else d&&ph(e,m,o),o.canActivateChecks.push(new bm(r)),fh(n,null,u.component?m?m.children:null:t,r,o)})(d,u[d.value.outlet],t,r.concat([d.value]),o),delete u[d.value.outlet]}),Cn(u,(d,m)=>ph(d,t.getContext(m),o)),o}function ph(n,e,t){const r=ou(n),o=n.value;Cn(r,(u,d)=>{ph(u,o.component?e?e.children.getContext(d):null:e,t)}),t.canDeactivateChecks.push(new hp(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}class XI{}function Am(n){return new mi.y(e=>e.error(n))}class tD{constructor(e,t,r,o,u,d){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=u,this.relativeLinkResolution=d}recognize(){const e=jc(this.urlTree.root,[],[],this.config.filter(d=>void 0===d.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Pt);if(null===t)return null;const r=new _a([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Pt,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new no(r,t),u=new Lc(this.url,o);return this.inheritParamsAndData(u._root),u}inheritParamsAndData(e){const t=e.value,r=np(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const u of Object.keys(t.children)){const d=t.children[u],m=ur(e,u),E=this.processSegmentGroup(m,d,u);if(null===E)return null;r.push(...E)}const o=Fv(r);return function nD(n){n.sort((e,t)=>e.value.outlet===Pt?-1:t.value.outlet===Pt?1:e.value.outlet.localeCompare(t.value.outlet))}(o),o}processSegment(e,t,r,o){for(const u of e){const d=this.processSegmentAgainstRoute(u,t,r,o);if(null!==d)return d}return $I(t,r,o)?[]:null}processSegmentAgainstRoute(e,t,r,o){if(e.redirectTo||!Nv(e,t,r,o))return null;let u,d=[],m=[];if("**"===e.path){const ne=r.length>0?ru(r).parameters:{};u=new _a(r,ne,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ro(e),ji(e),e.component,e,Lv(t),cl(t)+r.length,sD(e))}else{const ne=lp(t,e,r);if(!ne.matched)return null;d=ne.consumedSegments,m=ne.remainingSegments,u=new _a(d,ne.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ro(e),ji(e),e.component,e,Lv(t),cl(t)+d.length,sD(e))}const E=function rD(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:C,slicedSegments:x}=jc(t,d,m,E.filter(ne=>void 0===ne.redirectTo),this.relativeLinkResolution);if(0===x.length&&C.hasChildren()){const ne=this.processChildren(E,C);return null===ne?null:[new no(u,ne)]}if(0===E.length&&0===x.length)return[new no(u,[])];const N=ji(e)===o,W=this.processSegment(E,C,x,N?Pt:o);return null===W?null:[new no(u,W)]}}function iD(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Fv(n){const e=[],t=new Set;for(const r of n){if(!iD(r)){e.push(r);continue}const o=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==o?(o.children.push(...r.children),t.add(o)):e.push(r)}for(const r of t){const o=Fv(r.children);e.push(new no(r.value,o))}return e.filter(r=>!t.has(r))}function Lv(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function cl(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function ro(n){return n.data||{}}function sD(n){return n.resolve||{}}function pp(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Mm(n){return gr(e=>{const t=n(e);return t?(0,bn.D)(t).pipe((0,Dt.U)(()=>e)):ut(e)})}class Bv extends class gh{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const gp=new h.OlP("ROUTES");class mp{constructor(e,t,r,o){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=o}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const o=this.loadModuleFactory(t.loadChildren).pipe((0,Dt.U)(u=>{this.onLoadEndListener&&this.onLoadEndListener(t);const d=u.create(e);return new xe(nu(d.injector.get(gp,void 0,h.XFs.Self|h.XFs.Optional)).map(va),d)}),Ns(u=>{throw t._loader$=void 0,u}));return t._loader$=new ki(o,()=>new Oi.x).pipe(Yu()),t._loader$}loadModuleFactory(e){return Kn(e()).pipe((0,Zn.z)(t=>t instanceof h.YKP?ut(t):(0,bn.D)(this.compiler.compileModuleAsync(t))))}}class jv{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function xT(n){throw n}function Hc(n,e,t){return e.parse("/")}function yp(n,e){return ut(null)}const $v={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},oD={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ei=(()=>{class n{constructor(t,r,o,u,d,m,E){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=o,this.location=u,this.config=E,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Oi.x,this.errorHandler=xT,this.malformedUriErrorHandler=Hc,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:yp,afterPreactivation:yp},this.urlHandlingStrategy=new jv,this.routeReuseStrategy=new Bv,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=d.get(h.h0i),this.console=d.get(h.c2e);const N=d.get(h.R0b);this.isNgZoneEnabled=N instanceof h.R0b&&h.R0b.isInAngularZone(),this.resetConfig(E),this.currentUrlTree=function Xu(){return new K(new Y([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new mp(d,m,W=>this.triggerEvent(new Fr(W)),W=>this.triggerEvent(new Xa(W))),this.routerState=Fc(this.currentUrlTree,this.rootComponentType),this.transitions=new Pr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(zn(o=>0!==o.id),(0,Dt.U)(o=>Object.assign(Object.assign({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),gr(o=>{let u=!1,d=!1;return ut(o).pipe((0,kr.b)(m=>{this.currentNavigation={id:m.id,initialUrl:m.currentRawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),gr(m=>{const E=this.browserUrlTree.toString(),C=!this.navigated||m.extractedUrl.toString()!==E||E!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||C)&&this.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return Hv(m.source)&&(this.browserUrlTree=m.extractedUrl),ut(m).pipe(gr(N=>{const W=this.transitions.getValue();return r.next(new Sc(N.id,this.serializeUrl(N.extractedUrl),N.source,N.restoredState)),W!==this.transitions.getValue()?yi.E:Promise.resolve(N)}),function HI(n,e,t,r){return gr(o=>function ui(n,e,t,r,o){return new dh(n,e,t,r,o).apply()}(n,e,t,o.extractedUrl,r).pipe((0,Dt.U)(u=>Object.assign(Object.assign({},o),{urlAfterRedirects:u}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,kr.b)(N=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:N.urlAfterRedirects})}),function ST(n,e,t,r,o){return(0,Zn.z)(u=>function eD(n,e,t,r,o="emptyOnly",u="legacy"){try{const d=new tD(n,e,t,r,o,u).recognize();return null===d?Am(new XI):ut(d)}catch(d){return Am(d)}}(n,e,u.urlAfterRedirects,t(u.urlAfterRedirects),r,o).pipe((0,Dt.U)(d=>Object.assign(Object.assign({},u),{targetSnapshot:d}))))}(this.rootComponentType,this.config,N=>this.serializeUrl(N),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,kr.b)(N=>{if("eager"===this.urlUpdateStrategy){if(!N.extras.skipLocationChange){const ne=this.urlHandlingStrategy.merge(N.urlAfterRedirects,N.rawUrl);this.setBrowserUrl(ne,N)}this.browserUrlTree=N.urlAfterRedirects}const W=new Qu(N.id,this.serializeUrl(N.extractedUrl),this.serializeUrl(N.urlAfterRedirects),N.targetSnapshot);r.next(W)}));if(C&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:W,extractedUrl:ne,source:ye,restoredState:He,extras:ot}=m,Yt=new Sc(W,this.serializeUrl(ne),ye,He);r.next(Yt);const Qt=Fc(ne,this.rootComponentType).snapshot;return ut(Object.assign(Object.assign({},m),{targetSnapshot:Qt,urlAfterRedirects:ne,extras:Object.assign(Object.assign({},ot),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=m.rawUrl,m.resolve(null),yi.E}),Mm(m=>{const{targetSnapshot:E,id:C,extractedUrl:x,rawUrl:N,extras:{skipLocationChange:W,replaceUrl:ne}}=m;return this.hooks.beforePreactivation(E,{navigationId:C,appliedUrlTree:x,rawUrlTree:N,skipLocationChange:!!W,replaceUrl:!!ne})}),(0,kr.b)(m=>{const E=new Lo(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(E)}),(0,Dt.U)(m=>Object.assign(Object.assign({},m),{guards:kv(m.targetSnapshot,m.currentSnapshot,this.rootContexts)})),function Tm(n,e){return(0,Zn.z)(t=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:u,canDeactivateChecks:d}}=t;return 0===d.length&&0===u.length?ut(Object.assign(Object.assign({},t),{guardsResult:!0})):function WI(n,e,t,r){return(0,bn.D)(n).pipe((0,Zn.z)(o=>function JI(n,e,t,r,o){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return u&&0!==u.length?ut(u.map(m=>{const E=hh(m,e,o);let C;if(function lu(n){return n&&Xe(n.canDeactivate)}(E))C=Kn(E.canDeactivate(n,e,t,r));else{if(!Xe(E))throw new Error("Invalid CanDeactivate guard");C=Kn(E(n,e,t,r))}return C.pipe(Fo())})).pipe(cu()):ut(!0)}(o.component,o.route,t,e,r)),Fo(o=>!0!==o,!0))}(d,r,o,n).pipe((0,Zn.z)(m=>m&&function ft(n){return"boolean"==typeof n}(m)?function ZI(n,e,t,r){return(0,bn.D)(e).pipe(Li(o=>pa(function KI(n,e){return null!==n&&e&&e(new Vo(n)),ut(!0)}(o.route.parent,r),function fp(n,e){return null!==n&&e&&e(new Vi(n)),ut(!0)}(o.route,r),function QI(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(d=>function GI(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(d)).filter(d=>null!==d).map(d=>Qa(()=>ut(d.guards.map(E=>{const C=hh(E,d.node,t);let x;if(function Fs(n){return n&&Xe(n.canActivateChild)}(C))x=Kn(C.canActivateChild(r,n));else{if(!Xe(C))throw new Error("Invalid CanActivateChild guard");x=Kn(C(r,n))}return x.pipe(Fo())})).pipe(cu())));return ut(u).pipe(cu())}(n,o.path,t),function YI(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return ut(!0);const o=r.map(u=>Qa(()=>{const d=hh(u,e,t);let m;if(function Bi(n){return n&&Xe(n.canActivate)}(d))m=Kn(d.canActivate(e,n));else{if(!Xe(d))throw new Error("Invalid CanActivate guard");m=Kn(d(e,n))}return m.pipe(Fo())}));return ut(o).pipe(cu())}(n,o.route,t))),Fo(o=>!0!==o,!0))}(r,u,n,e):ut(m)),(0,Dt.U)(m=>Object.assign(Object.assign({},t),{guardsResult:m})))})}(this.ngModule.injector,m=>this.triggerEvent(m)),(0,kr.b)(m=>{if(At(m.guardsResult)){const C=tu(`Redirecting to "${this.serializeUrl(m.guardsResult)}"`);throw C.url=m.guardsResult,C}const E=new ep(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.triggerEvent(E)}),zn(m=>!!m.guardsResult||(this.restoreHistory(m),this.cancelNavigationTransition(m,""),!1)),Mm(m=>{if(m.guards.canActivateChecks.length)return ut(m).pipe((0,kr.b)(E=>{const C=new Ja(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot);this.triggerEvent(C)}),gr(E=>{let C=!1;return ut(E).pipe(function Vv(n,e){return(0,Zn.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return ut(t);let u=0;return(0,bn.D)(o).pipe(Li(d=>function MT(n,e,t,r){return function $o(n,e,t,r){const o=pp(n);if(0===o.length)return ut({});const u={};return(0,bn.D)(o).pipe((0,Zn.z)(d=>function Sm(n,e,t,r){const o=hh(n,e,r);return Kn(o.resolve?o.resolve(e,t):o(e,t))}(n[d],e,t,r).pipe((0,kr.b)(m=>{u[d]=m}))),ko(1),(0,Zn.z)(()=>pp(u).length===o.length?ut(u):yi.E))}(n._resolve,n,e,r).pipe((0,Dt.U)(u=>(n._resolvedData=u,n.data=Object.assign(Object.assign({},n.data),np(n,t).resolve),null)))}(d.route,r,n,e)),(0,kr.b)(()=>u++),ko(1),(0,Zn.z)(d=>u===o.length?ut(t):yi.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,kr.b)({next:()=>C=!0,complete:()=>{C||(this.restoreHistory(E),this.cancelNavigationTransition(E,"At least one route resolver didn't emit any value."))}}))}),(0,kr.b)(E=>{const C=new br(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot);this.triggerEvent(C)}))}),Mm(m=>{const{targetSnapshot:E,id:C,extractedUrl:x,rawUrl:N,extras:{skipLocationChange:W,replaceUrl:ne}}=m;return this.hooks.afterPreactivation(E,{navigationId:C,appliedUrlTree:x,rawUrlTree:N,skipLocationChange:!!W,replaceUrl:!!ne})}),(0,Dt.U)(m=>{const E=function pm(n,e,t){const r=sl(n,e._root,t?t._root:void 0);return new rl(r,e)}(this.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return Object.assign(Object.assign({},m),{targetRouterState:E})}),(0,kr.b)(m=>{this.currentUrlTree=m.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(m.urlAfterRedirects,m.rawUrl),this.routerState=m.targetRouterState,"deferred"===this.urlUpdateStrategy&&(m.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,m),this.browserUrlTree=m.urlAfterRedirects)}),((n,e,t)=>(0,Dt.U)(r=>(new P(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,m=>this.triggerEvent(m)),(0,kr.b)({next(){u=!0},complete(){u=!0}}),function eh(n){return(0,pr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var m;u||d||this.cancelNavigationTransition(o,`Navigation ID ${o.id} is not equal to the current navigation id ${this.navigationId}`),(null===(m=this.currentNavigation)||void 0===m?void 0:m.id)===o.id&&(this.currentNavigation=null)}),Ns(m=>{if(d=!0,function ma(n){return n&&n[Lr]}(m)){const E=At(m.url);E||(this.navigated=!0,this.restoreHistory(o,!0));const C=new th(o.id,this.serializeUrl(o.extractedUrl),m.message);r.next(C),E?setTimeout(()=>{const x=this.urlHandlingStrategy.merge(m.url,this.rawUrlTree),N={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Hv(o.source)};this.scheduleNavigation(x,"imperative",null,N,{resolve:o.resolve,reject:o.reject,promise:o.promise})},0):o.resolve(!1)}else{this.restoreHistory(o,!0);const E=new Pn(o.id,this.serializeUrl(o.extractedUrl),m);r.next(E);try{o.resolve(this.errorHandler(m))}catch(C){o.reject(C)}}return yi.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var o;const u={replaceUrl:!0},d=(null===(o=t.state)||void 0===o?void 0:o.navigationId)?t.state:null;if(d){const E=Object.assign({},d);delete E.navigationId,delete E.\u0275routerPageId,0!==Object.keys(E).length&&(u.state=E)}const m=this.parseUrl(t.url);this.scheduleNavigation(m,r,d,u)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){ul(t),this.config=t.map(va),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:o,queryParams:u,fragment:d,queryParamsHandling:m,preserveFragment:E}=r,C=o||this.routerState.root,x=E?this.currentUrlTree.fragment:d;let N=null;switch(m){case"merge":N=Object.assign(Object.assign({},this.currentUrlTree.queryParams),u);break;case"preserve":N=this.currentUrlTree.queryParams;break;default:N=u||null}return null!==N&&(N=this.removeEmptyProps(N)),function oh(n,e,t,r,o){if(0===t.length)return ah(e.root,e.root,e.root,r,o);const u=function sp(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new ym(!0,0,n);let e=0,t=!1;const r=n.reduce((o,u,d)=>{if("object"==typeof u&&null!=u){if(u.outlets){const m={};return Cn(u.outlets,(E,C)=>{m[C]="string"==typeof E?E.split("/"):E}),[...o,{outlets:m}]}if(u.segmentPath)return[...o,u.segmentPath]}return"string"!=typeof u?[...o,u]:0===d?(u.split("/").forEach((m,E)=>{0==E&&"."===m||(0==E&&""===m?t=!0:".."===m?e++:""!=m&&o.push(m))}),o):[...o,u]},[]);return new ym(t,e,r)}(t);if(u.toRoot())return ah(e.root,e.root,new Y([],{}),r,o);const d=function _m(n,e,t){if(n.isAbsolute)return new op(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const u=t.snapshot._urlSegment;return new op(u,u===e.root,0)}const r=os(n.commands[0])?0:1;return function uh(n,e,t){let r=n,o=e,u=t;for(;u>o;){if(u-=o,r=r.parent,!r)throw new Error("Invalid number of '../'");o=r.segments.length}return new op(r,!1,o-u)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(u,e,n),m=d.processChildren?Bc(d.segmentGroup,d.index,u.commands):ap(d.segmentGroup,d.index,u.commands);return ah(e.root,d.segmentGroup,m,r,o)}(C,this.currentUrlTree,t,N,null!=x?x:null)}navigateByUrl(t,r={skipLocationChange:!1}){const o=At(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(u,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function aD(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,t)}return r}isActive(t,r){let o;if(o=!0===r?Object.assign({},$v):!1===r?Object.assign({},oD):r,At(t))return Bo(this.currentUrlTree,t,o);const u=this.parseUrl(t);return Bo(this.currentUrlTree,u,o)}removeEmptyProps(t){return Object.keys(t).reduce((r,o)=>{const u=t[o];return null!=u&&(r[o]=u),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new _i(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,o,u,d){var m,E;if(this.disposed)return Promise.resolve(!1);let C,x,N;d?(C=d.resolve,x=d.reject,N=d.promise):N=new Promise((ye,He)=>{C=ye,x=He});const W=++this.navigationId;let ne;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(o=this.location.getState()),ne=o&&o.\u0275routerPageId?o.\u0275routerPageId:u.replaceUrl||u.skipLocationChange?null!==(m=this.browserPageId)&&void 0!==m?m:0:(null!==(E=this.browserPageId)&&void 0!==E?E:0)+1):ne=0,this.setTransition({id:W,targetPageId:ne,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:u,resolve:C,reject:x,promise:N,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),N.catch(ye=>Promise.reject(ye))}setBrowserUrl(t,r){const o=this.urlSerializer.serialize(t),u=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl?this.location.replaceState(o,"",u):this.location.go(o,"",u)}restoreHistory(t,r=!1){var o,u;if("computed"===this.canceledNavigationResolution){const d=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)||0===d?this.currentUrlTree===(null===(u=this.currentNavigation)||void 0===u?void 0:u.finalUrl)&&0===d&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(d)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const o=new th(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(o),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){h.$Z()},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function Hv(n){return"imperative"!==n}let _p=(()=>{class n{constructor(t,r,o){this.router=t,this.route=r,this.locationStrategy=o,this.commands=null,this.href=null,this.onChanges=new Oi.x,this.subscription=t.events.subscribe(u=>{u instanceof _i&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,o,u,d){if(0!==t||r||o||u||d||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const m={skipLocationChange:Gc(this.skipLocationChange),replaceUrl:Gc(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,m),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Gc(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Ei),h.Y36(uu),h.Y36(pe))},n.\u0275dir=h.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&h.NdJ("click",function(u){return r.onClick(u.button,u.ctrlKey,u.shiftKey,u.altKey,u.metaKey)}),2&t&&h.uIk("target",r.target)("href",r.href,h.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[h.TTD]}),n})();function Gc(n){return""===n||!!n}class vp{}class Ep{preload(e,t){return ut(null)}}let qv=(()=>{class n{constructor(t,r,o,u){this.router=t,this.injector=o,this.preloadingStrategy=u,this.loader=new mp(o,r,E=>t.triggerEvent(new Fr(E)),E=>t.triggerEvent(new Xa(E)))}setUpPreloading(){this.subscription=this.router.events.pipe(zn(t=>t instanceof _i),Li(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(h.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const o=[];for(const u of r)if(u.loadChildren&&!u.canLoad&&u._loadedConfig){const d=u._loadedConfig;o.push(this.processRoutes(d.module,d.routes))}else u.loadChildren&&!u.canLoad?o.push(this.preloadConfig(t,u)):u.children&&o.push(this.processRoutes(t,u.children));return(0,bn.D)(o).pipe((0,Ms.J)(),(0,Dt.U)(u=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?ut(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,Zn.z)(u=>(r._loadedConfig=u,this.processRoutes(u.module,u.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Ei),h.LFG(h.Sil),h.LFG(h.zs3),h.LFG(vp))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),Nm=(()=>{class n{constructor(t,r,o={}){this.router=t,this.viewportScroller=r,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Sc?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof _i&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof eu&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new eu(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){h.$Z()},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const hu=new h.OlP("ROUTER_CONFIGURATION"),fu=new h.OlP("ROUTER_FORROOT_GUARD"),Wv=[Me,{provide:$t,useClass:Et},{provide:Ei,useFactory:function Qv(n,e,t,r,o,u,d={},m,E){const C=new Ei(null,n,e,t,r,o,nu(u));return m&&(C.urlHandlingStrategy=m),E&&(C.routeReuseStrategy=E),function Pm(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(d,C),d.enableTracing&&C.events.subscribe(x=>{var N,W;null===(N=console.group)||void 0===N||N.call(console,`Router Event: ${x.constructor.name}`),console.log(x.toString()),console.log(x),null===(W=console.groupEnd)||void 0===W||W.call(console)}),C},deps:[$t,du,Me,h.zs3,h.Sil,gp,hu,[class xm{},new h.FiY],[class Uv{},new h.FiY]]},du,{provide:uu,useFactory:function Jv(n){return n.routerState.root},deps:[Ei]},qv,Ep,class zv{preload(e,t){return t().pipe(Ns(()=>ut(null)))}},{provide:hu,useValue:{enableTracing:!1}}];function Zv(){return new h.PXZ("Router",Ei)}let Kv=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[Wv,Om(t),{provide:fu,useFactory:Yv,deps:[[Ei,new h.FiY,new h.tp0]]},{provide:hu,useValue:r||{}},{provide:pe,useFactory:cD,deps:[ae,[new h.tBr(qe),new h.FiY],hu]},{provide:Nm,useFactory:wp,deps:[Ei,$a,hu]},{provide:vp,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:Ep},{provide:h.PXZ,multi:!0,useFactory:Zv},[zc,{provide:h.ip1,multi:!0,useFactory:Ip,deps:[zc]},{provide:Dp,useFactory:Xv,deps:[zc]},{provide:h.tb,multi:!0,useExisting:Dp}]]}}static forChild(t){return{ngModule:n,providers:[Om(t)]}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(fu,8),h.LFG(Ei,8))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();function wp(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new Nm(n,e,t)}function cD(n,e,t={}){return t.useHash?new Se(n,e):new Ge(n,e)}function Yv(n){return"guarded"}function Om(n){return[{provide:h.deG,multi:!0,useValue:n},{provide:gp,multi:!0,useValue:n}]}let zc=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Oi.x}appInitializer(){return this.injector.get($,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const o=new Promise(m=>r=m),u=this.injector.get(Ei),d=this.injector.get(hu);return"disabled"===d.initialNavigation?(u.setUpLocationChangeListener(),r(!0)):"enabled"===d.initialNavigation||"enabledBlocking"===d.initialNavigation?(u.hooks.afterPreactivation=()=>this.initNavigation?ut(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),u.initialNavigation()):r(!0),o})}bootstrapListener(t){const r=this.injector.get(hu),o=this.injector.get(qv),u=this.injector.get(Nm),d=this.injector.get(Ei),m=this.injector.get(h.z2F);t===m.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&d.initialNavigation(),o.setUpPreloading(),u.init(),d.resetRootComponentType(m.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.zs3))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function Ip(n){return n.appInitializer.bind(n)}function Xv(n){return n.bootstrapListener.bind(n)}const Dp=new h.OlP("Router Initializer");var ve=O(5861),dD=O(4986),wn=O(5813);function km(){return(0,pr.e)((n,e)=>{let t,r=!1;n.subscribe((0,Gn.x)(e,o=>{const u=t;t=o,r&&e.next([u,o]),r=!0}))})}function n0(n,e){return n===e}var it,us=O(2011),RT=(O(5881),O(3942)),Ho=O(9681),bp=O(4859),Ea=O(1877),qt=O(2090),pD="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Tr={},Cp=Cp||{},Rt=pD||self;function Tp(){}function Fm(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function mh(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Lm="closure_uid_"+(1e9*Math.random()>>>0),gD=0;function mD(n,e,t){return n.call.apply(n.bind,arguments)}function Nt(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),n.apply(e,o)}}return function(){return n.apply(e,arguments)}}function Br(n,e,t){return(Br=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?mD:Nt).apply(null,arguments)}function yh(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function jr(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,o,u){for(var d=Array(arguments.length-2),m=2;m<arguments.length;m++)d[m-2]=arguments[m];return e.prototype[o].apply(r,d)}}function io(){this.s=this.s,this.o=this.o}var s0={};io.prototype.s=!1,io.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function r0(n){return Object.prototype.hasOwnProperty.call(n,Lm)&&n[Lm]||(n[Lm]=++gD)}(this);delete s0[n]}},io.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const o0=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},Ap=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,o="string"==typeof n?n.split(""):n;for(let u=0;u<r;u++)u in o&&e.call(t,o[u],u,n)};function Sp(n){return Array.prototype.concat.apply([],arguments)}function Mp(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function qc(n){return/^[\s\xa0]*$/.test(n)}var $r,yD=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function li(n,e){return-1!=n.indexOf(e)}function a0(n,e){return n<e?-1:n>e?1:0}e:{var _h=Rt.navigator;if(_h){var xp=_h.userAgent;if(xp){$r=xp;break e}}$r=""}function vh(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function Rp(n){const e={};for(const t in n)e[t]=n[t];return e}var _D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function u0(n,e){let t,r;for(let o=1;o<arguments.length;o++){for(t in r=arguments[o],r)n[t]=r[t];for(let u=0;u<_D.length;u++)t=_D[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Vm(n){return Vm[" "](n),n}Vm[" "]=Tp;var Np,n,ED=li($r,"Opera"),dl=li($r,"Trident")||li($r,"MSIE"),wD=li($r,"Edge"),Um=wD||dl,ID=li($r,"Gecko")&&!(li($r.toLowerCase(),"webkit")&&!li($r,"Edge"))&&!(li($r,"Trident")||li($r,"MSIE"))&&!li($r,"Edge"),l0=li($r.toLowerCase(),"webkit")&&!li($r,"Edge");function Bm(){var n=Rt.document;return n?n.documentMode:void 0}e:{var Eh="",c0=(n=$r,ID?/rv:([^\);]+)(\)|;)/.exec(n):wD?/Edge\/([\d\.]+)/.exec(n):dl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):l0?/WebKit\/(\S+)/.exec(n):ED?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(c0&&(Eh=c0?c0[1]:""),dl){var d0=Bm();if(null!=d0&&d0>parseFloat(Eh)){Np=String(d0);break e}}Np=Eh}var NT={};var PT=Rt.document&&dl&&(Bm()||parseInt(Np,10))||void 0,kT=function(){if(!Rt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Rt.addEventListener("test",Tp,e),Rt.removeEventListener("test",Tp,e)}catch(t){}return n}();function wi(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function Op(n,e){if(wi.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(ID){e:{try{Vm(e.nodeName);var o=!0;break e}catch(u){}o=!1}o||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:pu[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Op.Z.h.call(this)}}wi.prototype.h=function(){this.defaultPrevented=!0},jr(Op,wi);var pu={2:"touch",3:"pen",4:"mouse"};Op.prototype.h=function(){Op.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var hl="closure_listenable_"+(1e6*Math.random()|0),bD=0;function f0(n,e,t,r,o){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=o,this.key=++bD,this.ca=this.fa=!1}function Wc(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function wh(n){this.src=n,this.g={},this.h=0}function Ih(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],o=o0(r,e);(u=0<=o)&&Array.prototype.splice.call(r,o,1),u&&(Wc(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function jm(n,e,t,r){for(var o=0;o<n.length;++o){var u=n[o];if(!u.ca&&u.listener==e&&u.capture==!!t&&u.ia==r)return o}return-1}wh.prototype.add=function(n,e,t,r,o){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var d=jm(n,e,r,o);return-1<d?(e=n[d],t||(e.fa=!1)):((e=new f0(e,this.src,u,!!r,o)).fa=t,n.push(e)),e};var Go="closure_lm_"+(1e6*Math.random()|0),Pp={};function p0(n,e,t,r,o){if(r&&r.once)return $m(n,e,t,r,o);if(Array.isArray(e)){for(var u=0;u<e.length;u++)p0(n,e[u],t,r,o);return null}return t=fl(t),n&&n[hl]?n.N(e,t,mh(r)?!!r.capture:!!r,o):kp(n,e,t,!1,r,o)}function kp(n,e,t,r,o,u){if(!e)throw Error("Invalid event type");var d=mh(o)?!!o.capture:!!o,m=Dh(n);if(m||(n[Go]=m=new wh(n)),(t=m.add(e,t,r,d,u)).proxy)return t;if(r=function CD(){var e=Kc;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)kT||(o=d),void 0===o&&(o=!1),n.addEventListener(e.toString(),r,o);else if(n.attachEvent)n.attachEvent(Zc(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function $m(n,e,t,r,o){if(Array.isArray(e)){for(var u=0;u<e.length;u++)$m(n,e[u],t,r,o);return null}return t=fl(t),n&&n[hl]?n.O(e,t,mh(r)?!!r.capture:!!r,o):kp(n,e,t,!0,r,o)}function g0(n,e,t,r,o){if(Array.isArray(e))for(var u=0;u<e.length;u++)g0(n,e[u],t,r,o);else r=mh(r)?!!r.capture:!!r,t=fl(t),n&&n[hl]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=jm(u=n.g[e],t,r,o))&&(Wc(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=Dh(n))&&(e=n.g[e.toString()],n=-1,e&&(n=jm(e,t,r,o)),(t=-1<n?e[n]:null)&&Hm(t))}function Hm(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[hl])Ih(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(Zc(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Dh(e))?(Ih(t,n),0==t.h&&(t.src=null,e[Go]=null)):Wc(n)}}}function Zc(n){return n in Pp?Pp[n]:Pp[n]="on"+n}function Kc(n,e){if(n.ca)n=!0;else{e=new Op(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&Hm(n),n=t.call(r,e)}return n}function Dh(n){return(n=n[Go])instanceof wh?n:null}var gu="__closure_events_fn_"+(1e9*Math.random()>>>0);function fl(n){return"function"==typeof n?n:(n[gu]||(n[gu]=function(e){return n.handleEvent(e)}),n[gu])}function qn(){io.call(this),this.i=new wh(this),this.P=this,this.I=null}function Jr(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new wi(e,n);else if(e instanceof wi)e.target=e.target||n;else{var o=e;u0(e=new wi(r,n),o)}if(o=!0,t)for(var u=t.length-1;0<=u;u--){var d=e.g=t[u];o=bh(d,r,!0,e)&&o}if(o=bh(d=e.g=n,r,!0,e)&&o,o=bh(d,r,!1,e)&&o,t)for(u=0;u<t.length;u++)o=bh(d=e.g=t[u],r,!1,e)&&o}function bh(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var o=!0,u=0;u<e.length;++u){var d=e[u];if(d&&!d.ca&&d.capture==t){var m=d.listener,E=d.ia||d.src;d.fa&&Ih(n.i,d),o=!1!==m.call(E,r)&&o}}return o&&!r.defaultPrevented}jr(qn,io),qn.prototype[hl]=!0,qn.prototype.removeEventListener=function(n,e,t,r){g0(this,n,e,t,r)},qn.prototype.M=function(){if(qn.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Wc(t[r]);delete n.g[e],n.h--}}this.I=null},qn.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},qn.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Fp=Rt.JSON.stringify;function Gm(){var n=_0;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var m0,qm=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new Lp,n=>n.reset());class Lp{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function TD(n){Rt.setTimeout(()=>{throw n},0)}function Vp(n,e){m0||function y0(){var n=Rt.Promise.resolve(void 0);m0=function(){n.then(v0)}}(),Up||(m0(),Up=!0),_0.add(n,e)}var Up=!1,_0=new class zm{constructor(){this.h=this.g=null}add(e,t){const r=qm.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function v0(){for(var n;n=Gm();){try{n.h.call(n.g)}catch(t){TD(t)}var e=qm;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Up=!1}function Bp(n,e){qn.call(this),this.h=n||1,this.g=e||Rt,this.j=Br(this.kb,this),this.l=Date.now()}function Wm(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function Ii(n,e,t){if("function"==typeof n)t&&(n=Br(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Br(n.handleEvent,n)}return 2147483647<Number(e)?-1:Rt.setTimeout(n,e||0)}function E0(n){n.g=Ii(()=>{n.g=null,n.i&&(n.i=!1,E0(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}jr(Bp,qn),(it=Bp.prototype).da=!1,it.S=null,it.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Jr(this,"tick"),this.da&&(Wm(this),this.start()))}},it.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},it.M=function(){Bp.Z.M.call(this),Wm(this),delete this.g};class AD extends io{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:E0(this)}M(){super.M(),this.g&&(Rt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function jp(n){io.call(this),this.h=n,this.g={}}jr(jp,io);var SD=[];function Zm(n,e,t,r){Array.isArray(t)||(t&&(SD[0]=t.toString()),t=SD);for(var o=0;o<t.length;o++){var u=p0(e,t[o],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function MD(n){vh(n.g,function(e,t){this.g.hasOwnProperty(t)&&Hm(e)},n),n.g={}}function $p(){this.g=!0}function Yc(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function RD(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var u=o[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var d=1;d<o.length;d++)o[d]=""}}}return Fp(t)}catch(m){return e}}(n,t)+(r?" "+r:"")})}jp.prototype.M=function(){jp.Z.M.call(this),MD(this)},jp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},$p.prototype.Aa=function(){this.g=!1},$p.prototype.info=function(){};var mu={},I0=null;function Ch(){return I0=I0||new qn}function D0(n){wi.call(this,mu.Ma,n)}function Th(n){const e=Ch();Jr(e,new D0(e,n))}function Ym(n,e){wi.call(this,mu.STAT_EVENT,n),this.stat=e}function ci(n){const e=Ch();Jr(e,new Ym(e,n))}function b0(n,e){wi.call(this,mu.Na,n),this.size=e}function $i(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Rt.setTimeout(function(){n()},e)}mu.Ma="serverreachability",jr(D0,wi),mu.STAT_EVENT="statevent",jr(Ym,wi),mu.Na="timingevent",jr(b0,wi);var Qc={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},C0={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Qm(){}function Jm(){}Qm.prototype.h=null;var Sh,Ah={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Xm(){wi.call(this,"d")}function ey(){wi.call(this,"c")}function Hp(){}function Mh(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new jp(this),this.P=ty,this.W=new Bp(n=Um?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new xh}function xh(){this.i=null,this.g="",this.h=!1}jr(Xm,wi),jr(ey,wi),jr(Hp,Qm),Hp.prototype.g=function(){return new XMLHttpRequest},Hp.prototype.i=function(){return{}},Sh=new Hp;var ty=45e3,ny={},Jc={};function Rh(n,e,t){n.K=1,n.v=Oh(ao(e)),n.s=t,n.U=!0,ry(n,null)}function ry(n,e){n.F=Date.now(),Gp(n),n.A=ao(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),uo(t.h,"t",r),n.C=0,t=n.l.H,n.h=new xh,n.g=wl(n.l,t?e:null,!n.s),0<n.O&&(n.L=new AD(Br(n.Ia,n,n.g),n.O)),Zm(n.V,n.g,"readystatechange",n.gb),e=n.H?Rp(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),Th(1),function Km(n,e,t,r,o,u){n.info(function(){if(n.g)if(u)for(var d="",m=u.split("&"),E=0;E<m.length;E++){var C=m[E].split("=");if(1<C.length){var x=C[0];C=C[1];var N=x.split("_");d=2<=N.length&&"type"==N[1]?d+(x+"=")+C+"&":d+(x+"=redacted&")}}else d=null;else d=u;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+e+"\n"+t+"\n"+d})}(n.j,n.u,n.A,n.m,n.X,n.s)}function OD(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function PD(n,e,t){let o,r=!0;for(;!n.I&&n.C<t.length;){if(o=iy(n,t),o==Jc){4==e&&(n.o=4,ci(14),r=!1),Yc(n.j,n.m,null,"[Incomplete Response]");break}if(o==ny){n.o=4,ci(15),Yc(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Yc(n.j,n.m,o,null),zp(n,o)}OD(n)&&o!=Jc&&o!=ny&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,ci(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),Hi(e),e.L=!0,ci(11))):(Yc(n.j,n.m,t,"[Invalid Chunked Response]"),yu(n),Xc(n))}function iy(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Jc:(t=Number(e.substring(t,r)),isNaN(t)?ny:(r+=1)+t>e.length?Jc:(e=e.substr(r,t),n.C=r+t,e))}function Gp(n){n.Y=Date.now()+n.P,T0(n,n.P)}function T0(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=$i(Br(n.eb,n),e)}function Nh(n){n.B&&(Rt.clearTimeout(n.B),n.B=null)}function Xc(n){0==n.l.G||n.I||yl(n.l,n)}function yu(n){Nh(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,Wm(n.W),MD(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function zp(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||cy(t.i,n)))if(t.I=n.N,!n.J&&cy(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(C){r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0])e:if(t.u)t.ta=o[1],0<t.ta-t.U&&37500>o[2]&&t.N&&0==t.A&&!t.v&&(t.v=$i(Br(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;Ca(t),Jp(t)}id(t),ci(18)}if(1>=F0(t.i)&&t.ka){try{t.ka()}catch(C){}t.ka=void 0}}else Ls(t,11)}else if((n.J||t.g==n)&&Ca(t),!qc(e))for(o=t.Ca.g.parse(e),e=0;e<o.length;e++){let C=o[e];if(t.U=C[0],C=C[1],2==t.G)if("c"==C[0]){t.J=C[1],t.la=C[2];const x=C[3];null!=x&&(t.ma=x,t.h.info("VER="+t.ma));const N=C[4];null!=N&&(t.za=N,t.h.info("SVER="+t.za));const W=C[5];null!=W&&"number"==typeof W&&0<W&&(t.K=r=1.5*W,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const ne=n.g;if(ne){const ye=ne.g?ne.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ye){var u=r.i;!u.g&&(li(ye,"spdy")||li(ye,"quic")||li(ye,"h2"))&&(u.j=u.l,u.g=new Set,u.h&&(dy(u,u.h),u.h=null))}if(r.D){const He=ne.g?ne.g.getResponseHeader("X-HTTP-Session-Id"):null;He&&(r.sa=He,Fn(r.F,r.D,He))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var d=n;if((r=t).oa=El(r,r.H?r.la:null,r.W),d.J){hy(r.i,d);var m=d,E=r.K;E&&m.setTimeout(E),m.B&&(Nh(m),Gp(m)),r.g=d}else Du(r);0<t.l.length&&Xp(t)}else"stop"!=C[0]&&"close"!=C[0]||Ls(t,7);else 3==t.G&&("stop"==C[0]||"close"==C[0]?"stop"==C[0]?Ls(t,7):Iu(t):"noop"!=C[0]&&t.j&&t.j.wa(C),t.A=0)}Th(4)}catch(C){}}function oo(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Fm(n)||"string"==typeof n)Ap(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(Fm(n)||"string"==typeof n){t=[];for(var r=n.length,o=0;o<r;o++)t.push(o)}else for(o in t=[],r=0,n)t[r++]=o;r=function A0(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(Fm(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),o=r.length;for(var u=0;u<o;u++)e.call(void 0,r[u],t&&t[u],n)}}function Ia(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof Ia)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function sy(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];pl(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var o={};for(t=e=0;e<n.g.length;)pl(o,r=n.g[e])||(n.g[t++]=r,o[r]=1),e++;n.g.length=t}}function pl(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(it=Mh.prototype).setTimeout=function(n){this.P=n},it.gb=function(n){n=n.target;const e=this.L;e&&3==Da(n)?e.l():this.Ia(n)},it.Ia=function(n){try{if(n==this.g)e:{const x=Da(this.g);var e=this.g.Da();const N=this.g.ba();if(!(3>x)&&(3!=x||Um||this.g&&(this.h.h||this.g.ga()||j0(this.g)))){this.I||4!=x||7==e||Th(8==e||0>=N?3:2),Nh(this);var t=this.g.ba();this.N=t;t:if(OD(this)){var r=j0(this.g);n="";var o=r.length,u=4==Da(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){yu(this),Xc(this);var d="";break t}this.h.i=new Rt.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==o-1});r.splice(0,o),this.h.g+=n,this.C=0,d=this.h.g}else d=this.g.ga();if(this.i=200==t,function w0(n,e,t,r,o,u,d){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+e+"\n"+t+"\n"+u+" "+d})}(this.j,this.u,this.A,this.m,this.X,x,t),this.i){if(this.$&&!this.J){t:{if(this.g){var m,E=this.g;if((m=E.g?E.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!qc(m)){var C=m;break t}}C=null}if(!(t=C)){this.i=!1,this.o=3,ci(12),yu(this),Xc(this);break e}Yc(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,zp(this,t)}this.U?(PD(this,x,d),Um&&this.i&&3==x&&(Zm(this.V,this.W,"tick",this.fb),this.W.start())):(Yc(this.j,this.m,d,null),zp(this,d)),4==x&&yu(this),this.i&&!this.I&&(4==x?yl(this.l,this):(this.i=!1,Gp(this)))}else 400==t&&0<d.indexOf("Unknown SID")?(this.o=3,ci(12)):(this.o=0,ci(13)),yu(this),Xc(this)}}}catch(x){}},it.fb=function(){if(this.g){var n=Da(this.g),e=this.g.ga();this.C<e.length&&(Nh(this),PD(this,n,e),this.i&&4!=n&&Gp(this))}},it.cancel=function(){this.I=!0,yu(this)},it.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function xD(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Th(3),ci(17)),yu(this),this.o=2,Xc(this)):T0(this,this.Y-n)},(it=Ia.prototype).R=function(){sy(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},it.T=function(){return sy(this),this.g.concat()},it.get=function(n,e){return pl(this.h,n)?this.h[n]:e},it.set=function(n,e){pl(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},it.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var o=t[r],u=this.get(o);n.call(e,u,o,this)}};var kD=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function _u(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof _u){this.g=void 0!==e?e:n.g,vu(this,n.j),this.s=n.s,qp(this,n.i),ed(this,n.m),this.l=n.l,e=n.h;var t=new Fh;t.i=e.i,e.g&&(t.g=new Ia(e.g),t.h=e.h),ay(this,t),this.o=n.o}else n&&(t=String(n).match(kD))?(this.g=!!e,vu(this,t[1]||"",!0),this.s=Ph(t[2]||""),qp(this,t[3]||"",!0),ed(this,t[4]),this.l=Ph(t[5]||"",!0),ay(this,t[6]||"",!0),this.o=Ph(t[7]||"")):(this.g=!!e,this.h=new Fh(null,this.g))}function ao(n){return new _u(n)}function vu(n,e,t){n.j=t?Ph(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function qp(n,e,t){n.i=t?Ph(e,!0):e}function ed(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function ay(n,e,t){e instanceof Fh?(n.h=e,function N0(n,e){e&&!n.j&&(Eu(n),n.i=null,n.g.forEach(function(t,r){var o=r.toLowerCase();r!=o&&(x0(this,r),uo(this,o,t))},n)),n.j=e}(n.h,n.g)):(t||(e=kh(e,VD)),n.h=new Fh(e,n.g))}function Fn(n,e,t){n.h.set(e,t)}function Oh(n){return Fn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Ph(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function kh(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,S0),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function S0(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}_u.prototype.toString=function(){var n=[],e=this.j;e&&n.push(kh(e,gl,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(kh(e,gl,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(kh(t,"/"==t.charAt(0)?LD:M0,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",kh(t,td)),n.join("")};var gl=/[#\/\?@]/g,M0=/[#\?:]/g,LD=/[#\?]/g,VD=/[#\?@]/g,td=/#/g;function Fh(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Eu(n){n.g||(n.g=new Ia,n.h=0,n.i&&function oy(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),o=null;if(0<=r){var u=n[t].substring(0,r);o=n[t].substring(r+1)}else u=n[t];e(u,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function x0(n,e){Eu(n),e=wu(n,e),pl(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,pl((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&sy(n)))}function R0(n,e){return Eu(n),e=wu(n,e),pl(n.g.h,e)}function uo(n,e,t){x0(n,e),0<t.length&&(n.i=null,n.g.set(wu(n,e),Mp(t)),n.h+=t.length)}function wu(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function ly(n){this.l=n||P0,n=Rt.PerformanceNavigationTiming?0<(n=Rt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Rt.g&&Rt.g.Ea&&Rt.g.Ea()&&Rt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(it=Fh.prototype).add=function(n,e){Eu(this),this.i=null,n=wu(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},it.forEach=function(n,e){Eu(this),this.g.forEach(function(t,r){Ap(t,function(o){n.call(e,o,r,this)},this)},this)},it.T=function(){Eu(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var o=n[r],u=0;u<o.length;u++)t.push(e[r]);return t},it.R=function(n){Eu(this);var e=[];if("string"==typeof n)R0(this,n)&&(e=Sp(e,this.g.get(wu(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=Sp(e,n[t])}return e},it.set=function(n,e){return Eu(this),this.i=null,R0(this,n=wu(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},it.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},it.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],o=encodeURIComponent(String(r));r=this.R(r);for(var u=0;u<r.length;u++){var d=o;""!==r[u]&&(d+="="+encodeURIComponent(String(r[u]))),n.push(d)}}return this.i=n.join("&")};var P0=10;function k0(n){return!!n.h||!!n.g&&n.g.size>=n.j}function F0(n){return n.h?1:n.g?n.g.size:0}function cy(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function dy(n,e){n.g?n.g.add(e):n.h=e}function hy(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function UD(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Mp(n.i)}function Wp(){}function BD(){this.g=new Wp}function jD(n,e,t){const r=t||"";try{oo(n,function(o,u){let d=o;mh(o)&&(d=Fp(o)),e.push(r+u+"="+encodeURIComponent(d))})}catch(o){throw e.push(r+"type="+encodeURIComponent("_badmap")),o}}function fy(n,e,t,r,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(r)}catch(u){}}function ml(n){this.l=n.$b||null,this.j=n.ib||!1}function Zp(n,e){qn.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Kp,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ly.prototype.cancel=function(){if(this.i=UD(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Wp.prototype.stringify=function(n){return Rt.JSON.stringify(n,void 0)},Wp.prototype.parse=function(n){return Rt.JSON.parse(n,void 0)},jr(ml,Qm),ml.prototype.g=function(){return new Zp(this.l,this.j)},ml.prototype.i=function(n){return function(){return n}}({}),jr(Zp,qn);var Kp=0;function py(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function Yp(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Di(n)}function Di(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(it=Zp.prototype).open=function(n,e){if(this.readyState!=Kp)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Di(this)},it.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Rt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},it.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Yp(this)),this.readyState=Kp},it.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Di(this)),this.g&&(this.readyState=3,Di(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Rt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;py(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},it.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Yp(this):Di(this),3==this.readyState&&py(this)}},it.Ua=function(n){this.g&&(this.response=this.responseText=n,Yp(this))},it.Ta=function(n){this.g&&(this.response=n,Yp(this))},it.ha=function(){this.g&&Yp(this)},it.setRequestHeader=function(n,e){this.v.append(n,e)},it.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},it.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Zp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var LT=Rt.JSON.parse;function Ar(n){qn.call(this),this.headers=new Ia,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=gy,this.K=this.L=!1}jr(Ar,qn);var gy="",L0=/^https?$/i,V0=["POST","PUT"];function VT(n){return"content-type"==n.toLowerCase()}function my(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,Qp(n),nd(n)}function Qp(n){n.D||(n.D=!0,Jr(n,"complete"),Jr(n,"error"))}function U0(n){if(n.h&&void 0!==Cp&&(!n.C[1]||4!=Da(n)||2!=n.ba()))if(n.v&&4==Da(n))Ii(n.Fa,0,n);else if(Jr(n,"readystatechange"),4==Da(n)){n.h=!1;try{const m=n.ba();e:switch(m){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===m){var o=String(n.H).match(kD)[1]||null;if(!o&&Rt.self&&Rt.self.location){var u=Rt.self.location.protocol;o=u.substr(0,u.length-1)}r=!L0.test(o?o.toLowerCase():"")}t=r}if(t)Jr(n,"complete"),Jr(n,"success");else{n.m=6;try{var d=2<Da(n)?n.g.statusText:""}catch(E){d=""}n.j=d+" ["+n.ba()+"]",Qp(n)}}finally{nd(n)}}}function nd(n,e){if(n.g){B0(n);const t=n.g,r=n.C[0]?Tp:null;n.g=null,n.C=null,e||Jr(n,"ready");try{t.onreadystatechange=r}catch(o){}}}function B0(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Rt.clearTimeout(n.A),n.A=null)}function Da(n){return n.g?n.g.readyState:0}function j0(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case gy:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function yy(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function HD(n){let e="";return vh(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Fn(n,e,t))}function Lh(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Vh(n){this.za=0,this.l=[],this.h=new $p,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Lh("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Lh("baseRetryDelayMs",5e3,n),this.$a=Lh("retryDelaySeedMs",1e4,n),this.Ya=Lh("forwardChannelMaxRetries",2,n),this.ra=Lh("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new ly(n&&n.concurrentRequestLimit),this.Ca=new BD,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function Iu(n){if(rd(n),3==n.G){var e=n.V++,t=ao(n.F);Fn(t,"SID",n.J),Fn(t,"RID",e),Fn(t,"TYPE","terminate"),ba(n,t),(e=new Mh(n,n.h,e,void 0)).K=2,e.v=Oh(ao(t)),t=!1,Rt.navigator&&Rt.navigator.sendBeacon&&(t=Rt.navigator.sendBeacon(e.v.toString(),"")),!t&&Rt.Image&&((new Image).src=e.v,t=!0),t||(e.g=wl(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Gp(e)}vl(n)}function Jp(n){n.g&&(Hi(n),n.g.cancel(),n.g=null)}function rd(n){Jp(n),n.u&&(Rt.clearTimeout(n.u),n.u=null),Ca(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Rt.clearTimeout(n.m),n.m=null)}function _y(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&Xp(n)}function Xp(n){k0(n.i)||n.m||(n.m=!0,Vp(n.Ha,n),n.C=0)}function lo(n,e){var t;t=e?e.m:n.V++;const r=ao(n.F);Fn(r,"SID",n.J),Fn(r,"RID",t),Fn(r,"AID",n.U),ba(n,r),n.o&&n.s&&yy(r,n.o,n.s),t=new Mh(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=Xr(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),dy(n.i,t),Rh(t,r,e)}function ba(n,e){n.j&&oo({},function(t,r){Fn(e,r,t)})}function Xr(n,e,t){t=Math.min(n.l.length,t);var r=n.j?Br(n.j.Oa,n.j,n):null;e:{var o=n.l;let u=-1;for(;;){const d=["count="+t];-1==u?0<t?(u=o[0].h,d.push("ofs="+u)):u=0:d.push("ofs="+u);let m=!0;for(let E=0;E<t;E++){let C=o[E].h;const x=o[E].g;if(C-=u,0>C)u=Math.max(0,o[E].h-100),m=!1;else try{jD(x,d,"req"+C+"_")}catch(N){r&&r(x)}}if(m){r=d.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function Du(n){n.g||n.u||(n.Y=1,Vp(n.Ga,n),n.A=0)}function id(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=$i(Br(n.Ga,n),_l(n,n.A)),n.A++,0))}function Hi(n){null!=n.B&&(Rt.clearTimeout(n.B),n.B=null)}function eg(n){n.g=new Mh(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=ao(n.oa);Fn(e,"RID","rpc"),Fn(e,"SID",n.J),Fn(e,"CI",n.N?"0":"1"),Fn(e,"AID",n.U),ba(n,e),Fn(e,"TYPE","xmlhttp"),n.o&&n.s&&yy(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=Oh(ao(e)),t.s=null,t.U=!0,ry(t,n)}function Ca(n){null!=n.v&&(Rt.clearTimeout(n.v),n.v=null)}function yl(n,e){var t=null;if(n.g==e){Ca(n),Hi(n),n.g=null;var r=2}else{if(!cy(n.i,e))return;t=e.D,hy(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var o=n.C;Jr(r=Ch(),new b0(r,t,e,o)),Xp(n)}else Du(n);else if(3==(o=e.o)||0==o&&0<n.I||!(1==r&&function vy(n,e){return!(F0(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=$i(Br(n.Ha,n,e),_l(n,n.C)),n.C++,0)))}(n,e)||2==r&&id(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),o){case 1:Ls(n,5);break;case 4:Ls(n,10);break;case 3:Ls(n,6);break;default:Ls(n,2)}}function _l(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function Ls(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=Br(n.jb,n);t||(t=new _u("//www.google.com/images/cleardot.gif"),Rt.location&&"http"==Rt.location.protocol||vu(t,"https"),Oh(t)),function FT(n,e){const t=new $p;if(Rt.Image){const r=new Image;r.onload=yh(fy,t,r,"TestLoadImage: loaded",!0,e),r.onerror=yh(fy,t,r,"TestLoadImage: error",!1,e),r.onabort=yh(fy,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=yh(fy,t,r,"TestLoadImage: timeout",!1,e),Rt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else ci(2);n.G=0,n.j&&n.j.va(e),vl(n),rd(n)}function vl(n){n.G=0,n.I=-1,n.j&&((0!=UD(n.i).length||0!=n.l.length)&&(n.i.i.length=0,Mp(n.l),n.l.length=0),n.j.ua())}function El(n,e,t){let r=function FD(n){return n instanceof _u?ao(n):new _u(n,void 0)}(t);if(""!=r.i)e&&qp(r,e+"."+r.i),ed(r,r.m);else{const o=Rt.location;r=function uy(n,e,t,r){var o=new _u(null,void 0);return n&&vu(o,n),e&&qp(o,e),t&&ed(o,t),r&&(o.l=r),o}(o.protocol,e?e+"."+o.hostname:o.hostname,+o.port,t)}return n.aa&&vh(n.aa,function(o,u){Fn(r,u,o)}),t=n.sa,(e=n.D)&&t&&Fn(r,e,t),Fn(r,"VER",n.ma),ba(n,r),r}function wl(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ar(t&&n.Ba&&!n.qa?new ml({ib:!0}):n.qa)).L=n.H,e}function Il(){}function Ta(){if(dl&&!(10<=Number(PT)))throw Error("Environmental error: no available transport.")}function Gi(n,e){qn.call(this),this.g=new Vh(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!qc(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!qc(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Dl(this)}function Ey(n){Xm.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function wy(){ey.call(this),this.status=1}function Dl(n){this.g=n}(it=Ar.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Sh.g(),this.C=function ND(n){return n.h||(n.h=n.i())}(this.u?this.u:Sh),this.g.onreadystatechange=Br(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(u){return void my(this,u)}n=t||"";const o=new Ia(this.headers);r&&oo(r,function(u,d){o.set(d,u)}),r=function wa(n){e:{var e=VT;const t=n.length,r="string"==typeof n?n.split(""):n;for(let o=0;o<t;o++)if(o in r&&e.call(void 0,r[o],o,n)){e=o;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(o.T()),t=Rt.FormData&&n instanceof Rt.FormData,!(0<=o0(V0,e))||r||t||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(u,d){this.g.setRequestHeader(d,u)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{B0(this),0<this.B&&((this.K=function $D(n){return dl&&function OT(){return function vD(n){var e=NT;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=yD(String(Np)).split("."),t=yD("9").split("."),r=Math.max(e.length,t.length);for(let d=0;0==n&&d<r;d++){var o=e[d]||"",u=t[d]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==o[0].length&&0==u[0].length)break;n=a0(0==o[1].length?0:parseInt(o[1],10),0==u[1].length?0:parseInt(u[1],10))||a0(0==o[2].length,0==u[2].length)||a0(o[2],u[2]),o=o[3],u=u[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Br(this.pa,this)):this.A=Ii(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){my(this,u)}},it.pa=function(){void 0!==Cp&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Jr(this,"timeout"),this.abort(8))},it.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Jr(this,"complete"),Jr(this,"abort"),nd(this))},it.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),nd(this,!0)),Ar.Z.M.call(this)},it.Fa=function(){this.s||(this.F||this.v||this.l?U0(this):this.cb())},it.cb=function(){U0(this)},it.ba=function(){try{return 2<Da(this)?this.g.status:-1}catch(n){return-1}},it.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},it.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),LT(e)}},it.Da=function(){return this.m},it.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(it=Vh.prototype).ma=8,it.G=1,it.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},it.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const o=new Mh(this,this.h,n,void 0);let u=this.s;if(this.P&&(u?(u=Rp(u),u0(u,this.P)):u=this.P),null===this.o&&(o.H=u),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Xr(this,o,e),Fn(t=ao(this.F),"RID",n),Fn(t,"CVER",22),this.D&&Fn(t,"X-HTTP-Session-Id",this.D),ba(this,t),this.o&&u&&yy(t,this.o,u),dy(this.i,o),this.Ra&&Fn(t,"TYPE","init"),this.ja?(Fn(t,"$req",e),Fn(t,"SID","null"),o.$=!0,Rh(o,t,null)):Rh(o,t,e),this.G=2}}else 3==this.G&&(n?lo(this,n):0==this.l.length||k0(this.i)||lo(this))},it.Ga=function(){if(this.u=null,eg(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=$i(Br(this.bb,this),n)}},it.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ci(10),Jp(this),eg(this))},it.ab=function(){null!=this.v&&(this.v=null,Jp(this),id(this),ci(19))},it.jb=function(n){n?(this.h.info("Successfully pinged google.com"),ci(2)):(this.h.info("Failed to ping google.com"),ci(1))},(it=Il.prototype).xa=function(){},it.wa=function(){},it.va=function(){},it.ua=function(){},it.Oa=function(){},Ta.prototype.g=function(n,e){return new Gi(n,e)},jr(Gi,qn),Gi.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),Vp(Br(n.hb,n,e))),ci(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=El(n,null,n.W),Xp(n)},Gi.prototype.close=function(){Iu(this.g)},Gi.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,_y(this.g,e)}else this.v?((e={}).__data__=Fp(n),_y(this.g,e)):_y(this.g,n)},Gi.prototype.M=function(){this.g.j=null,delete this.j,Iu(this.g),delete this.g,Gi.Z.M.call(this)},jr(Ey,Xm),jr(wy,ey),jr(Dl,Il),Dl.prototype.xa=function(){Jr(this.g,"a")},Dl.prototype.wa=function(n){Jr(this.g,new Ey(n))},Dl.prototype.va=function(n){Jr(this.g,new wy(n))},Dl.prototype.ua=function(){Jr(this.g,"b")},Ta.prototype.createWebChannel=Ta.prototype.g,Gi.prototype.send=Gi.prototype.u,Gi.prototype.open=Gi.prototype.m,Gi.prototype.close=Gi.prototype.close,Qc.NO_ERROR=0,Qc.TIMEOUT=8,Qc.HTTP_ERROR=6,C0.COMPLETE="complete",Jm.EventType=Ah,Ah.OPEN="a",Ah.CLOSE="b",Ah.ERROR="c",Ah.MESSAGE="d",qn.prototype.listen=qn.prototype.N,Ar.prototype.listenOnce=Ar.prototype.O,Ar.prototype.getLastError=Ar.prototype.La,Ar.prototype.getLastErrorCode=Ar.prototype.Da,Ar.prototype.getStatus=Ar.prototype.ba,Ar.prototype.getResponseJson=Ar.prototype.Qa,Ar.prototype.getResponseText=Ar.prototype.ga,Ar.prototype.send=Ar.prototype.ea;var $0=Tr.createWebChannelTransport=function(){return new Ta},H0=Tr.getStatEventTarget=function(){return Ch()},tg=Tr.ErrorCode=Qc,G0=Tr.EventType=C0,z0=Tr.Event=mu,q0=Tr.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},W0=Tr.FetchXmlHttpFactory=ml,ng=Tr.WebChannel=Jm,Z0=Tr.XhrIo=Ar;const Iy="@firebase/firestore";class ei{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ei.UNAUTHENTICATED=new ei(null),ei.GOOGLE_CREDENTIALS=new ei("google-credentials-uid"),ei.FIRST_PARTY=new ei("first-party-uid"),ei.MOCK_USER=new ei("mock-user");let sd="9.8.0";const Aa=new Ea.Yd("@firebase/firestore");function Dy(){return Aa.logLevel}function Ve(n,...e){if(Aa.logLevel<=Ea.in.DEBUG){const t=e.map(by);Aa.debug(`Firestore (${sd}): ${n}`,...t)}}function mr(n,...e){if(Aa.logLevel<=Ea.in.ERROR){const t=e.map(by);Aa.error(`Firestore (${sd}): ${n}`,...t)}}function rg(n,...e){if(Aa.logLevel<=Ea.in.WARN){const t=e.map(by);Aa.warn(`Firestore (${sd}): ${n}`,...t)}}function by(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function st(n="Unexpected state"){const e=`FIRESTORE (${sd}) INTERNAL ASSERTION FAILED: `+n;throw mr(e),new Error(e)}function Ct(n,e){n||st()}function tt(n,e){return n}const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Pe extends qt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Hr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Cy{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class UT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ei.UNAUTHENTICATED))}shutdown(){}}class zD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class od{constructor(e){this.t=e,this.currentUser=ei.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let o=this.i;const u=C=>this.i!==o?(o=this.i,t(C)):Promise.resolve();let d=new Hr;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new Hr,e.enqueueRetryable(()=>u(this.currentUser))};const m=()=>{const C=d;e.enqueueRetryable((0,ve.Z)(function*(){yield C.promise,yield u(r.currentUser)}))},E=C=>{Ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=C,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(C=>E(C)),setTimeout(()=>{if(!this.auth){const C=this.t.getImmediate({optional:!0});C?E(C):(Ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new Hr)}},0),m()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ct("string"==typeof r.accessToken),new Cy(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ct(null===e||"string"==typeof e),new ei(e)}}class qD{constructor(e,t,r){this.type="FirstParty",this.user=ei.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const o=e.auth.getAuthHeaderValueForFirstParty([]);o&&this.headers.set("Authorization",o),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class Y0{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new qD(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(ei.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Q0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class J0{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=u=>{null!=u.error&&Ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.p;return this.p=u.token,Ve("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const o=u=>{Ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.g.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.g.getImmediate({optional:!0});u?o(u):Ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ct("string"==typeof t.token),this.p=t.token,new Q0(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class ls{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.I(r),this.T=r=>t.writeSequenceNumber(r))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function X0(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}ls.A=-1;class eE{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const o=X0(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<t&&(r+=e.charAt(o[u]%e.length))}return r}}function Lt(n,e){return n<e?-1:n>e?1:0}function ad(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}function tE(n){return n+"\0"}class lr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Pe(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Pe(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Pe(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Pe(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return lr.fromMillis(Date.now())}static fromDate(e){return lr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new lr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Lt(this.nanoseconds,e.nanoseconds):Lt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class wt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new wt(e)}static min(){return new wt(new lr(0,0))}static max(){return new wt(new lr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function nE(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function bu(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Ay(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class bl{constructor(e,t,r){void 0===t?t=0:t>e.length&&st(),void 0===r?r=e.length-t:r>e.length-t&&st(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===bl.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof bl?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const u=e.get(o),d=t.get(o);if(u<d)return-1;if(u>d)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class sn extends bl{construct(e,t,r){return new sn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Pe(he.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new sn(t)}static emptyPath(){return new sn([])}}const Sy=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Sr extends bl{construct(e,t,r){return new Sr(e,t,r)}static isValidIdentifier(e){return Sy.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Sr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Sr(["__name__"])}static fromServerFormat(e){const t=[];let r="",o=0;const u=()=>{if(0===r.length)throw new Pe(he.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let d=!1;for(;o<e.length;){const m=e[o];if("\\"===m){if(o+1===e.length)throw new Pe(he.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const E=e[o+1];if("\\"!==E&&"."!==E&&"`"!==E)throw new Pe(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=E,o+=2}else"`"===m?(d=!d,o++):"."!==m||d?(r+=m,o++):(u(),o++)}if(u(),d)throw new Pe(he.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Sr(t)}static emptyPath(){return new Sr([])}}class Uh{constructor(e){this.fields=e,e.sort(Sr.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ad(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class yr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new yr(t)}static fromUint8Array(e){const t=function(r){let o="";for(let u=0;u<r.length;++u)o+=String.fromCharCode(r[u]);return o}(e);return new yr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Lt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yr.EMPTY_BYTE_STRING=new yr("");const My=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zo(n){if(Ct(!!n),"string"==typeof n){let e=0;const t=My.exec(n);if(Ct(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Yn(n.seconds),nanos:Yn(n.nanos)}}function Yn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function qo(n){return"string"==typeof n?yr.fromBase64String(n):yr.fromUint8Array(n)}function ud(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function ig(n){const e=n.mapValue.fields.__previous_value__;return ud(e)?ig(e):e}function sg(n){const e=zo(n.mapValue.fields.__local_write_time__.timestampValue);return new lr(e.seconds,e.nanos)}class WD{constructor(e,t,r,o,u,d,m,E){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=m,this.useFetchStreams=E}}class co{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new co("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof co&&e.projectId===this.projectId&&e.database===this.database}}function Cl(n){return null==n}function ld(n){return 0===n&&1/n==-1/0}function xy(n){return"number"==typeof n&&Number.isInteger(n)&&!ld(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class Qe{constructor(e){this.path=e}static fromPath(e){return new Qe(sn.fromString(e))}static fromName(e){return new Qe(sn.fromString(e).popFirst(5))}static empty(){return new Qe(sn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===sn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return sn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Qe(new sn(e.slice()))}}const Sa={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},jh={nullValue:"NULL_VALUE"};function Ma(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?ud(n)?4:Oy(n)?9007199254740991:10:st()}function ho(n,e){if(n===e)return!0;const t=Ma(n);if(t!==Ma(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return sg(n).isEqual(sg(e));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const u=zo(r.timestampValue),d=zo(o.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,qo(n.bytesValue).isEqual(qo(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return Yn(r.geoPointValue.latitude)===Yn(o.geoPointValue.latitude)&&Yn(r.geoPointValue.longitude)===Yn(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Yn(r.integerValue)===Yn(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const u=Yn(r.doubleValue),d=Yn(o.doubleValue);return u===d?ld(u)===ld(d):isNaN(u)&&isNaN(d)}return!1}(n,e);case 9:return ad(n.arrayValue.values||[],e.arrayValue.values||[],ho);case 10:return function(r,o){const u=r.mapValue.fields||{},d=o.mapValue.fields||{};if(nE(u)!==nE(d))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(void 0===d[m]||!ho(u[m],d[m])))return!1;return!0}(n,e);default:return st()}var o}function $h(n,e){return void 0!==(n.values||[]).find(t=>ho(t,e))}function xa(n,e){if(n===e)return 0;const t=Ma(n),r=Ma(e);if(t!==r)return Lt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Lt(n.booleanValue,e.booleanValue);case 2:return function(o,u){const d=Yn(o.integerValue||o.doubleValue),m=Yn(u.integerValue||u.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(n,e);case 3:return Ry(n.timestampValue,e.timestampValue);case 4:return Ry(sg(n),sg(e));case 5:return Lt(n.stringValue,e.stringValue);case 6:return function(o,u){const d=qo(o),m=qo(u);return d.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(o,u){const d=o.split("/"),m=u.split("/");for(let E=0;E<d.length&&E<m.length;E++){const C=Lt(d[E],m[E]);if(0!==C)return C}return Lt(d.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,u){const d=Lt(Yn(o.latitude),Yn(u.latitude));return 0!==d?d:Lt(Yn(o.longitude),Yn(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,u){const d=o.values||[],m=u.values||[];for(let E=0;E<d.length&&E<m.length;++E){const C=xa(d[E],m[E]);if(C)return C}return Lt(d.length,m.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,u){if(o===Sa.mapValue&&u===Sa.mapValue)return 0;if(o===Sa.mapValue)return 1;if(u===Sa.mapValue)return-1;const d=o.fields||{},m=Object.keys(d),E=u.fields||{},C=Object.keys(E);m.sort(),C.sort();for(let x=0;x<m.length&&x<C.length;++x){const N=Lt(m[x],C[x]);if(0!==N)return N;const W=xa(d[m[x]],E[C[x]]);if(0!==W)return W}return Lt(m.length,C.length)}(n.mapValue,e.mapValue);default:throw st()}}function Ry(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Lt(n,e);const t=zo(n),r=zo(e),o=Lt(t.seconds,r.seconds);return 0!==o?o:Lt(t.nanos,r.nanos)}function Cu(n){return og(n)}function og(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const o=zo(r);return`time(${o.seconds},${o.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?qo(n.bytesValue).toBase64():"referenceValue"in n?Qe.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let o="[",u=!0;for(const d of r.values||[])u?u=!1:o+=",",o+=og(d);return o+"]"}(n.arrayValue):"mapValue"in n?function(r){const o=Object.keys(r.fields||{}).sort();let u="{",d=!0;for(const m of o)d?d=!1:u+=",",u+=`${m}:${og(r.fields[m])}`;return u+"}"}(n.mapValue):st();var e}function Tl(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Ny(n){return!!n&&"integerValue"in n}function Hh(n){return!!n&&"arrayValue"in n}function ag(n){return!!n&&"nullValue"in n}function Gh(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function cd(n){return!!n&&"mapValue"in n}function dd(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return bu(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=dd(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=dd(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Oy(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function rE(n){return"nullValue"in n?jh:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Tl(co.empty(),Qe.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:st()}function iE(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Tl(co.empty(),Qe.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Sa:st()}function Py(n,e){const t=xa(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function ky(n,e){const t=xa(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class ti{constructor(e){this.value=e}static empty(){return new ti({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!cd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=dd(t)}setAll(e){let t=Sr.emptyPath(),r={},o=[];e.forEach((d,m)=>{if(!t.isImmediateParentOf(m)){const E=this.getFieldsMap(t);this.applyChanges(E,r,o),r={},o=[],t=m.popLast()}d?r[m.lastSegment()]=dd(d):o.push(m.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,o)}delete(e){const t=this.field(e.popLast());cd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ho(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];cd(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){bu(t,(o,u)=>e[o]=u);for(const o of r)delete e[o]}clone(){return new ti(dd(this.value))}}function ZD(n){const e=[];return bu(n.fields,(t,r)=>{const o=new Sr([t]);if(cd(r)){const u=ZD(r.mapValue).fields;if(0===u.length)e.push(o);else for(const d of u)e.push(o.child(d))}else e.push(o)}),new Uh(e)}class Ln{constructor(e,t,r,o,u,d){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.data=u,this.documentState=d}static newInvalidDocument(e){return new Ln(e,0,wt.min(),wt.min(),ti.empty(),0)}static newFoundDocument(e,t,r){return new Ln(e,1,t,wt.min(),r,0)}static newNoDocument(e,t){return new Ln(e,2,t,wt.min(),ti.empty(),0)}static newUnknownDocument(e,t){return new Ln(e,3,t,wt.min(),ti.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ti.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ti.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ln(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ug{constructor(e,t,r,o){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=o}}function lg(n){return n.fields.find(e=>2===e.kind)}function Al(n){return n.fields.filter(e=>2!==e.kind)}ug.UNKNOWN_ID=-1;class Qn{constructor(e,t){this.fieldPath=e,this.kind=t}}class hd{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new hd(0,Vs.min())}}function sE(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=wt.fromTimestamp(1e9===r?new lr(t+1,0):new lr(t,r));return new Vs(o,Qe.empty(),e)}function KD(n){return new Vs(n.readTime,n.key,-1)}class Vs{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Vs(wt.min(),Qe.empty(),-1)}static max(){return new Vs(wt.max(),Qe.empty(),-1)}}function oE(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Qe.comparator(n.documentKey,e.documentKey),0!==t?t:Lt(n.largestBatchId,e.largestBatchId))}class Jn{constructor(e,t){this.comparator=e,this.root=t||Xn.EMPTY}insert(e,t){return new Jn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Xn.BLACK,null,null))}remove(e){return new Jn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zh(this.root,e,this.comparator,!1)}getReverseIterator(){return new zh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zh(this.root,e,this.comparator,!0)}}class zh{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xn{constructor(e,t,r,o,u){this.key=e,this.value=t,this.color=null!=r?r:Xn.RED,this.left=null!=o?o:Xn.EMPTY,this.right=null!=u?u:Xn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,u){return new Xn(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=o?o:this.left,null!=u?u:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const u=r(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,r),null):0===u?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Xn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===t(e,o.key)){if(o.right.isEmpty())return Xn.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw st();const e=this.left.check();if(e!==this.right.check())throw st();return e+(this.isRed()?0:1)}}Xn.EMPTY=null,Xn.RED=!0,Xn.BLACK=!1,Xn.EMPTY=new class{constructor(){this.size=0}get key(){throw st()}get value(){throw st()}get color(){throw st()}get left(){throw st()}get right(){throw st()}copy(n,e,t,r,o){return this}insert(n,e,t){return new Xn(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class An{constructor(e){this.comparator=e,this.data=new Jn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new aE(this.data.getIterator())}getIteratorFrom(e){return new aE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof An)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(o,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new An(this.comparator);return t.data=e,t}}class aE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Sl(n){return n.hasNext()?n.getNext():void 0}class YD{constructor(e,t=null,r=[],o=[],u=null,d=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=d,this.endAt=m,this.P=null}}function Fy(n,e=null,t=[],r=[],o=null,u=null,d=null){return new YD(n,e,t,r,o,u,d)}function fd(n){const e=tt(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(o=r).field.canonicalString()+o.op.toString()+Cu(o.value);var o}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),Cl(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Cu(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Cu(r)).join(",")),e.P=t}return e.P}function Ml(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let o=0;o<n.orderBy.length;o++)if(!fE(n.orderBy[o],e.orderBy[o]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let o=0;o<n.filters.length;o++)if((t=n.filters[o]).op!==(r=e.filters[o]).op||!t.field.isEqual(r.field)||!ho(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Vy(n.startAt,e.startAt)&&Vy(n.endAt,e.endAt)}function cs(n){return Qe.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function cg(n,e){return n.filters.filter(t=>t instanceof Dn&&t.field.isEqual(e))}function lE(n,e,t){let r=jh,o=!0;for(const u of cg(n,e)){let d=jh,m=!0;switch(u.op){case"<":case"<=":d=rE(u.value);break;case"==":case"in":case">=":d=u.value;break;case">":d=u.value,m=!1;break;case"!=":case"not-in":d=jh}Py({value:r,inclusive:o},{value:d,inclusive:m})<0&&(r=d,o=m)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const d=t.position[u];Py({value:r,inclusive:o},{value:d,inclusive:t.inclusive})<0&&(r=d,o=t.inclusive);break}return{value:r,inclusive:o}}function fo(n,e,t){let r=Sa,o=!0;for(const u of cg(n,e)){let d=Sa,m=!0;switch(u.op){case">=":case">":d=iE(u.value),m=!1;break;case"==":case"in":case"<=":d=u.value;break;case"<":d=u.value,m=!1;break;case"!=":case"not-in":d=Sa}ky({value:r,inclusive:o},{value:d,inclusive:m})>0&&(r=d,o=m)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const d=t.position[u];ky({value:r,inclusive:o},{value:d,inclusive:t.inclusive})>0&&(r=d,o=t.inclusive);break}return{value:r,inclusive:o}}class Dn extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new po(e,t,r):"array-contains"===t?new QD(e,r):"in"===t?new JD(e,r):"not-in"===t?new XD(e,r):"array-contains-any"===t?new Ly(e,r):new Dn(e,t,r)}static V(e,t,r){return"in"===t?new cE(e,r):new dE(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(xa(t,this.value)):null!==t&&Ma(this.value)===Ma(t)&&this.v(xa(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return st()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class po extends Dn{constructor(e,t,r){super(e,t,r),this.key=Qe.fromName(r.referenceValue)}matches(e){const t=Qe.comparator(e.key,this.key);return this.v(t)}}class cE extends Dn{constructor(e,t){super(e,"in",t),this.keys=hE(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class dE extends Dn{constructor(e,t){super(e,"not-in",t),this.keys=hE(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function hE(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Qe.fromName(r.referenceValue))}class QD extends Dn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Hh(t)&&$h(t.arrayValue,this.value)}}class JD extends Dn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&$h(this.value.arrayValue,t)}}class XD extends Dn{constructor(e,t){super(e,"not-in",t)}matches(e){if($h(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!$h(this.value.arrayValue,t)}}class Ly extends Dn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Hh(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>$h(this.value.arrayValue,r))}}class Us{constructor(e,t){this.position=e,this.inclusive=t}}class pd{constructor(e,t="asc"){this.field=e,this.dir=t}}function fE(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function pE(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const u=e[o],d=n.position[o];if(r=u.field.isKeyField()?Qe.comparator(Qe.fromName(d.referenceValue),t.key):xa(d,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function Vy(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ho(n.position[t],e.position[t]))return!1;return!0}class Wo{constructor(e,t=null,r=[],o=[],u=null,d="F",m=null,E=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=d,this.startAt=m,this.endAt=E,this.D=null,this.C=null}}function qh(n,e,t,r,o,u,d,m){return new Wo(n,e,t,r,o,u,d,m)}function gd(n){return new Wo(n)}function dg(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Wh(n){for(const e of n.filters)if(e.S())return e.field;return null}function md(n){return null!==n.collectionGroup}function Tu(n){const e=tt(n);if(null===e.D){e.D=[];const t=Wh(e),r=dg(e);if(null!==t&&null===r)t.isKeyField()||e.D.push(new pd(t)),e.D.push(new pd(Sr.keyField(),"asc"));else{let o=!1;for(const u of e.explicitOrderBy)e.D.push(u),u.field.isKeyField()&&(o=!0);if(!o){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new pd(Sr.keyField(),u))}}}return e.D}function ds(n){const e=tt(n);if(!e.C)if("F"===e.limitType)e.C=Fy(e.path,e.collectionGroup,Tu(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of Tu(e))t.push(new pd(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new Us(e.endAt.position,e.endAt.inclusive):null,o=e.startAt?new Us(e.startAt.position,e.startAt.inclusive):null;e.C=Fy(e.path,e.collectionGroup,t,e.filters,e.limit,r,o)}return e.C}function Uy(n,e,t){return new Wo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function yd(n,e){return Ml(ds(n),ds(e))&&n.limitType===e.limitType}function By(n){return`${fd(ds(n))}|lt:${n.limitType}`}function hg(n){return`Query(target=${function uE(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${Cu(r.value)}`;var r}).join(", ")}]`),Cl(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Cu(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Cu(t)).join(",")),`Target(${e})`}(ds(n))}; limitType=${n.limitType})`}function fg(n,e){return e.isFoundDocument()&&function(t,r){const o=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(o):Qe.isDocumentKey(t.path)?t.path.isEqual(o):t.path.isImmediateParentOf(o)}(n,e)&&function(t,r){for(const o of t.explicitOrderBy)if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,e)&&function(t,r){for(const o of t.filters)if(!o.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(o,u,d){const m=pE(o,u,d);return o.inclusive?m<=0:m<0}(t.startAt,Tu(t),r)||t.endAt&&!function(o,u,d){const m=pE(o,u,d);return o.inclusive?m>=0:m>0}(t.endAt,Tu(t),r)));var t,r}function jy(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function mE(n){return(e,t)=>{let r=!1;for(const o of Tu(n)){const u=eb(o,e,t);if(0!==u)return u;r=r||o.field.isKeyField()}return 0}}function eb(n,e,t){const r=n.field.isKeyField()?Qe.comparator(e.key,t.key):function(o,u,d){const m=u.data.field(o),E=d.data.field(o);return null!==m&&null!==E?xa(m,E):st()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return st()}}function yE(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ld(e)?"-0":e}}function _E(n){return{integerValue:""+n}}function vE(n,e){return xy(e)?_E(e):yE(n,e)}class pg{constructor(){this._=void 0}}function tb(n,e,t){return n instanceof _d?function(r,o){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&(u.fields.__previous_value__=o),{mapValue:u}}(t,e):n instanceof xl?wE(n,e):n instanceof Rl?IE(n,e):function(r,o){const u=EE(r,o),d=DE(u)+DE(r.k);return Ny(u)&&Ny(r.k)?_E(d):yE(r.M,d)}(n,e)}function nb(n,e,t){return n instanceof xl?wE(n,e):n instanceof Rl?IE(n,e):t}function EE(n,e){return n instanceof vd?Ny(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class _d extends pg{}class xl extends pg{constructor(e){super(),this.elements=e}}function wE(n,e){const t=bE(e);for(const r of n.elements)t.some(o=>ho(o,r))||t.push(r);return{arrayValue:{values:t}}}class Rl extends pg{constructor(e){super(),this.elements=e}}function IE(n,e){let t=bE(e);for(const r of n.elements)t=t.filter(o=>!ho(o,r));return{arrayValue:{values:t}}}class vd extends pg{constructor(e,t){super(),this.M=e,this.k=t}}function DE(n){return Yn(n.integerValue||n.doubleValue)}function bE(n){return Hh(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Zh{constructor(e,t){this.field=e,this.transform=t}}class TE{constructor(e,t){this.version=e,this.transformResults=t}}class cr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new cr}static exists(e){return new cr(void 0,e)}static updateTime(e){return new cr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Kh(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Yh{}function AE(n,e,t){n instanceof Ed?function(r,o,u){const d=r.value.clone(),m=xE(r.fieldTransforms,o,u.transformResults);d.setAll(m),o.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(n,e,t):n instanceof hs?function(r,o,u){if(!Kh(r.precondition,o))return void o.convertToUnknownDocument(u.version);const d=xE(r.fieldTransforms,o,u.transformResults),m=o.data;m.setAll(ME(r)),m.setAll(d),o.convertToFoundDocument(u.version,m).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function gg(n,e,t){var o;n instanceof Ed?function(r,o,u){if(!Kh(r.precondition,o))return;const d=r.value.clone(),m=Nl(r.fieldTransforms,u,o);d.setAll(m),o.convertToFoundDocument(Hy(o),d).setHasLocalMutations()}(n,e,t):n instanceof hs?function(r,o,u){if(!Kh(r.precondition,o))return;const d=Nl(r.fieldTransforms,u,o),m=o.data;m.setAll(ME(r)),m.setAll(d),o.convertToFoundDocument(Hy(o),m).setHasLocalMutations()}(n,e,t):Kh(n.precondition,o=e)&&o.convertToNoDocument(wt.min())}function SE(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),u=EE(r.transform,o||null);null!=u&&(null==t&&(t=ti.empty()),t.set(r.field,u))}return t||null}function $y(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&ad(t,r,(o,u)=>function CE(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof xl&&r instanceof xl||t instanceof Rl&&r instanceof Rl?ad(t.elements,r.elements,ho):t instanceof vd&&r instanceof vd?ho(t.k,r.k):t instanceof _d&&r instanceof _d);var t,r}(o,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function Hy(n){return n.isFoundDocument()?n.version:wt.min()}class Ed extends Yh{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}}class hs extends Yh{constructor(e,t,r,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}}function ME(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function xE(n,e,t){const r=new Map;Ct(n.length===t.length);for(let o=0;o<t.length;o++){const u=n[o],d=u.transform,m=e.data.field(u.field);r.set(u.field,nb(d,m,t[o]))}return r}function Nl(n,e,t){const r=new Map;for(const o of n){const u=o.transform,d=t.data.field(o.field);r.set(o.field,tb(u,d,e))}return r}class mg extends Yh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class Qh extends Yh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class BT{constructor(e){this.count=e}}var dr,en;function rb(n){switch(n){default:return st();case he.CANCELLED:case he.UNKNOWN:case he.DEADLINE_EXCEEDED:case he.RESOURCE_EXHAUSTED:case he.INTERNAL:case he.UNAVAILABLE:case he.UNAUTHENTICATED:return!1;case he.INVALID_ARGUMENT:case he.NOT_FOUND:case he.ALREADY_EXISTS:case he.PERMISSION_DENIED:case he.FAILED_PRECONDITION:case he.ABORTED:case he.OUT_OF_RANGE:case he.UNIMPLEMENTED:case he.DATA_LOSS:return!0}}function _t(n){if(void 0===n)return mr("GRPC error has no .code"),he.UNKNOWN;switch(n){case dr.OK:return he.OK;case dr.CANCELLED:return he.CANCELLED;case dr.UNKNOWN:return he.UNKNOWN;case dr.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case dr.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case dr.INTERNAL:return he.INTERNAL;case dr.UNAVAILABLE:return he.UNAVAILABLE;case dr.UNAUTHENTICATED:return he.UNAUTHENTICATED;case dr.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case dr.NOT_FOUND:return he.NOT_FOUND;case dr.ALREADY_EXISTS:return he.ALREADY_EXISTS;case dr.PERMISSION_DENIED:return he.PERMISSION_DENIED;case dr.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case dr.ABORTED:return he.ABORTED;case dr.OUT_OF_RANGE:return he.OUT_OF_RANGE;case dr.UNIMPLEMENTED:return he.UNIMPLEMENTED;case dr.DATA_LOSS:return he.DATA_LOSS;default:return st()}}(en=dr||(dr={}))[en.OK=0]="OK",en[en.CANCELLED=1]="CANCELLED",en[en.UNKNOWN=2]="UNKNOWN",en[en.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",en[en.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",en[en.NOT_FOUND=5]="NOT_FOUND",en[en.ALREADY_EXISTS=6]="ALREADY_EXISTS",en[en.PERMISSION_DENIED=7]="PERMISSION_DENIED",en[en.UNAUTHENTICATED=16]="UNAUTHENTICATED",en[en.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",en[en.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",en[en.ABORTED=10]="ABORTED",en[en.OUT_OF_RANGE=11]="OUT_OF_RANGE",en[en.UNIMPLEMENTED=12]="UNIMPLEMENTED",en[en.INTERNAL=13]="INTERNAL",en[en.UNAVAILABLE=14]="UNAVAILABLE",en[en.DATA_LOSS=15]="DATA_LOSS";class Au{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[o,u]of r)if(this.equalsFn(o,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0===o)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return 1===r.length?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){bu(this.inner,(t,r)=>{for(const[o,u]of r)e(o,u)})}isEmpty(){return Ay(this.inner)}size(){return this.innerSize}}const ib=new Jn(Qe.comparator);function Bs(){return ib}const yg=new Jn(Qe.comparator);function Gy(...n){let e=yg;for(const t of n)e=e.insert(t.key,t);return e}function Su(){return new Au(n=>n.toString(),(n,e)=>n.isEqual(e))}const _g=new Jn(Qe.comparator),er=new An(Qe.comparator);function yn(...n){let e=er;for(const t of n)e=e.add(t);return e}const RE=new An(Lt);function vg(){return RE}class Jh{constructor(e,t,r,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,wd.createSynthesizedTargetChangeForCurrentChange(e,t)),new Jh(wt.min(),r,vg(),Bs(),yn())}}class wd{constructor(e,t,r,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t){return new wd(yr.EMPTY_BYTE_STRING,t,yn(),yn(),yn())}}class Xh{constructor(e,t,r,o){this.O=e,this.removedTargetIds=t,this.key=r,this.F=o}}class zy{constructor(e,t){this.targetId=e,this.$=t}}class qy{constructor(e,t,r=yr.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class NE{constructor(){this.B=0,this.L=Id(),this.U=yr.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=yn(),t=yn(),r=yn();return this.L.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:st()}}),new wd(this.U,this.q,e,t,r)}J(){this.K=!1,this.L=Id()}Y(e,t){this.K=!0,this.L=this.L.insert(e,t)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class sb{constructor(e){this.nt=e,this.st=new Map,this.it=Bs(),this.rt=OE(),this.ot=new An(Lt)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const r=this.lt(t);switch(e.state){case 0:this.ft(t)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||this.removeTarget(t);break;case 3:this.ft(t)&&(r.et(),r.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),r.W(e.resumeToken));break;default:st()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((r,o)=>{this.ft(o)&&t(o)})}_t(e){const t=e.targetId,r=e.$.count,o=this.wt(t);if(o){const u=o.target;if(cs(u))if(0===r){const d=new Qe(u.path);this.ct(t,d,Ln.newNoDocument(d,wt.min()))}else Ct(1===r);else this.gt(t)!==r&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((u,d)=>{const m=this.wt(d);if(m){if(u.current&&cs(m.target)){const E=new Qe(m.target.path);null!==this.it.get(E)||this.It(d,E)||this.ct(d,E,Ln.newNoDocument(E,e))}u.j&&(t.set(d,u.H()),u.J())}});let r=yn();this.rt.forEach((u,d)=>{let m=!0;d.forEachWhile(E=>{const C=this.wt(E);return!C||2===C.purpose||(m=!1,!1)}),m&&(r=r.add(u))}),this.it.forEach((u,d)=>d.setReadTime(e));const o=new Jh(e,t,this.ot,this.it,r);return this.it=Bs(),this.rt=OE(),this.ot=new An(Lt),o}at(e,t){if(!this.ft(e))return;const r=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,r),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,r){if(!this.ft(e))return;const o=this.lt(e);this.It(e,t)?o.Y(t,1):o.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),r&&(this.it=this.it.insert(t,r))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new NE,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new An(Lt),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||Ve("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new NE),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function OE(){return new Jn(Qe.comparator)}function Id(){return new Jn(Qe.comparator)}const ob={asc:"ASCENDING",desc:"DESCENDING"},ab={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class ub{constructor(e,t){this.databaseId=e,this.N=t}}function Mu(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Wy(n,e){return n.N?e.toBase64():e.toUint8Array()}function PE(n,e){return Mu(n,e.toTimestamp())}function Mr(n){return Ct(!!n),wt.fromTimestamp(function(e){const t=zo(e);return new lr(t.seconds,t.nanos)}(n))}function Zy(n,e){return(t=n,new sn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Dd(n){const e=sn.fromString(n);return Ct(jE(e)),e}function Ra(n,e){return Zy(n.databaseId,e.path)}function Zo(n,e){const t=Dd(e);if(t.get(1)!==n.databaseId.projectId)throw new Pe(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Pe(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Qe(Yy(t))}function Ky(n,e){return Zy(n.databaseId,e)}function kE(n){const e=Dd(n);return 4===e.length?sn.emptyPath():Yy(e)}function bd(n){return new sn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Yy(n){return Ct(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Qy(n,e,t){return{name:Ra(n,e),fields:t.value.mapValue.fields}}function FE(n,e,t){const r=Zo(n,e.name),o=Mr(e.updateTime),u=new ti({mapValue:{fields:e.fields}}),d=Ln.newFoundDocument(r,o,u);return t&&d.setHasCommittedMutations(),t?d.setHasCommittedMutations():d}function ef(n,e){let t;if(e instanceof Ed)t={update:Qy(n,e.key,e.value)};else if(e instanceof mg)t={delete:Ra(n,e.key)};else if(e instanceof hs)t={update:Qy(n,e.key,e.data),updateMask:gb(e.fieldMask)};else{if(!(e instanceof Qh))return st();t={verify:Ra(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,u){const d=u.transform;if(d instanceof _d)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof xl)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Rl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof vd)return{fieldPath:u.field.canonicalString(),increment:d.k};throw st()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:PE(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:st()),t;var o}function VE(n,e){const t=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?cr.updateTime(Mr(o.updateTime)):void 0!==o.exists?cr.exists(o.exists):cr.none():cr.none(),r=e.updateTransforms?e.updateTransforms.map(o=>function(u,d){let m=null;"setToServerValue"in d?(Ct("REQUEST_TIME"===d.setToServerValue),m=new _d):"appendMissingElements"in d?m=new xl(d.appendMissingElements.values||[]):"removeAllFromArray"in d?m=new Rl(d.removeAllFromArray.values||[]):"increment"in d?m=new vd(u,d.increment):st();const E=Sr.fromServerFormat(d.fieldPath);return new Zh(E,m)}(n,o)):[];var o;if(e.update){const o=Zo(n,e.update.name),u=new ti({mapValue:{fields:e.update.fields}});if(e.updateMask){const d=new Uh((e.updateMask.fieldPaths||[]).map(C=>Sr.fromServerFormat(C)));return new hs(o,u,d,t,r)}return new Ed(o,u,t,r)}if(e.delete){const o=Zo(n,e.delete);return new mg(o,t)}if(e.verify){const o=Zo(n,e.verify);return new Qh(o,t)}return st()}function cb(n,e){return{documents:[Ky(n,e.path)]}}function db(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=Ky(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Ky(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const o=function(E){if(0===E.length)return;const C=E.map(x=>function(N){if("=="===N.op){if(Gh(N.value))return{unaryFilter:{field:Ko(N.field),op:"IS_NAN"}};if(ag(N.value))return{unaryFilter:{field:Ko(N.field),op:"IS_NULL"}}}else if("!="===N.op){if(Gh(N.value))return{unaryFilter:{field:Ko(N.field),op:"IS_NOT_NAN"}};if(ag(N.value))return{unaryFilter:{field:Ko(N.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ko(N.field),op:BE(N.op),value:N.value}}}(x));return 1===C.length?C[0]:{compositeFilter:{op:"AND",filters:C}}}(e.filters);o&&(t.structuredQuery.where=o);const u=function(E){if(0!==E.length)return E.map(C=>{return{field:Ko((x=C).field),direction:hb(x.dir)};var x})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=(C=e.limit,n.N||Cl(C)?C:{value:C});var C,m,E;return null!==d&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt={before:(m=e.startAt).inclusive,values:m.position}),e.endAt&&(t.structuredQuery.endAt={before:!(E=e.endAt).inclusive,values:E.position}),t}function Jy(n){let e=kE(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){Ct(1===r);const x=t.from[0];x.allDescendants?o=x.collectionId:e=e.child(x.collectionId)}let u=[];t.where&&(u=UE(t.where));let d=[];t.orderBy&&(d=t.orderBy.map(x=>{return new pd(Cd((N=x).field),function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction));var N}));let m=null;t.limit&&(m=function(x){let N;return N="object"==typeof x?x.value:x,Cl(N)?null:N}(t.limit));let E=null;var x;t.startAt&&(E=new Us((x=t.startAt).values||[],!!x.before));let C=null;return t.endAt&&(C=function(x){return new Us(x.values||[],!x.before)}(t.endAt)),qh(e,o,d,u,m,"F",E,C)}function UE(n){return n?void 0!==n.unaryFilter?[pb(n)]:void 0!==n.fieldFilter?[fb(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>UE(e)).reduce((e,t)=>e.concat(t)):st():[]}function hb(n){return ob[n]}function BE(n){return ab[n]}function Ko(n){return{fieldPath:n.canonicalString()}}function Cd(n){return Sr.fromServerFormat(n.fieldPath)}function fb(n){return Dn.create(Cd(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return st()}}(n.fieldFilter.op),n.fieldFilter.value)}function pb(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Cd(n.unaryFilter.field);return Dn.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Cd(n.unaryFilter.field);return Dn.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Cd(n.unaryFilter.field);return Dn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Cd(n.unaryFilter.field);return Dn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return st()}}function gb(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function jE(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function di(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=$E(e)),e=mb(n.get(t),e);return $E(e)}function mb(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const u=n.charAt(o);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function $E(n){return n+"\x01\x01"}function bi(n){const e=n.length;if(Ct(e>=2),2===e)return Ct("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),sn.emptyPath();const t=e-2,r=[];let o="";for(let u=0;u<e;){const d=n.indexOf("\x01",u);switch((d<0||d>t)&&st(),n.charAt(d+1)){case"\x01":const m=n.substring(u,d);let E;0===o.length?E=m:(o+=m,E=o,o=""),r.push(E);break;case"\x10":o+=n.substring(u,d),o+="\0";break;case"\x11":o+=n.substring(u,d+1);break;default:st()}u=d+2}return new sn(r)}const HE=["userId","batchId"];function tf(n,e){return[n,di(e)]}function GE(n,e,t){return[n,di(e),t]}const zE={},yb=["prefixPath","collectionGroup","readTime","documentId"],qE=["prefixPath","collectionGroup","documentId"],_b=["collectionGroup","readTime","prefixPath","documentId"],Xy=["canonicalId","targetId"],vb=["targetId","path"],WE=["path","targetId"],ZE=["collectionId","parent"],Eb=["indexId","uid"],wb=["uid","sequenceNumber"],Ib=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],e_=["indexId","uid","orderedDocumentKey"],Db=["userId","collectionPath","documentId"],KE=["userId","collectionPath","largestBatchId"],bb=["userId","collectionGroup","largestBatchId"],YE=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Cb=[...YE,"documentOverlays"],QE=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Tb=[...QE,"indexConfiguration","indexState","indexEntries"],JE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class XE{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&st(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new fe((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof fe?t:fe.resolve(t)}catch(t){return fe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):fe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):fe.reject(t)}static resolve(e){return new fe((t,r)=>{t(e)})}static reject(e){return new fe((t,r)=>{r(e)})}static waitFor(e){return new fe((t,r)=>{let o=0,u=0,d=!1;e.forEach(m=>{++o,m.next(()=>{++u,d&&u===o&&t()},E=>r(E))}),d=!0,u===o&&t()})}static or(e){let t=fe.resolve(!1);for(const r of e)t=t.next(o=>o?fe.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,u)=>{r.push(t.call(this,o,u))}),this.waitFor(r)}}class nf{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new Hr,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new rf(e,t.error)):this.At.resolve()},this.transaction.onerror=r=>{const o=sf(r.target.error);this.At.reject(new rf(e,o))}}static open(e,t,r,o){try{return new nf(t,e.transaction(o,r))}catch(u){throw new rf(t,u)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(Ve("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}bt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Sb(t)}}class js{constructor(e,t,r){this.name=e,this.version=t,this.Pt=r,12.2===js.Vt((0,qt.z$)())&&mr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ve("SimpleDb","Removing database:",e),Ol(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,qt.hl)())return!1;if(js.St())return!0;const e=(0,qt.z$)(),t=js.Vt(e),r=0<t&&t<10,o=js.Dt(e),u=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||u)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Nt(e){var t=this;return(0,ve.Z)(function*(){return t.db||(Ve("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,o)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=d=>{r(d.target.result)},u.onblocked=()=>{o(new rf(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=d=>{const m=d.target.error;o("VersionError"===m.name?new Pe(he.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===m.name?new Pe(he.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+m):new rf(e,m))},u.onupgradeneeded=d=>{Ve("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',d.oldVersion),t.Pt.kt(d.target.result,u.transaction,d.oldVersion,t.version).next(()=>{Ve("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=r=>t.Mt(r)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,o){var u=this;return(0,ve.Z)(function*(){const d="readonly"===t;let m=0;for(;;){++m;try{u.db=yield u.Nt(e);const E=nf.open(u.db,e,d?"readonly":"readwrite",r),C=o(E).next(x=>(E.bt(),x)).catch(x=>(E.abort(x),fe.reject(x))).toPromise();return C.catch(()=>{}),yield E.Rt,C}catch(E){const C="FirebaseError"!==E.name&&m<3;if(Ve("SimpleDb","Transaction failed with error:",E.message,"Retrying:",C),u.close(),!C)return Promise.reject(E)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Ab{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return Ol(this.Ft.delete())}}class rf extends Pe{constructor(e,t){super(he.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function xu(n){return"IndexedDbTransactionError"===n.name}class Sb{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Ve("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Ve("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Ol(r)}add(e){return Ve("SimpleDb","ADD",this.store.name,e,e),Ol(this.store.add(e))}get(e){return Ol(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ve("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ve("SimpleDb","DELETE",this.store.name,e),Ol(this.store.delete(e))}count(){return Ve("SimpleDb","COUNT",this.store.name),Ol(this.store.count())}qt(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const o=this.cursor(r),u=[];return this.Kt(o,(d,m)=>{u.push(m)}).next(()=>u)}{const o=this.store.getAll(r.range);return new fe((u,d)=>{o.onerror=m=>{d(m.target.error)},o.onsuccess=m=>{u(m.target.result)}})}}Gt(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new fe((o,u)=>{r.onerror=d=>{u(d.target.error)},r.onsuccess=d=>{o(d.target.result)}})}Qt(e,t){Ve("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.jt=!1;const o=this.cursor(r);return this.Kt(o,(u,d,m)=>m.delete())}Wt(e,t){let r;t?r=e:(r={},t=e);const o=this.cursor(r);return this.Kt(o,t)}zt(e){const t=this.cursor({});return new fe((r,o)=>{t.onerror=u=>{const d=sf(u.target.error);o(d)},t.onsuccess=u=>{const d=u.target.result;d?e(d.primaryKey,d.value).next(m=>{m?d.continue():r()}):r()}})}Kt(e,t){const r=[];return new fe((o,u)=>{e.onerror=d=>{u(d.target.error)},e.onsuccess=d=>{const m=d.target.result;if(!m)return void o();const E=new Ab(m),C=t(m.primaryKey,m.value,E);if(C instanceof fe){const x=C.catch(N=>(E.done(),fe.reject(N)));r.push(x)}E.isDone?o():null===E.Lt?m.continue():m.continue(E.Lt)}}).next(()=>fe.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.jt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Ol(n){return new fe((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const o=sf(r.target.error);t(o)}})}let ew=!1;function sf(n){const e=js.Vt((0,qt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Pe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return ew||(ew=!0,setTimeout(()=>{throw r},0)),r}}return n}class wg extends XE{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function xr(n,e){const t=tt(n);return js.xt(t.Ht,e)}class of{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&AE(u,e,r[o])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&gg(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&gg(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),o=r;this.applyToLocalView(o),r.isValidDocument()||o.convertToNoDocument(wt.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),yn())}isEqual(e){return this.batchId===e.batchId&&ad(this.mutations,e.mutations,(t,r)=>$y(t,r))&&ad(this.baseMutations,e.baseMutations,(t,r)=>$y(t,r))}}class t_{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){Ct(e.mutations.length===r.length);let o=_g;const u=e.mutations;for(let d=0;d<u.length;d++)o=o.insert(u[d].key,r[d].version);return new t_(e,t,r,o)}}class n_{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Yo{constructor(e,t,r,o,u=wt.min(),d=wt.min(),m=yr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=m}withSequenceNumber(e){return new Yo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Yo(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Yo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class tw{constructor(e){this.Jt=e}}function rw(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:af(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Ra(o=n.Jt,(u=e).key),fields:u.data.value.mapValue.fields,updateTime:Mu(o,u.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Pl(e.version)};else{if(!e.isUnknownDocument())return st();r.unknownDocument={path:t.path.toArray(),version:Pl(e.version)}}var o,u;return r}function af(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Pl(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ru(n){const e=new lr(n.seconds,n.nanoseconds);return wt.fromTimestamp(e)}function uf(n,e){const t=(e.baseMutations||[]).map(u=>VE(n.Jt,u));for(let u=0;u<e.mutations.length-1;++u){const d=e.mutations[u];u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(d.updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u)}const r=e.mutations.map(u=>VE(n.Jt,u)),o=lr.fromMillis(e.localWriteTimeMs);return new of(e.batchId,o,t,r)}function lf(n){const e=Ru(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Ru(n.lastLimboFreeSnapshotVersion):wt.min();let r;var o;return void 0!==n.query.documents?(Ct(1===(o=n.query).documents.length),r=ds(gd(kE(o.documents[0])))):r=ds(Jy(n.query)),new Yo(r,n.targetId,0,n.lastListenSequenceNumber,e,t,yr.fromBase64String(n.resumeToken))}function cf(n,e){const t=Pl(e.snapshotVersion),r=Pl(e.lastLimboFreeSnapshotVersion);let o;o=cs(e.target)?cb(n.Jt,e.target):db(n.Jt,e.target);const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:fd(e.target),readTime:t,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:o}}function r_(n){const e=Jy({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Uy(e,e.limit,"L"):e}function Nu(n,e){return new n_(e.largestBatchId,VE(n.Jt,e.overlayMutation))}function Td(n,e){const t=e.path.lastSegment();return[n,di(e.path.popLast()),t]}class Mb{getBundleMetadata(e,t){return xb(e).get(t).next(r=>{if(r)return{id:(o=r).bundleId,createTime:Ru(o.createTime),version:o.version};var o})}saveBundleMetadata(e,t){return xb(e).put({bundleId:(r=t).id,createTime:Pl(Mr(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return i_(e).get(t).next(r=>{if(r)return{name:(o=r).name,query:r_(o.bundledQuery),readTime:Ru(o.readTime)};var o})}saveNamedQuery(e,t){return i_(e).put({name:(r=t).name,readTime:Pl(Mr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function xb(n){return xr(n,"bundles")}function i_(n){return xr(n,"namedQueries")}class s_{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new s_(e,t.uid||"")}getOverlay(e,t){return df(e).get(Td(this.userId,t)).next(r=>r?Nu(this.M,r):null)}saveOverlays(e,t,r){const o=[];return r.forEach((u,d)=>{const m=new n_(t,d);o.push(this.Xt(e,m))}),fe.waitFor(o)}removeOverlaysForBatchId(e,t,r){const o=new Set;t.forEach(d=>o.add(di(d.getCollectionPath())));const u=[];return o.forEach(d=>{const m=IDBKeyRange.bound([this.userId,d,r],[this.userId,d,r+1],!1,!0);u.push(df(e).Qt("collectionPathOverlayIndex",m))}),fe.waitFor(u)}getOverlaysForCollection(e,t,r){const o=Su(),u=di(t),d=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,Number.POSITIVE_INFINITY],!0);return df(e).qt("collectionPathOverlayIndex",d).next(m=>{for(const E of m){const C=Nu(this.M,E);o.set(C.getKey(),C)}return o})}getOverlaysForCollectionGroup(e,t,r,o){const u=Su();let d;const m=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return df(e).Wt({index:"collectionGroupOverlayIndex",range:m},(E,C,x)=>{const N=Nu(this.M,C);u.size()<o||N.largestBatchId===d?(u.set(N.getKey(),N),d=N.largestBatchId):x.done()}).next(()=>u)}Xt(e,t){return df(e).put(function(r,o,u){const[d,m,E]=Td(o,u.mutation.key);return{userId:o,collectionPath:m,documentId:E,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:ef(r.Jt,u.mutation)}}(this.M,this.userId,t))}}function df(n){return xr(n,"documentOverlays")}class kl{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(Yn(e.integerValue));else if("doubleValue"in e){const r=Yn(e.doubleValue);isNaN(r)?this.ne(t,13):(this.ne(t,15),ld(r)?t.se(0):t.se(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie(`${r.seconds||""}`),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(qo(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ne(t,45),t.se(r.latitude||0),t.se(r.longitude||0)}else"mapValue"in e?Oy(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):st()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const r=e.fields||{};this.ne(t,55);for(const o of Object.keys(r))this.re(o,t),this.te(r[o],t)}he(e,t){const r=e.values||[];this.ne(t,50);for(const o of r)this.te(o,t)}ae(e,t){this.ne(t,37),Qe.fromName(e).path.forEach(r=>{this.ne(t,60),this.le(r,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function Rb(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function o_(n){const e=64-function(t){let r=0;for(let o=0;o<8;++o){const u=Rb(255&t[o]);if(r+=u,8!==u)break}return r}(n);return Math.ceil(e/8)}kl.fe=new kl;class iw{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this._e(r.value),r=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.ge(r.value),r=t.next();this.ye()}pe(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this._e(r);else if(r<2048)this._e(960|r>>>6),this._e(128|63&r);else if(t<"\ud800"||"\udbff"<t)this._e(480|r>>>12),this._e(128|63&r>>>6),this._e(128|63&r);else{const o=t.codePointAt(0);this._e(240|o>>>18),this._e(128|63&o>>>12),this._e(128|63&o>>>6),this._e(128|63&o)}}this.we()}Ie(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.ge(r);else if(r<2048)this.ge(960|r>>>6),this.ge(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.ge(480|r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r);else{const o=t.codePointAt(0);this.ge(240|o>>>18),this.ge(128|63&o>>>12),this.ge(128|63&o>>>6),this.ge(128|63&o)}}this.ye()}Te(e){const t=this.Ee(e),r=o_(t);this.Ae(1+r),this.buffer[this.position++]=255&r;for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=255&t[o]}Re(e){const t=this.Ee(e),r=o_(t);this.Ae(1+r),this.buffer[this.position++]=~(255&r);for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=~(255&t[o])}be(){this.Pe(255),this.Pe(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(o){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,o,!1),new Uint8Array(u.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let o=1;o<t.length;++o)t[o]^=r?255:0;return t}_e(e){const t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.Pe(0),this.Pe(1)}ye(){this.ve(0),this.ve(1)}Pe(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const o=new Uint8Array(r);o.set(this.buffer),this.buffer=o}}class a_{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.be()}}class Ig{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class Na{constructor(){this.De=new iw,this.Ce=new a_(this.De),this.xe=new Ig(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class Fl{constructor(e,t,r,o){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=o}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Fl(this.indexId,this.documentKey,this.arrayValue,r)}}function Ou(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=u_(n.arrayValue,e.arrayValue),0!==t?t:(t=u_(n.directionalValue,e.directionalValue),0!==t?t:Qe.comparator(n.documentKey,e.documentKey)))}function u_(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class Nb{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const r=t;r.S()?this.Fe=r:this.Oe.push(r)}}$e(e){const t=lg(e);if(void 0!==t&&!this.Be(t))return!1;const r=Al(e);let o=0,u=0;for(;o<r.length&&this.Be(r[o]);++o);if(o===r.length)return!0;if(void 0!==this.Fe){const d=r[o];if(!this.Le(this.Fe,d)||!this.Ue(this.Me[u++],d))return!1;++o}for(;o<r.length;++o){const d=r[o];if(u>=this.Me.length||!this.Ue(this.Me[u++],d))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class Ob{constructor(){this.qe=new hf}addToCollectionParentIndex(e,t){return this.qe.add(t),fe.resolve()}getCollectionParents(e,t){return fe.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return fe.resolve()}deleteFieldIndex(e,t){return fe.resolve()}getDocumentsMatchingTarget(e,t){return fe.resolve(null)}getIndexType(e,t){return fe.resolve(0)}getFieldIndexes(e,t){return fe.resolve([])}getNextCollectionGroupToUpdate(e){return fe.resolve(null)}getMinOffset(e,t){return fe.resolve(Vs.min())}updateCollectionGroup(e,t,r){return fe.resolve()}updateIndexEntries(e,t){return fe.resolve()}}class hf{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new An(sn.comparator),u=!o.has(r);return this.index[t]=o.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new An(sn.comparator)).toArray()}}const Dg=new Uint8Array(0);class $T{constructor(e,t){this.user=e,this.databaseId=t,this.Ke=new hf,this.Ge=new Au(r=>fd(r),(r,o)=>Ml(r,o)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ke.has(t)){const r=t.lastSegment(),o=t.popLast();e.addOnCommittedListener(()=>{this.Ke.add(t)});const u={collectionId:r,parent:di(o)};return sw(e).put(u)}return fe.resolve()}getCollectionParents(e,t){const r=[],o=IDBKeyRange.bound([t,""],[tE(t),""],!1,!0);return sw(e).qt(o).next(u=>{for(const d of u){if(d.collectionId!==t)break;r.push(bi(d.parent))}return r})}addFieldIndex(e,t){const r=Oa(e),o={indexId:(u=t).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(d=>[d.fieldPath.canonicalString(),d.kind])};var u;return delete o.indexId,r.add(o).next()}deleteFieldIndex(e,t){const r=Oa(e),o=pf(e),u=ff(e);return r.delete(t.indexId).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=ff(e);let o=!0;const u=new Map;return fe.forEach(this.Qe(t),d=>this.je(e,d).next(m=>{o&&(o=!!m),u.set(d,m)})).next(()=>{if(o){let d=yn();const m=[];return fe.forEach(u,(E,C)=>{var x;Ve("IndexedDbIndexManager",`Using index ${x=E,`id=${x.indexId}|cg=${x.collectionGroup}|f=${x.fields.map(tn=>`${tn.fieldPath}:${tn.kind}`).join(",")}`} to execute ${fd(t)}`);const N=function(tn,Ht){const Jt=lg(Ht);if(void 0===Jt)return null;for(const _n of cg(tn,Jt.fieldPath))switch(_n.op){case"array-contains-any":return _n.value.arrayValue.values||[];case"array-contains":return[_n.value]}return null}(C,E),W=function(tn,Ht){const Jt=new Map;for(const _n of Al(Ht))for(const qi of cg(tn,_n.fieldPath))switch(qi.op){case"==":case"in":Jt.set(_n.fieldPath.canonicalString(),qi.value);break;case"not-in":case"!=":return Jt.set(_n.fieldPath.canonicalString(),qi.value),Array.from(Jt.values())}return null}(C,E),ne=function(tn,Ht){const Jt=[];let _n=!0;for(const qi of Al(Ht)){const Tv=0===qi.kind?lE(tn,qi.fieldPath,tn.startAt):fo(tn,qi.fieldPath,tn.startAt);Jt.push(Tv.value),_n&&(_n=Tv.inclusive)}return new Us(Jt,_n)}(C,E),ye=function(tn,Ht){const Jt=[];let _n=!0;for(const qi of Al(Ht)){const Tv=0===qi.kind?fo(tn,qi.fieldPath,tn.endAt):lE(tn,qi.fieldPath,tn.endAt);Jt.push(Tv.value),_n&&(_n=Tv.inclusive)}return new Us(Jt,_n)}(C,E),He=this.We(E,C,ne),ot=this.We(E,C,ye),Yt=this.ze(E,C,W),Qt=this.He(E.indexId,N,He,ne.inclusive,ot,ye.inclusive,Yt);return fe.forEach(Qt,tn=>r.Gt(tn,t.limit).next(Ht=>{Ht.forEach(Jt=>{const _n=Qe.fromSegments(Jt.documentKey);d.has(_n)||(d=d.add(_n),m.push(_n))})}))}).next(()=>m)}return fe.resolve(null)})}Qe(e){let t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}He(e,t,r,o,u,d,m){const E=(null!=t?t.length:1)*Math.max(r.length,u.length),C=E/(null!=t?t.length:1),x=[];for(let N=0;N<E;++N){const W=t?this.Je(t[N/C]):Dg,ne=this.Ye(e,W,r[N%C],o),ye=this.Xe(e,W,u[N%C],d),He=m.map(ot=>this.Ye(e,W,ot,!0));x.push(...this.createRange(ne,ye,He))}return x}Ye(e,t,r,o){const u=new Fl(e,Qe.empty(),t,r);return o?u:u.ke()}Xe(e,t,r,o){const u=new Fl(e,Qe.empty(),t,r);return o?u.ke():u}je(e,t){const r=new Nb(t),o=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,o).next(u=>{let d=null;for(const m of u)r.$e(m)&&(!d||m.fields.length>d.fields.length)&&(d=m);return d})}getIndexType(e,t){let r=2;return fe.forEach(this.Qe(t),o=>this.je(e,o).next(u=>{u?0!==r&&u.fields.length<function(d){let m=new An(Sr.comparator),E=!1;for(const C of d.filters){const x=C;x.field.isKeyField()||("array-contains"===x.op||"array-contains-any"===x.op?E=!0:m=m.add(x.field))}for(const C of d.orderBy)C.field.isKeyField()||(m=m.add(C.field));return m.size+(E?1:0)}(o)&&(r=1):r=0})).next(()=>r)}Ze(e,t){const r=new Na;for(const o of Al(e)){const u=t.data.field(o.fieldPath);if(null==u)return null;const d=r.Ne(o.kind);kl.fe.Zt(u,d)}return r.Se()}Je(e){const t=new Na;return kl.fe.Zt(e,t.Ne(0)),t.Se()}tn(e,t){const r=new Na;return kl.fe.Zt(Tl(this.databaseId,t),r.Ne(function(o){const u=Al(o);return 0===u.length?0:u[u.length-1].kind}(e))),r.Se()}ze(e,t,r){if(null===r)return[];let o=[];o.push(new Na);let u=0;for(const d of Al(e)){const m=r[u++];for(const E of o)if(this.en(t,d.fieldPath)&&Hh(m))o=this.nn(o,d,m);else{const C=E.Ne(d.kind);kl.fe.Zt(m,C)}}return this.sn(o)}We(e,t,r){return this.ze(e,t,r.position)}sn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Se();return t}nn(e,t,r){const o=[...e],u=[];for(const d of r.arrayValue.values||[])for(const m of o){const E=new Na;E.seed(m.Se()),kl.fe.Zt(d,E.Ne(t.kind)),u.push(E)}return u}en(e,t){return!!e.filters.find(r=>r instanceof Dn&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=Oa(e),o=pf(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next(u=>{const d=[];return fe.forEach(u,m=>o.get([m.indexId,this.uid]).next(E=>{d.push(function(C,x){const N=x?new hd(x.sequenceNumber,new Vs(Ru(x.readTime),new Qe(bi(x.documentKey)),x.largestBatchId)):hd.empty(),W=C.fields.map(([ne,ye])=>new Qn(Sr.fromServerFormat(ne),ye));return new ug(C.indexId,C.collectionGroup,W,N)}(m,E))})).next(()=>d)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,o)=>{const u=r.indexState.sequenceNumber-o.indexState.sequenceNumber;return 0!==u?u:Lt(r.collectionGroup,o.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const o=Oa(e),u=pf(e);return this.rn(e).next(d=>o.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(m=>fe.forEach(m,E=>{return u.put({indexId:E.indexId,uid:this.user.uid||"",sequenceNumber:d,readTime:Pl((W=r).readTime),documentKey:di(W.documentKey.path),largestBatchId:W.largestBatchId});var W})))}updateIndexEntries(e,t){const r=new Map;return fe.forEach(t,(o,u)=>{const d=r.get(o.collectionGroup);return(d?fe.resolve(d):this.getFieldIndexes(e,o.collectionGroup)).next(m=>(r.set(o.collectionGroup,m),fe.forEach(m,E=>this.on(e,o,E).next(C=>{const x=this.un(u,E);return C.isEqual(x)?fe.resolve():this.an(e,u,E,C,x)}))))})}cn(e,t,r,o){return ff(e).put({indexId:o.indexId,uid:this.uid,arrayValue:o.arrayValue,directionalValue:o.directionalValue,orderedDocumentKey:this.tn(r,t.key),documentKey:t.key.path.toArray()})}hn(e,t,r,o){return ff(e).delete([o.indexId,this.uid,o.arrayValue,o.directionalValue,this.tn(r,t.key),t.key.path.toArray()])}on(e,t,r){const o=ff(e);let u=new An(Ou);return o.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.tn(r,t)])},(d,m)=>{u=u.add(new Fl(r.indexId,t,m.arrayValue,m.directionalValue))}).next(()=>u)}un(e,t){let r=new An(Ou);const o=this.Ze(t,e);if(null==o)return r;const u=lg(t);if(null!=u){const d=e.data.field(u.fieldPath);if(Hh(d))for(const m of d.arrayValue.values||[])r=r.add(new Fl(t.indexId,e.key,this.Je(m),o))}else r=r.add(new Fl(t.indexId,e.key,Dg,o));return r}an(e,t,r,o,u){Ve("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const d=[];return function(m,E,C,x,N){const W=m.getIterator(),ne=E.getIterator();let ye=Sl(W),He=Sl(ne);for(;ye||He;){let ot=!1,Yt=!1;if(ye&&He){const Qt=C(ye,He);Qt<0?Yt=!0:Qt>0&&(ot=!0)}else null!=ye?Yt=!0:ot=!0;ot?(x(He),He=Sl(ne)):Yt?(N(ye),ye=Sl(W)):(ye=Sl(W),He=Sl(ne))}}(o,u,Ou,m=>{d.push(this.cn(e,t,r,m))},m=>{d.push(this.hn(e,t,r,m))}),fe.waitFor(d)}rn(e){let t=1;return pf(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,o,u)=>{u.done(),t=o.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((d,m)=>Ou(d,m)).filter((d,m,E)=>!m||0!==Ou(d,E[m-1]));const o=[];o.push(e);for(const d of r){const m=Ou(d,e),E=Ou(d,t);if(0===m)o[0]=e.ke();else if(m>0&&E<0)o.push(d),o.push(d.ke());else if(E>0)break}o.push(t);const u=[];for(let d=0;d<o.length;d+=2)u.push(IDBKeyRange.bound([o[d].indexId,this.uid,o[d].arrayValue,o[d].directionalValue,Dg,[]],[o[d+1].indexId,this.uid,o[d+1].arrayValue,o[d+1].directionalValue,Dg,[]]));return u}getMinOffset(e,t){let r;return fe.forEach(this.Qe(t),o=>this.je(e,o).next(u=>{u?(!r||oE(u.indexState.offset,r)<0)&&(r=u.indexState.offset):r=Vs.min()})).next(()=>r)}}function sw(n){return xr(n,"collectionParents")}function ff(n){return xr(n,"indexEntries")}function Oa(n){return xr(n,"indexConfiguration")}function pf(n){return xr(n,"indexState")}const Ll={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class fs{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new fs(e,fs.DEFAULT_COLLECTION_PERCENTILE,fs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function l_(n,e,t){const r=n.store("mutations"),o=n.store("documentMutations"),u=[],d=IDBKeyRange.only(t.batchId);let m=0;const E=r.Wt({range:d},(x,N,W)=>(m++,W.delete()));u.push(E.next(()=>{Ct(1===m)}));const C=[];for(const x of t.mutations){const N=GE(e,x.key.path,t.batchId);u.push(o.delete(N)),C.push(x.key)}return fe.waitFor(u).next(()=>C)}function bg(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw st();e=n.noDocument}return JSON.stringify(e).length}fs.DEFAULT_COLLECTION_PERCENTILE=10,fs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fs.DEFAULT=new fs(41943040,fs.DEFAULT_COLLECTION_PERCENTILE,fs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fs.DISABLED=new fs(-1,0,0);class ow{constructor(e,t,r,o){this.userId=e,this.M=t,this.indexManager=r,this.referenceDelegate=o,this.ln={}}static Yt(e,t,r,o){Ct(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new ow(u,t,r,o)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Vl(e).Wt({index:"userMutationsIndex",range:r},(o,u,d)=>{t=!1,d.done()}).next(()=>t)}addMutationBatch(e,t,r,o){const u=Ul(e),d=Vl(e);return d.add({}).next(m=>{Ct("number"==typeof m);const E=new of(m,t,r,o),C=function(W,ne,ye){const He=ye.baseMutations.map(Yt=>ef(W.Jt,Yt)),ot=ye.mutations.map(Yt=>ef(W.Jt,Yt));return{userId:ne,batchId:ye.batchId,localWriteTimeMs:ye.localWriteTime.toMillis(),baseMutations:He,mutations:ot}}(this.M,this.userId,E),x=[];let N=new An((W,ne)=>Lt(W.canonicalString(),ne.canonicalString()));for(const W of o){const ne=GE(this.userId,W.key.path,m);N=N.add(W.key.path.popLast()),x.push(d.put(C)),x.push(u.put(ne,zE))}return N.forEach(W=>{x.push(this.indexManager.addToCollectionParentIndex(e,W))}),e.addOnCommittedListener(()=>{this.ln[m]=E.keys()}),fe.waitFor(x).next(()=>E)})}lookupMutationBatch(e,t){return Vl(e).get(t).next(r=>r?(Ct(r.userId===this.userId),uf(this.M,r)):null)}fn(e,t){return this.ln[t]?fe.resolve(this.ln[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const o=r.keys();return this.ln[t]=o,o}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=IDBKeyRange.lowerBound([this.userId,r]);let u=null;return Vl(e).Wt({index:"userMutationsIndex",range:o},(d,m,E)=>{m.userId===this.userId&&(Ct(m.batchId>=r),u=uf(this.M,m)),E.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Vl(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(o,u,d)=>{r=u.batchId,d.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Vl(e).qt("userMutationsIndex",t).next(r=>r.map(o=>uf(this.M,o)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=tf(this.userId,t.path),o=IDBKeyRange.lowerBound(r),u=[];return Ul(e).Wt({range:o},(d,m,E)=>{const[C,x,N]=d,W=bi(x);if(C===this.userId&&t.path.isEqual(W))return Vl(e).get(N).next(ne=>{if(!ne)throw st();Ct(ne.userId===this.userId),u.push(uf(this.M,ne))});E.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new An(Lt);const o=[];return t.forEach(u=>{const d=tf(this.userId,u.path),m=IDBKeyRange.lowerBound(d),E=Ul(e).Wt({range:m},(C,x,N)=>{const[W,ne,ye]=C,He=bi(ne);W===this.userId&&u.path.isEqual(He)?r=r.add(ye):N.done()});o.push(E)}),fe.waitFor(o).next(()=>this.dn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1,u=tf(this.userId,r),d=IDBKeyRange.lowerBound(u);let m=new An(Lt);return Ul(e).Wt({range:d},(E,C,x)=>{const[N,W,ne]=E,ye=bi(W);N===this.userId&&r.isPrefixOf(ye)?ye.length===o&&(m=m.add(ne)):x.done()}).next(()=>this.dn(e,m))}dn(e,t){const r=[],o=[];return t.forEach(u=>{o.push(Vl(e).get(u).next(d=>{if(null===d)throw st();Ct(d.userId===this.userId),r.push(uf(this.M,d))}))}),fe.waitFor(o).next(()=>r)}removeMutationBatch(e,t){return l_(e.Ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this._n(t.batchId)}),fe.forEach(r,o=>this.referenceDelegate.markPotentiallyOrphaned(e,o))))}_n(e){delete this.ln[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return fe.resolve();const r=IDBKeyRange.lowerBound([this.userId]),o=[];return Ul(e).Wt({range:r},(u,d,m)=>{if(u[0]===this.userId){const E=bi(u[1]);o.push(E)}else m.done()}).next(()=>{Ct(0===o.length)})})}containsKey(e,t){return c_(e,this.userId,t)}wn(e){return Cg(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function c_(n,e,t){const r=tf(e,t.path),o=r[1],u=IDBKeyRange.lowerBound(r);let d=!1;return Ul(n).Wt({range:u,jt:!0},(m,E,C)=>{const[x,N,W]=m;x===e&&N===o&&(d=!0),C.done()}).next(()=>d)}function Vl(n){return xr(n,"mutations")}function Ul(n){return xr(n,"documentMutations")}function Cg(n){return xr(n,"mutationQueues")}class Pu{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new Pu(0)}static yn(){return new Pu(-1)}}class Pb{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.pn(e).next(t=>{const r=new Pu(t.highestTargetId);return t.highestTargetId=r.next(),this.In(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.pn(e).next(t=>wt.fromTimestamp(new lr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.pn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.pn(e).next(o=>(o.highestListenSequenceNumber=t,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),t>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=t),this.In(e,o)))}addTargetData(e,t){return this.Tn(e,t).next(()=>this.pn(e).next(r=>(r.targetCount+=1,this.En(t,r),this.In(e,r))))}updateTargetData(e,t){return this.Tn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Ad(e).delete(t.targetId)).next(()=>this.pn(e)).next(r=>(Ct(r.targetCount>0),r.targetCount-=1,this.In(e,r)))}removeTargets(e,t,r){let o=0;const u=[];return Ad(e).Wt((d,m)=>{const E=lf(m);E.sequenceNumber<=t&&null===r.get(E.targetId)&&(o++,u.push(this.removeTargetData(e,E)))}).next(()=>fe.waitFor(u)).next(()=>o)}forEachTarget(e,t){return Ad(e).Wt((r,o)=>{const u=lf(o);t(u)})}pn(e){return aw(e).get("targetGlobalKey").next(t=>(Ct(null!==t),t))}In(e,t){return aw(e).put("targetGlobalKey",t)}Tn(e,t){return Ad(e).put(cf(this.M,t))}En(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.pn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=fd(t),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let u=null;return Ad(e).Wt({range:o,index:"queryTargetsIndex"},(d,m,E)=>{const C=lf(m);Ml(t,C.target)&&(u=C,E.done())}).next(()=>u)}addMatchingKeys(e,t,r){const o=[],u=ku(e);return t.forEach(d=>{const m=di(d.path);o.push(u.put({targetId:r,path:m})),o.push(this.referenceDelegate.addReference(e,r,d))}),fe.waitFor(o)}removeMatchingKeys(e,t,r){const o=ku(e);return fe.forEach(t,u=>{const d=di(u.path);return fe.waitFor([o.delete([r,d]),this.referenceDelegate.removeReference(e,r,u)])})}removeMatchingKeysForTargetId(e,t){const r=ku(e),o=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(o)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),o=ku(e);let u=yn();return o.Wt({range:r,jt:!0},(d,m,E)=>{const C=bi(d[1]),x=new Qe(C);u=u.add(x)}).next(()=>u)}containsKey(e,t){const r=di(t.path),o=IDBKeyRange.bound([r],[tE(r)],!1,!0);let u=0;return ku(e).Wt({index:"documentTargetsIndex",jt:!0,range:o},([d,m],E,C)=>{0!==d&&(u++,C.done())}).next(()=>u>0)}Et(e,t){return Ad(e).get(t).next(r=>r?lf(r):null)}}function Ad(n){return xr(n,"targets")}function aw(n){return xr(n,"targetGlobal")}function ku(n){return xr(n,"targetDocuments")}function Bl(n){return d_.apply(this,arguments)}function d_(){return d_=(0,ve.Z)(function*(n){if(n.code!==he.FAILED_PRECONDITION||n.message!==JE)throw n;Ve("LocalStore","Unexpectedly lost primary lease")}),d_.apply(this,arguments)}function uw([n,e],[t,r]){const o=Lt(n,t);return 0===o?Lt(e,r):o}class kb{constructor(e){this.An=e,this.buffer=new An(uw),this.Rn=0}bn(){return++this.Rn}Pn(e){const t=[e,this.bn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();uw(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Fb{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Vn=!1,this.vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}stop(){this.vn&&(this.vn.cancel(),this.vn=null)}get started(){return null!==this.vn}Sn(e){var t=this;const r=this.Vn?3e5:6e4;Ve("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,ve.Z)(function*(){t.vn=null,t.Vn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(o){xu(o)?Ve("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield Bl(o)}yield t.Sn(e)}))}}class gf{constructor(e,t){this.Dn=e,this.params=t}calculateTargetCount(e,t){return this.Dn.Cn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return fe.resolve(ls.A);const r=new kb(t);return this.Dn.forEachTarget(e,o=>r.Pn(o.sequenceNumber)).next(()=>this.Dn.xn(e,o=>r.Pn(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Dn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Dn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ve("LruGarbageCollector","Garbage collection skipped; disabled"),fe.resolve(Ll)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ll):this.Nn(e,t))}getCacheSize(e){return this.Dn.getCacheSize(e)}Nn(e,t){let r,o,u,d,m,E,C;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(N=>(N>this.params.maximumSequenceNumbersToCollect?(Ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${N}`),o=this.params.maximumSequenceNumbersToCollect):o=N,d=Date.now(),this.nthSequenceNumber(e,o))).next(N=>(r=N,m=Date.now(),this.removeTargets(e,r,t))).next(N=>(u=N,E=Date.now(),this.removeOrphanedDocuments(e,r))).next(N=>(C=Date.now(),Dy()<=Ea.in.DEBUG&&Ve("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${d-x}ms\n\tDetermined least recently used ${o} in `+(m-d)+`ms\n\tRemoved ${u} targets in `+(E-m)+`ms\n\tRemoved ${N} documents in `+(C-E)+`ms\nTotal Duration: ${C-x}ms`),fe.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:N})))}}class lw{constructor(e,t){this.db=e,this.garbageCollector=new gf(this,t)}Cn(e){const t=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}kn(e){let t=0;return this.xn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}xn(e,t){return this.Mn(e,(r,o)=>t(o))}addReference(e,t,r){return mf(e,r)}removeReference(e,t,r){return mf(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return mf(e,t)}On(e,t){return function(r,o){let u=!1;return Cg(r).zt(d=>c_(r,d,o).next(m=>(m&&(u=!0),fe.resolve(!m)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let u=0;return this.Mn(e,(d,m)=>{if(m<=t){const E=this.On(e,d).next(C=>{if(!C)return u++,r.getEntry(e,d).next(()=>(r.removeEntry(d,wt.min()),ku(e).delete([0,di(d.path)])))});o.push(E)}}).next(()=>fe.waitFor(o)).next(()=>r.apply(e)).next(()=>u)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return mf(e,t)}Mn(e,t){const r=ku(e);let o,u=ls.A;return r.Wt({index:"documentTargetsIndex"},([d,m],{path:E,sequenceNumber:C})=>{0===d?(u!==ls.A&&t(new Qe(bi(o)),u),u=C,o=E):u=ls.A}).next(()=>{u!==ls.A&&t(new Qe(bi(o)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function mf(n,e){return ku(n).put((r=n.currentSequenceNumber,{targetId:0,path:di(e.path),sequenceNumber:r}));var r}class h_{constructor(){this.changes=new Au(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ln.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?fe.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class cw{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return jl(e).put(r)}removeEntry(e,t,r){return jl(e).delete(function(o,u){const d=o.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],af(u),d[d.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Fn(e,r)))}getEntry(e,t){let r=Ln.newInvalidDocument(t);return jl(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(yf(t))},(o,u)=>{r=this.$n(t,u)}).next(()=>r)}Bn(e,t){let r={size:0,document:Ln.newInvalidDocument(t)};return jl(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(yf(t))},(o,u)=>{r={document:this.$n(t,u),size:bg(u)}}).next(()=>r)}getEntries(e,t){let r=Bs();return this.Ln(e,t,(o,u)=>{const d=this.$n(o,u);r=r.insert(o,d)}).next(()=>r)}Un(e,t){let r=Bs(),o=new Jn(Qe.comparator);return this.Ln(e,t,(u,d)=>{const m=this.$n(u,d);r=r.insert(u,m),o=o.insert(u,bg(d))}).next(()=>({documents:r,qn:o}))}Ln(e,t,r){if(t.isEmpty())return fe.resolve();let o=new An(pw);t.forEach(E=>o=o.add(E));const u=IDBKeyRange.bound(yf(o.first()),yf(o.last())),d=o.getIterator();let m=d.getNext();return jl(e).Wt({index:"documentKeyIndex",range:u},(E,C,x)=>{const N=Qe.fromSegments([...C.prefixPath,C.collectionGroup,C.documentId]);for(;m&&pw(m,N)<0;)r(m,null),m=d.getNext();m&&m.isEqual(N)&&(r(m,C),m=d.hasNext()?d.getNext():null),m?x.Ut(yf(m)):x.done()}).next(()=>{for(;m;)r(m,null),m=d.hasNext()?d.getNext():null})}getAllFromCollection(e,t,r){const o=[t.popLast().toArray(),t.lastSegment(),af(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],u=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return jl(e).qt(IDBKeyRange.bound(o,u,!0)).next(d=>{let m=Bs();for(const E of d){const C=this.$n(Qe.fromSegments(E.prefixPath.concat(E.collectionGroup,E.documentId)),E);m=m.insert(C.key,C)}return m})}getAllFromCollectionGroup(e,t,r,o){let u=Bs();const d=fw(t,r),m=fw(t,Vs.max());return jl(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(d,m,!0)},(E,C,x)=>{const N=this.$n(Qe.fromSegments(C.prefixPath.concat(C.collectionGroup,C.documentId)),C);u=u.insert(N.key,N),u.size===o&&x.done()}).next(()=>u)}newChangeBuffer(e){return new dw(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return hw(e).get("remoteDocumentGlobalKey").next(t=>(Ct(!!t),t))}Fn(e,t){return hw(e).put("remoteDocumentGlobalKey",t)}$n(e,t){if(t){const r=function nw(n,e){let t;if(e.document)t=FE(n.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Qe.fromSegments(e.noDocument.path),o=Ru(e.noDocument.readTime);t=Ln.newNoDocument(r,o),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return st();{const r=Qe.fromSegments(e.unknownDocument.path),o=Ru(e.unknownDocument.version);t=Ln.newUnknownDocument(r,o)}}return e.readTime&&t.setReadTime(function(r){const o=new lr(r[0],r[1]);return wt.fromTimestamp(o)}(e.readTime)),t}(this.M,t);if(!r.isNoDocument()||!r.version.isEqual(wt.min()))return r}return Ln.newInvalidDocument(e)}}class dw extends h_{constructor(e,t){super(),this.Kn=e,this.trackRemovals=t,this.Gn=new Au(r=>r.toString(),(r,o)=>r.isEqual(o))}applyChanges(e){const t=[];let r=0,o=new An((u,d)=>Lt(u.canonicalString(),d.canonicalString()));return this.changes.forEach((u,d)=>{const m=this.Gn.get(u);if(t.push(this.Kn.removeEntry(e,u,m.readTime)),d.isValidDocument()){const E=rw(this.Kn.M,d);o=o.add(u.path.popLast()),r+=bg(E)-m.size,t.push(this.Kn.addEntry(e,u,E))}else if(r-=m.size,this.trackRemovals){const E=rw(this.Kn.M,d.convertToNoDocument(wt.min()));t.push(this.Kn.addEntry(e,u,E))}}),o.forEach(u=>{t.push(this.Kn.indexManager.addToCollectionParentIndex(e,u))}),t.push(this.Kn.updateMetadata(e,r)),fe.waitFor(t)}getFromCache(e,t){return this.Kn.Bn(e,t).next(r=>(this.Gn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Kn.Un(e,t).next(({documents:r,qn:o})=>(o.forEach((u,d)=>{this.Gn.set(u,{size:d,readTime:r.get(u).readTime})}),r))}}function hw(n){return xr(n,"remoteDocumentGlobal")}function jl(n){return xr(n,"remoteDocumentsV14")}function yf(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function fw(n,e){const t=e.documentKey.path.toArray();return[n,af(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function pw(n,e){const t=n.path.toArray(),r=e.path.toArray();let o=0;for(let u=0;u<t.length-2&&u<r.length-2;++u)if(o=Lt(t[u],r[u]),o)return o;return o=Lt(t.length,r.length),o||(o=Lt(t[t.length-2],r[r.length-2]),o||Lt(t[t.length-1],r[r.length-1]))}class Lb{constructor(e){this.M=e}kt(e,t,r,o){const u=new nf("createOrUpgrade",t);var m;r<1&&o>=1&&(e.createObjectStore("owner"),(m=e).createObjectStore("mutationQueues",{keyPath:"userId"}),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",HE,{unique:!0}),m.createObjectStore("documentMutations"),gw(e),function(m){m.createObjectStore("remoteDocuments")}(e));let d=fe.resolve();return r<3&&o>=3&&(0!==r&&(function(m){m.deleteObjectStore("targetDocuments"),m.deleteObjectStore("targets"),m.deleteObjectStore("targetGlobal")}(e),gw(e)),d=d.next(()=>function(m){const E=m.store("targetGlobal"),C={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:wt.min().toTimestamp(),targetCount:0};return E.put("targetGlobalKey",C)}(u))),r<4&&o>=4&&(0!==r&&(d=d.next(()=>function(m,E){return E.store("mutations").qt().next(C=>{m.deleteObjectStore("mutations"),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",HE,{unique:!0});const x=E.store("mutations"),N=C.map(W=>x.put(W));return fe.waitFor(N)})}(e,u))),d=d.next(()=>{!function(m){m.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&o>=5&&(d=d.next(()=>this.Qn(u))),r<6&&o>=6&&(d=d.next(()=>(function(m){m.createObjectStore("remoteDocumentGlobal")}(e),this.jn(u)))),r<7&&o>=7&&(d=d.next(()=>this.Wn(u))),r<8&&o>=8&&(d=d.next(()=>this.zn(e,u))),r<9&&o>=9&&(d=d.next(()=>{!function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&o>=10&&(d=d.next(()=>this.Hn(u))),r<11&&o>=11&&(d=d.next(()=>{(function(m){m.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(m){m.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&o>=12&&(d=d.next(()=>{!function(m){const E=m.createObjectStore("documentOverlays",{keyPath:Db});E.createIndex("collectionPathOverlayIndex",KE,{unique:!1}),E.createIndex("collectionGroupOverlayIndex",bb,{unique:!1})}(e)})),r<13&&o>=13&&(d=d.next(()=>function(m){const E=m.createObjectStore("remoteDocumentsV14",{keyPath:yb});E.createIndex("documentKeyIndex",qE),E.createIndex("collectionGroupIndex",_b)}(e)).next(()=>this.Jn(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&o>=14&&(d=d.next(()=>{!function(m){m.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),m.createObjectStore("indexState",{keyPath:Eb}).createIndex("sequenceNumberIndex",wb,{unique:!1}),m.createObjectStore("indexEntries",{keyPath:Ib}).createIndex("documentKeyIndex",e_,{unique:!1})}(e)})),d}jn(e){let t=0;return e.store("remoteDocuments").Wt((r,o)=>{t+=bg(o)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Qn(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.qt().next(o=>fe.forEach(o,u=>{const d=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",d).next(m=>fe.forEach(m,E=>{Ct(E.userId===u.userId);const C=uf(this.M,E);return l_(e,u.userId,C).next(()=>{})}))}))}Wn(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(o=>{const u=[];return r.Wt((d,m)=>{const E=new sn(d),C=[0,di(E)];u.push(t.get(C).next(x=>x?fe.resolve():t.put({targetId:0,path:di(E),sequenceNumber:o.highestListenSequenceNumber})))}).next(()=>fe.waitFor(u))})}zn(e,t){e.createObjectStore("collectionParents",{keyPath:ZE});const r=t.store("collectionParents"),o=new hf,u=d=>{if(o.add(d)){const m=d.lastSegment(),E=d.popLast();return r.put({collectionId:m,parent:di(E)})}};return t.store("remoteDocuments").Wt({jt:!0},(d,m)=>{const E=new sn(d);return u(E.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([d,m,E],C)=>{const x=bi(m);return u(x.popLast())}))}Hn(e){const t=e.store("targets");return t.Wt((r,o)=>{const u=lf(o),d=cf(this.M,u);return t.put(d)})}Jn(e,t){const r=t.store("remoteDocuments"),o=[];return r.Wt((u,d)=>{const m=t.store("remoteDocumentsV14"),E=(C=d,C.document?new Qe(sn.fromString(C.document.name).popFirst(5)):C.noDocument?Qe.fromSegments(C.noDocument.path):C.unknownDocument?Qe.fromSegments(C.unknownDocument.path):st()).path.toArray();var C;const x={prefixPath:E.slice(0,E.length-2),collectionGroup:E[E.length-2],documentId:E[E.length-1],readTime:d.readTime||[0,0],unknownDocument:d.unknownDocument,noDocument:d.noDocument,document:d.document,hasCommittedMutations:!!d.hasCommittedMutations};o.push(m.put(x))}).next(()=>fe.waitFor(o))}}function gw(n){n.createObjectStore("targetDocuments",{keyPath:vb}).createIndex("documentTargetsIndex",WE,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Xy,{unique:!0}),n.createObjectStore("targetGlobal")}const $l="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class f_{constructor(e,t,r,o,u,d,m,E,C,x,N=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Yn=u,this.window=d,this.document=m,this.Xn=C,this.Zn=x,this.ts=N,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=W=>Promise.resolve(),!f_.vt())throw new Pe(he.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new lw(this,o),this.hs=t+"main",this.M=new tw(E),this.ls=new js(this.hs,this.ts,new Lb(this.M)),this.fs=new Pb(this.referenceDelegate,this.M),this.ds=new cw(this.M),this._s=new Mb,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===x&&mr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gs().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Pe(he.FAILED_PRECONDITION,$l);return this.ys(),this.ps(),this.Is(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.fs.getHighestSequenceNumber(e))}).then(e=>{this.es=new ls(e,this.Xn)}).then(()=>{this.ns=!0}).catch(e=>(this.ls&&this.ls.close(),Promise.reject(e)))}Ts(e){var t=this;return this.cs=function(){var r=(0,ve.Z)(function*(o){if(t.started)return e(o)});return function(o){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ls.Ot(function(){var t=(0,ve.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget((0,ve.Z)(function*(){t.started&&(yield t.gs())})))}gs(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>ps(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Es(e).next(t=>{t||(this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)))})}).next(()=>this.As(e)).next(t=>this.isPrimary&&!t?this.Rs(e).next(()=>!1):!!t&&this.bs(e).next(()=>!0))).catch(e=>{if(xu(e))return Ve("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ve("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Yn.enqueueRetryable(()=>this.cs(e)),this.isPrimary=e})}Es(e){return Hl(e).get("owner").next(t=>fe.resolve(this.Ps(t)))}Vs(e){return ps(e).delete(this.clientId)}vs(){var e=this;return(0,ve.Z)(function*(){if(e.isPrimary&&!e.Ss(e.us,18e5)){e.us=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const o=xr(r,"clientMetadata");return o.qt().next(u=>{const d=e.Ds(u,18e5),m=u.filter(E=>-1===d.indexOf(E));return fe.forEach(m,E=>o.delete(E.clientId)).next(()=>m)})}).catch(()=>[]);if(e.ws)for(const r of t)e.ws.removeItem(e.Cs(r.clientId))}})()}Is(){this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gs().then(()=>this.vs()).then(()=>this.Is()))}Ps(e){return!!e&&e.ownerId===this.clientId}As(e){return this.Zn?fe.resolve(!0):Hl(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)){if(this.Ps(t)&&this.networkEnabled)return!0;if(!this.Ps(t)){if(!t.allowTabSynchronization)throw new Pe(he.FAILED_PRECONDITION,$l);return!1}}return!(!this.networkEnabled||!this.inForeground)||ps(e).qt().next(r=>void 0===this.Ds(r,5e3).find(o=>{if(this.clientId!==o.clientId){const d=!this.inForeground&&o.inForeground,m=this.networkEnabled===o.networkEnabled;if(!this.networkEnabled&&o.networkEnabled||d&&m)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Ve("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ve.Z)(function*(){e.ns=!1,e.Ns(),e.os&&(e.os.cancel(),e.os=null),e.ks(),e.Ms(),yield e.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new wg(t,ls.A);return e.Rs(r).next(()=>e.Vs(r))}),e.ls.close(),e.Os()})()}Ds(e,t){return e.filter(r=>this.Ss(r.updateTimeMs,t)&&!this.xs(r.clientId))}Fs(){return this.runTransaction("getActiveClients","readonly",e=>ps(e).qt().next(t=>this.Ds(t,18e5).map(r=>r.clientId)))}get started(){return this.ns}getMutationQueue(e,t){return ow.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getIndexManager(e){return new $T(e,this.M.Jt.databaseId)}getDocumentOverlayCache(e){return s_.Yt(this.M,e)}getBundleCache(){return this._s}runTransaction(e,t,r){Ve("IndexedDbPersistence","Starting transaction:",e);const o="readonly"===t?"readonly":"readwrite",u=14===(d=this.ts)?Tb:13===d?QE:12===d?Cb:11===d?YE:void st();var d;let m;return this.ls.runTransaction(e,o,u,E=>(m=new wg(E,this.es?this.es.next():ls.A),"readwrite-primary"===t?this.Es(m).next(C=>!!C||this.As(m)).next(C=>{if(!C)throw mr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)),new Pe(he.FAILED_PRECONDITION,JE);return r(m)}).next(C=>this.bs(m).next(()=>C)):this.$s(m).next(()=>r(m)))).then(E=>(m.raiseOnCommittedEvent(),E))}$s(e){return Hl(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)&&!this.Ps(t)&&!(this.Zn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Pe(he.FAILED_PRECONDITION,$l)})}bs(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Hl(e).put("owner",t)}static vt(){return js.vt()}Rs(e){const t=Hl(e);return t.get("owner").next(r=>this.Ps(r)?(Ve("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):fe.resolve())}Ss(e,t){const r=Date.now();return!(e<r-t||e>r&&(mr(`Detected an update time that is in the future: ${e} > ${r}`),1))}ys(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=()=>{this.Yn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.gs()))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}ks(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}ps(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=()=>{this.Ns(),(0,qt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Yn.enterRestrictedMode(!0),this.Yn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ss))}Ms(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}xs(e){var t;try{const r=null!==(null===(t=this.ws)||void 0===t?void 0:t.getItem(this.Cs(e)));return Ve("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return mr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ns(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(e){mr("Failed to set zombie client id.",e)}}Os(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(e){}}Cs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Hl(n){return xr(n,"owner")}function ps(n){return xr(n,"clientMetadata")}function p_(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class g_{constructor(e,t,r){this.ds=e,this.Bs=t,this.indexManager=r}Ls(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.Us(e,t,r))}Us(e,t,r){return this.ds.getEntry(e,t).next(o=>{for(const u of r)u.applyToLocalView(o);return o})}qs(e,t){e.forEach((r,o)=>{for(const u of t)u.applyToLocalView(o)})}Ks(e,t){return this.ds.getEntries(e,t).next(r=>this.Gs(e,r).next(()=>r))}Gs(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.qs(t,r))}Qs(e,t,r){return Qe.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.js(e,t.path):md(t)?this.Ws(e,t,r):this.zs(e,t,r);var o}js(e,t){return this.Ls(e,new Qe(t)).next(r=>{let o=Gy();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}Ws(e,t,r){const o=t.collectionGroup;let u=Gy();return this.indexManager.getCollectionParents(e,o).next(d=>fe.forEach(d,m=>{const E=(C=t,x=m.child(o),new Wo(x,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt));var C,x;return this.zs(e,E,r).next(C=>{C.forEach((x,N)=>{u=u.insert(x,N)})})}).next(()=>u))}zs(e,t,r){let o;return this.ds.getAllFromCollection(e,t.path,r).next(u=>(o=u,this.Bs.getAllMutationBatchesAffectingQuery(e,t))).next(u=>{for(const d of u)for(const m of d.mutations){const E=m.key;let C=o.get(E);null==C&&(C=Ln.newInvalidDocument(E),o=o.insert(E,C)),gg(m,C,d.localWriteTime),C.isFoundDocument()||(o=o.remove(E))}}).next(()=>(o.forEach((u,d)=>{fg(t,d)||(o=o.remove(u))}),o))}}class Gl{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Hs=r,this.Js=o}static Ys(e,t){let r=yn(),o=yn();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Gl(e,t.fromCache,r,o)}}class mw{constructor(){this.Xs=!1}initialize(e,t){this.Zs=e,this.indexManager=t,this.Xs=!0}Qs(e,t,r,o){return this.ti(e,t).next(u=>u||this.ei(e,t,o,r)).next(u=>u||this.ni(e,t))}ti(e,t){return fe.resolve(null)}ei(e,t,r,o){return function gE(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}(t)||o.isEqual(wt.min())?this.ni(e,t):this.Zs.Ks(e,r).next(u=>{const d=this.si(t,u);return this.ii(t,d,r,o)?this.ni(e,t):(Dy()<=Ea.in.DEBUG&&Ve("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),hg(t)),this.ri(e,d,t,sE(o,-1)))})}si(e,t){let r=new An(mE(e));return t.forEach((o,u)=>{fg(e,u)&&(r=r.add(u))}),r}ii(e,t,r,o){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ni(e,t){return Dy()<=Ea.in.DEBUG&&Ve("QueryEngine","Using full collection scan to execute query:",hg(t)),this.Zs.Qs(e,t,Vs.min())}ri(e,t,r,o){return this.Zs.Qs(e,r,o).next(u=>(t.forEach(d=>{u=u.insert(d.key,d)}),u))}}class Vb{constructor(e,t,r,o){this.persistence=e,this.oi=t,this.M=o,this.ui=new Jn(Lt),this.ai=new Au(u=>fd(u),Ml),this.ci=new Map,this.hi=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.li(r)}li(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.fi=new g_(this.hi,this.Bs,this.indexManager),this.hi.setIndexManager(this.indexManager),this.oi.initialize(this.fi,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ui))}}function yw(n,e,t,r){return new Vb(n,e,t,r)}function _f(n,e){return Sd.apply(this,arguments)}function Sd(){return Sd=(0,ve.Z)(function*(n,e){const t=tt(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.Bs.getAllMutationBatches(r).next(u=>(o=u,t.li(e),t.Bs.getAllMutationBatches(r))).next(u=>{const d=[],m=[];let E=yn();for(const C of o){d.push(C.batchId);for(const x of C.mutations)E=E.add(x.key)}for(const C of u){m.push(C.batchId);for(const x of C.mutations)E=E.add(x.key)}return t.fi.Ks(r,E).next(C=>({di:C,removedBatchIds:d,addedBatchIds:m}))})})}),Sd.apply(this,arguments)}function Ub(n,e){const t=tt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),u=t.hi.newChangeBuffer({trackRemovals:!0});return function(d,m,E,C){const x=E.batch,N=x.keys();let W=fe.resolve();return N.forEach(ne=>{W=W.next(()=>C.getEntry(m,ne)).next(ye=>{const He=E.docVersions.get(ne);Ct(null!==He),ye.version.compareTo(He)<0&&(x.applyToRemoteDocument(ye,E),ye.isValidDocument()&&(ye.setReadTime(E.commitVersion),C.addEntry(ye)))})}),W.next(()=>d.Bs.removeMutationBatch(m,x))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.Bs.performConsistencyCheck(r)).next(()=>t.fi.Ks(r,o))})}function _w(n){const e=tt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.fs.getLastRemoteSnapshotVersion(t))}function vw(n,e){const t=tt(n),r=e.snapshotVersion;let o=t.ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const d=t.hi.newChangeBuffer({trackRemovals:!0});o=t.ui;const m=[];e.targetChanges.forEach((C,x)=>{const N=o.get(x);if(!N)return;m.push(t.fs.removeMatchingKeys(u,C.removedDocuments,x).next(()=>t.fs.addMatchingKeys(u,C.addedDocuments,x)));let W=N.withSequenceNumber(u.currentSequenceNumber);var ne,ye,He;e.targetMismatches.has(x)?W=W.withResumeToken(yr.EMPTY_BYTE_STRING,wt.min()).withLastLimboFreeSnapshotVersion(wt.min()):C.resumeToken.approximateByteSize()>0&&(W=W.withResumeToken(C.resumeToken,r)),o=o.insert(x,W),ye=W,He=C,(0===(ne=N).resumeToken.approximateByteSize()||ye.snapshotVersion.toMicroseconds()-ne.snapshotVersion.toMicroseconds()>=3e8||He.addedDocuments.size+He.modifiedDocuments.size+He.removedDocuments.size>0)&&m.push(t.fs.updateTargetData(u,W))});let E=Bs();if(e.documentUpdates.forEach(C=>{e.resolvedLimboDocuments.has(C)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,C))}),m.push(m_(u,d,e.documentUpdates).next(C=>{E=C})),!r.isEqual(wt.min())){const C=t.fs.getLastRemoteSnapshotVersion(u).next(x=>t.fs.setTargetsMetadata(u,u.currentSequenceNumber,r));m.push(C)}return fe.waitFor(m).next(()=>d.apply(u)).next(()=>t.fi.Gs(u,E)).next(()=>E)}).then(u=>(t.ui=o,u))}function m_(n,e,t){let r=yn();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let u=Bs();return t.forEach((d,m)=>{const E=o.get(d);m.isNoDocument()&&m.version.isEqual(wt.min())?(e.removeEntry(d,m.readTime),u=u.insert(d,m)):!E.isValidDocument()||m.version.compareTo(E.version)>0||0===m.version.compareTo(E.version)&&E.hasPendingWrites?(e.addEntry(m),u=u.insert(d,m)):Ve("LocalStore","Ignoring outdated watch update for ",d,". Current version:",E.version," Watch version:",m.version)}),u})}function y_(n,e){const t=tt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.Bs.getNextMutationBatchAfterBatchId(r,e)))}function zl(n,e){const t=tt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.fs.getTargetData(r,e).next(u=>u?(o=u,fe.resolve(o)):t.fs.allocateTargetId(r).next(d=>(o=new Yo(e,d,0,r.currentSequenceNumber),t.fs.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.ui.get(r.targetId);return(null===o||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.ui=t.ui.insert(r.targetId,r),t.ai.set(e,r.targetId)),r})}function Md(n,e,t){return __.apply(this,arguments)}function __(){return __=(0,ve.Z)(function*(n,e,t){const r=tt(n),o=r.ui.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!xu(d))throw d;Ve("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}r.ui=r.ui.remove(e),r.ai.delete(o.target)}),__.apply(this,arguments)}function v_(n,e,t){const r=tt(n);let o=wt.min(),u=yn();return r.persistence.runTransaction("Execute query","readonly",d=>function(m,E,C){const x=tt(m),N=x.ai.get(C);return void 0!==N?fe.resolve(x.ui.get(N)):x.fs.getTargetData(E,C)}(r,d,ds(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.fs.getMatchingKeysForTargetId(d,m.targetId).next(E=>{u=E})}).next(()=>r.oi.Qs(d,e,t?o:wt.min(),t?u:yn())).next(m=>(E_(r,jy(e),m),{documents:m,_i:u})))}function Tg(n,e){const t=tt(n),r=tt(t.fs),o=t.ui.get(e);return o?Promise.resolve(o.target):t.persistence.runTransaction("Get target data","readonly",u=>r.Et(u,e).next(d=>d?d.target:null))}function Ag(n,e){const t=tt(n),r=t.ci.get(e)||wt.min();return t.persistence.runTransaction("Get new document changes","readonly",o=>t.hi.getAllFromCollectionGroup(o,e,sE(r,-1),Number.MAX_SAFE_INTEGER)).then(o=>(E_(t,e,o),o))}function E_(n,e,t){let r=wt.min();t.forEach((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.ci.set(e,r)}function vf(){return vf=(0,ve.Z)(function*(n,e,t,r){const o=tt(n);let u=yn(),d=Bs();for(const C of t){const x=e.wi(C.metadata.name);C.document&&(u=u.add(x));const N=e.mi(C);N.setReadTime(e.gi(C.metadata.readTime)),d=d.insert(x,N)}const m=o.hi.newChangeBuffer({trackRemovals:!0}),E=yield zl(o,(C=r,ds(gd(sn.fromString(`__bundle__/docs/${C}`)))));var C;return o.persistence.runTransaction("Apply bundle documents","readwrite",C=>m_(C,m,d).next(x=>(m.apply(C),x)).next(x=>o.fs.removeMatchingKeysForTargetId(C,E.targetId).next(()=>o.fs.addMatchingKeys(C,u,E.targetId)).next(()=>o.fi.Gs(C,x)).next(()=>x)))}),vf.apply(this,arguments)}function Bb(n,e){return I_.apply(this,arguments)}function I_(){return I_=(0,ve.Z)(function*(n,e,t=yn()){const r=yield zl(n,ds(r_(e.bundledQuery))),o=tt(n);return o.persistence.runTransaction("Save named query","readwrite",u=>{const d=Mr(e.readTime);if(r.snapshotVersion.compareTo(d)>=0)return o._s.saveNamedQuery(u,e);const m=r.withResumeToken(yr.EMPTY_BYTE_STRING,d);return o.ui=o.ui.insert(m.targetId,m),o.fs.updateTargetData(u,m).next(()=>o.fs.removeMatchingKeysForTargetId(u,r.targetId)).next(()=>o.fs.addMatchingKeys(u,t,r.targetId)).next(()=>o._s.saveNamedQuery(u,e))})}),I_.apply(this,arguments)}class jb{constructor(e){this.M=e,this.yi=new Map,this.pi=new Map}getBundleMetadata(e,t){return fe.resolve(this.yi.get(t))}saveBundleMetadata(e,t){var r;return this.yi.set(t.id,{id:(r=t).id,version:r.version,createTime:Mr(r.createTime)}),fe.resolve()}getNamedQuery(e,t){return fe.resolve(this.pi.get(t))}saveNamedQuery(e,t){return this.pi.set(t.name,{name:(r=t).name,query:r_(r.bundledQuery),readTime:Mr(r.readTime)}),fe.resolve();var r}}class $b{constructor(){this.overlays=new Jn(Qe.comparator),this.Ii=new Map}getOverlay(e,t){return fe.resolve(this.overlays.get(t))}saveOverlays(e,t,r){return r.forEach((o,u)=>{this.Xt(e,t,u)}),fe.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.Ii.get(r);return void 0!==o&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Ii.delete(r)),fe.resolve()}getOverlaysForCollection(e,t,r){const o=Su(),u=t.length+1,d=new Qe(t.child("")),m=this.overlays.getIteratorFrom(d);for(;m.hasNext();){const E=m.getNext().value,C=E.getKey();if(!t.isPrefixOf(C.path))break;C.path.length===u&&E.largestBatchId>r&&o.set(E.getKey(),E)}return fe.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let u=new Jn((C,x)=>C-x);const d=this.overlays.getIterator();for(;d.hasNext();){const C=d.getNext().value;if(C.getKey().getCollectionGroup()===t&&C.largestBatchId>r){let x=u.get(C.largestBatchId);null===x&&(x=Su(),u=u.insert(C.largestBatchId,x)),x.set(C.getKey(),C)}}const m=Su(),E=u.getIterator();for(;E.hasNext()&&(E.getNext().value.forEach((C,x)=>m.set(C,x)),!(m.size()>=o)););return fe.resolve(m)}Xt(e,t,r){if(null===r)return;const o=this.overlays.get(r.key);if(null!==o){const d=this.Ii.get(o.largestBatchId).delete(r.key);this.Ii.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new n_(t,r));let u=this.Ii.get(t);void 0===u&&(u=yn(),this.Ii.set(t,u)),this.Ii.set(t,u.add(r.key))}}class Sg{constructor(){this.Ti=new An(_r.Ei),this.Ai=new An(_r.Ri)}isEmpty(){return this.Ti.isEmpty()}addReference(e,t){const r=new _r(e,t);this.Ti=this.Ti.add(r),this.Ai=this.Ai.add(r)}bi(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Pi(new _r(e,t))}Vi(e,t){e.forEach(r=>this.removeReference(r,t))}vi(e){const t=new Qe(new sn([])),r=new _r(t,e),o=new _r(t,e+1),u=[];return this.Ai.forEachInRange([r,o],d=>{this.Pi(d),u.push(d.key)}),u}Si(){this.Ti.forEach(e=>this.Pi(e))}Pi(e){this.Ti=this.Ti.delete(e),this.Ai=this.Ai.delete(e)}Di(e){const t=new Qe(new sn([])),r=new _r(t,e),o=new _r(t,e+1);let u=yn();return this.Ai.forEachInRange([r,o],d=>{u=u.add(d.key)}),u}containsKey(e){const t=new _r(e,0),r=this.Ti.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class _r{constructor(e,t){this.key=e,this.Ci=t}static Ei(e,t){return Qe.comparator(e.key,t.key)||Lt(e.Ci,t.Ci)}static Ri(e,t){return Lt(e.Ci,t.Ci)||Qe.comparator(e.key,t.key)}}class Ew{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.Bs=[],this.xi=1,this.Ni=new An(_r.Ei)}checkEmpty(e){return fe.resolve(0===this.Bs.length)}addMutationBatch(e,t,r,o){const u=this.xi;this.xi++;const d=new of(u,t,r,o);this.Bs.push(d);for(const m of o)this.Ni=this.Ni.add(new _r(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return fe.resolve(d)}lookupMutationBatch(e,t){return fe.resolve(this.ki(t))}getNextMutationBatchAfterBatchId(e,t){const o=this.Mi(t+1),u=o<0?0:o;return fe.resolve(this.Bs.length>u?this.Bs[u]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(0===this.Bs.length?-1:this.xi-1)}getAllMutationBatches(e){return fe.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new _r(t,0),o=new _r(t,Number.POSITIVE_INFINITY),u=[];return this.Ni.forEachInRange([r,o],d=>{const m=this.ki(d.Ci);u.push(m)}),fe.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new An(Lt);return t.forEach(o=>{const u=new _r(o,0),d=new _r(o,Number.POSITIVE_INFINITY);this.Ni.forEachInRange([u,d],m=>{r=r.add(m.Ci)})}),fe.resolve(this.Oi(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let u=r;Qe.isDocumentKey(u)||(u=u.child(""));const d=new _r(new Qe(u),0);let m=new An(Lt);return this.Ni.forEachWhile(E=>{const C=E.key.path;return!!r.isPrefixOf(C)&&(C.length===o&&(m=m.add(E.Ci)),!0)},d),fe.resolve(this.Oi(m))}Oi(e){const t=[];return e.forEach(r=>{const o=this.ki(r);null!==o&&t.push(o)}),t}removeMutationBatch(e,t){Ct(0===this.Fi(t.batchId,"removed")),this.Bs.shift();let r=this.Ni;return fe.forEach(t.mutations,o=>{const u=new _r(o.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Ni=r})}_n(e){}containsKey(e,t){const r=new _r(t,0),o=this.Ni.firstAfterOrEqual(r);return fe.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return fe.resolve()}Fi(e,t){return this.Mi(e)}Mi(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}ki(e){const t=this.Mi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}class Hb{constructor(e){this.$i=e,this.docs=new Jn(Qe.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),u=o?o.size:0,d=this.$i(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return fe.resolve(r?r.document.mutableCopy():Ln.newInvalidDocument(t))}getEntries(e,t){let r=Bs();return t.forEach(o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():Ln.newInvalidDocument(o))}),fe.resolve(r)}getAllFromCollection(e,t,r){let o=Bs();const u=new Qe(t.child("")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){const{key:m,value:{document:E}}=d.getNext();if(!t.isPrefixOf(m.path))break;m.path.length>t.length+1||oE(KD(E),r)<=0||(o=o.insert(E.key,E.mutableCopy()))}return fe.resolve(o)}getAllFromCollectionGroup(e,t,r,o){st()}Bi(e,t){return fe.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new ww(this)}getSize(e){return fe.resolve(this.size)}}class ww extends h_{constructor(e){super(),this.Kn=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this.Kn.addEntry(e,o)):this.Kn.removeEntry(r)}),fe.waitFor(t)}getFromCache(e,t){return this.Kn.getEntry(e,t)}getAllFromCache(e,t){return this.Kn.getEntries(e,t)}}class Iw{constructor(e){this.persistence=e,this.Li=new Au(t=>fd(t),Ml),this.lastRemoteSnapshotVersion=wt.min(),this.highestTargetId=0,this.Ui=0,this.qi=new Sg,this.targetCount=0,this.Ki=Pu.gn()}forEachTarget(e,t){return this.Li.forEach((r,o)=>t(o)),fe.resolve()}getLastRemoteSnapshotVersion(e){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fe.resolve(this.Ui)}allocateTargetId(e){return this.highestTargetId=this.Ki.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ui&&(this.Ui=t),fe.resolve()}Tn(e){this.Li.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ki=new Pu(t),this.highestTargetId=t),e.sequenceNumber>this.Ui&&(this.Ui=e.sequenceNumber)}addTargetData(e,t){return this.Tn(t),this.targetCount+=1,fe.resolve()}updateTargetData(e,t){return this.Tn(t),fe.resolve()}removeTargetData(e,t){return this.Li.delete(t.target),this.qi.vi(t.targetId),this.targetCount-=1,fe.resolve()}removeTargets(e,t,r){let o=0;const u=[];return this.Li.forEach((d,m)=>{m.sequenceNumber<=t&&null===r.get(m.targetId)&&(this.Li.delete(d),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),fe.waitFor(u).next(()=>o)}getTargetCount(e){return fe.resolve(this.targetCount)}getTargetData(e,t){const r=this.Li.get(t)||null;return fe.resolve(r)}addMatchingKeys(e,t,r){return this.qi.bi(t,r),fe.resolve()}removeMatchingKeys(e,t,r){this.qi.Vi(t,r);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(d=>{u.push(o.markPotentiallyOrphaned(e,d))}),fe.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.qi.vi(t),fe.resolve()}getMatchingKeysForTargetId(e,t){const r=this.qi.Di(t);return fe.resolve(r)}containsKey(e,t){return fe.resolve(this.qi.containsKey(t))}}class Gb{constructor(e,t){this.Gi={},this.overlays={},this.es=new ls(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new Iw(this),this.indexManager=new Ob,this.ds=new Hb(r=>this.referenceDelegate.Qi(r)),this.M=new tw(t),this._s=new jb(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new $b,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Gi[e.toKey()];return r||(r=new Ew(t,this.referenceDelegate),this.Gi[e.toKey()]=r),r}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,t,r){Ve("MemoryPersistence","Starting transaction:",e);const o=new Dw(this.es.next());return this.referenceDelegate.ji(),r(o).next(u=>this.referenceDelegate.Wi(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}zi(e,t){return fe.or(Object.values(this.Gi).map(r=>()=>r.containsKey(e,t)))}}class Dw extends XE{constructor(e){super(),this.currentSequenceNumber=e}}class Mg{constructor(e){this.persistence=e,this.Hi=new Sg,this.Ji=null}static Yi(e){return new Mg(e)}get Xi(){if(this.Ji)return this.Ji;throw st()}addReference(e,t,r){return this.Hi.addReference(r,t),this.Xi.delete(r.toString()),fe.resolve()}removeReference(e,t,r){return this.Hi.removeReference(r,t),this.Xi.add(r.toString()),fe.resolve()}markPotentiallyOrphaned(e,t){return this.Xi.add(t.toString()),fe.resolve()}removeTarget(e,t){this.Hi.vi(t.targetId).forEach(o=>this.Xi.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.Xi.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}ji(){this.Ji=new Set}Wi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.Xi,r=>{const o=Qe.fromPath(r);return this.Zi(e,o).next(u=>{u||t.removeEntry(o,wt.min())})}).next(()=>(this.Ji=null,t.apply(e)))}updateLimboDocument(e,t){return this.Zi(e,t).next(r=>{r?this.Xi.delete(t.toString()):this.Xi.add(t.toString())})}Qi(e){return 0}Zi(e,t){return fe.or([()=>fe.resolve(this.Hi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.zi(e,t)])}}function bw(n,e){return`firestore_clients_${n}_${e}`}function D_(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function xg(n,e){return`firestore_targets_${n}_${e}`}class Gr{constructor(e,t,r,o){this.user=e,this.batchId=t,this.state=r,this.error=o}static tr(e,t,r){const o=JSON.parse(r);let u,d="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return d&&o.error&&(d="string"==typeof o.error.message&&"string"==typeof o.error.code,d&&(u=new Pe(o.error.code,o.error.message))),d?new Gr(e,t,o.state,u):(mr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}er(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Qo{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static tr(e,t){const r=JSON.parse(t);let o,u="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(o=new Pe(r.error.code,r.error.message))),u?new Qo(e,r.state,o):(mr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}er(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Rg{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static tr(e,t){const r=JSON.parse(t);let o="object"==typeof r&&r.activeTargetIds instanceof Array,u=vg();for(let d=0;o&&d<r.activeTargetIds.length;++d)o=xy(r.activeTargetIds[d]),u=u.add(r.activeTargetIds[d]);return o?new Rg(e,u):(mr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class b_{constructor(e,t){this.clientId=e,this.onlineState=t}static tr(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new b_(t.clientId,t.onlineState):(mr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Cw{constructor(){this.activeTargetIds=vg()}nr(e){this.activeTargetIds=this.activeTargetIds.add(e)}sr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}er(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ql{constructor(e,t,r,o,u){this.window=e,this.Yn=t,this.persistenceKey=r,this.ir=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.rr=this.ur.bind(this),this.ar=new Jn(Lt),this.started=!1,this.cr=[];const d=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.hr=bw(this.persistenceKey,this.ir),this.lr=`firestore_sequence_number_${this.persistenceKey}`,this.ar=this.ar.insert(this.ir,new Cw),this.dr=new RegExp(`^firestore_clients_${d}_([^_]*)$`),this._r=new RegExp(`^firestore_mutations_${d}_(\\d+)(?:_(.*))?$`),this.wr=new RegExp(`^firestore_targets_${d}_(\\d+)$`),this.mr=`firestore_online_state_${this.persistenceKey}`,this.gr=function(m){return`firestore_bundle_loaded_v2_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this.rr)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ve.Z)(function*(){const t=yield e.syncEngine.Fs();for(const o of t){if(o===e.ir)continue;const u=e.getItem(bw(e.persistenceKey,o));if(u){const d=Rg.tr(o,u);d&&(e.ar=e.ar.insert(d.clientId,d))}}e.yr();const r=e.storage.getItem(e.mr);if(r){const o=e.pr(r);o&&e.Ir(o)}for(const o of e.cr)e.ur(o);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.lr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Tr(this.ar)}isActiveQueryTarget(e){let t=!1;return this.ar.forEach((r,o)=>{o.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Er(e,"pending")}updateMutationState(e,t,r){this.Er(e,t,r),this.Ar(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(xg(this.persistenceKey,e));if(r){const o=Qo.tr(e,r);o&&(t=o.state)}}return this.Rr.nr(e),this.yr(),t}removeLocalQueryTarget(e){this.Rr.sr(e),this.yr()}isLocalQueryTarget(e){return this.Rr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(xg(this.persistenceKey,e))}updateQueryState(e,t,r){this.br(e,t,r)}handleUserChange(e,t,r){t.forEach(o=>{this.Ar(o)}),this.currentUser=e,r.forEach(o=>{this.addPendingMutation(o)})}setOnlineState(e){this.Pr(e)}notifyBundleLoaded(e){this.Vr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.rr),this.removeItem(this.hr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ve("SharedClientState","READ",e,t),t}setItem(e,t){Ve("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ve("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ur(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Ve("SharedClientState","EVENT",r.key,r.newValue),r.key===this.hr)return void mr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable((0,ve.Z)(function*(){if(t.started){if(null!==r.key)if(t.dr.test(r.key)){if(null==r.newValue){const o=t.vr(r.key);return t.Sr(o,null)}{const o=t.Dr(r.key,r.newValue);if(o)return t.Sr(o.clientId,o)}}else if(t._r.test(r.key)){if(null!==r.newValue){const o=t.Cr(r.key,r.newValue);if(o)return t.Nr(o)}}else if(t.wr.test(r.key)){if(null!==r.newValue){const o=t.kr(r.key,r.newValue);if(o)return t.Mr(o)}}else if(r.key===t.mr){if(null!==r.newValue){const o=t.pr(r.newValue);if(o)return t.Ir(o)}}else if(r.key===t.lr){const o=function(u){let d=ls.A;if(null!=u)try{const m=JSON.parse(u);Ct("number"==typeof m),d=m}catch(m){mr("SharedClientState","Failed to read sequence number from WebStorage",m)}return d}(r.newValue);o!==ls.A&&t.sequenceNumberHandler(o)}else if(r.key===t.gr){const o=t.Or(r.newValue);yield Promise.all(o.map(u=>t.syncEngine.Fr(u)))}}else t.cr.push(r)}))}}get Rr(){return this.ar.get(this.ir)}yr(){this.setItem(this.hr,this.Rr.er())}Er(e,t,r){const o=new Gr(this.currentUser,e,t,r),u=D_(this.persistenceKey,this.currentUser,e);this.setItem(u,o.er())}Ar(e){const t=D_(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Pr(e){this.storage.setItem(this.mr,JSON.stringify({clientId:this.ir,onlineState:e}))}br(e,t,r){const o=xg(this.persistenceKey,e),u=new Qo(e,t,r);this.setItem(o,u.er())}Vr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.gr,t)}vr(e){const t=this.dr.exec(e);return t?t[1]:null}Dr(e,t){const r=this.vr(e);return Rg.tr(r,t)}Cr(e,t){const r=this._r.exec(e),o=Number(r[1]);return Gr.tr(new ei(void 0!==r[2]?r[2]:null),o,t)}kr(e,t){const r=this.wr.exec(e),o=Number(r[1]);return Qo.tr(o,t)}pr(e){return b_.tr(e)}Or(e){return JSON.parse(e)}Nr(e){var t=this;return(0,ve.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.$r(e.batchId,e.state,e.error);Ve("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Mr(e){return this.syncEngine.Br(e.targetId,e.state,e.error)}Sr(e,t){const r=t?this.ar.insert(e,t):this.ar.remove(e),o=this.Tr(this.ar),u=this.Tr(r),d=[],m=[];return u.forEach(E=>{o.has(E)||d.push(E)}),o.forEach(E=>{u.has(E)||m.push(E)}),this.syncEngine.Lr(d,m).then(()=>{this.ar=r})}Ir(e){this.ar.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Tr(e){let t=vg();return e.forEach((r,o)=>{t=t.unionWith(o.activeTargetIds)}),t}}class Tw{constructor(){this.Ur=new Cw,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Ur.nr(e),this.qr[e]||"not-current"}updateQueryState(e,t,r){this.qr[e]=t}removeLocalQueryTarget(e){this.Ur.sr(e)}isLocalQueryTarget(e){return this.Ur.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(e){return this.Ur.activeTargetIds.has(e)}start(){return this.Ur=new Cw,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class C_{Kr(e){}shutdown(){}}class Aw{constructor(){this.Gr=()=>this.Qr(),this.jr=()=>this.Wr(),this.zr=[],this.Hr()}Kr(e){this.zr.push(e)}shutdown(){window.removeEventListener("online",this.Gr),window.removeEventListener("offline",this.jr)}Hr(){window.addEventListener("online",this.Gr),window.addEventListener("offline",this.jr)}Qr(){Ve("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.zr)e(0)}Wr(){Ve("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.zr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Sw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class zb{constructor(e){this.Jr=e.Jr,this.Yr=e.Yr}Xr(e){this.Zr=e}eo(e){this.no=e}onMessage(e){this.so=e}close(){this.Yr()}send(e){this.Jr(e)}io(){this.Zr()}ro(e){this.no(e)}oo(e){this.so(e)}}class qb extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.uo=(e.ssl?"https":"http")+"://"+e.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,t,r,o,u){const d=this.ho(e,t);Ve("RestConnection","Sending: ",d,r);const m={};return this.lo(m,o,u),this.fo(e,d,m,r).then(E=>(Ve("RestConnection","Received: ",E),E),E=>{throw rg("RestConnection",`${e} failed with error: `,E,"url: ",d,"request:",r),E})}_o(e,t,r,o,u){return this.co(e,t,r,o,u)}lo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+sd,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),r&&r.headers.forEach((o,u)=>e[u]=o)}ho(e,t){return`${this.uo}/v1/${t}:${Sw[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,r,o){return new Promise((u,d)=>{const m=new Z0;m.listenOnce(G0.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case tg.NO_ERROR:const C=m.getResponseJson();Ve("Connection","XHR received:",JSON.stringify(C)),u(C);break;case tg.TIMEOUT:Ve("Connection",'RPC "'+e+'" timed out'),d(new Pe(he.DEADLINE_EXCEEDED,"Request time out"));break;case tg.HTTP_ERROR:const x=m.getStatus();if(Ve("Connection",'RPC "'+e+'" failed with status:',x,"response text:",m.getResponseText()),x>0){const N=m.getResponseJson().error;if(N&&N.status&&N.message){const W=function(ne){const ye=ne.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf(ye)>=0?ye:he.UNKNOWN}(N.status);d(new Pe(W,N.message))}else d(new Pe(he.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new Pe(he.UNAVAILABLE,"Connection failed."));break;default:st()}}finally{Ve("Connection",'RPC "'+e+'" completed.')}});const E=JSON.stringify(o);m.send(t,"POST",E,r,15)})}wo(e,t,r){const o=[this.uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=$0(),d=H0(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(m.xmlHttpFactory=new W0({})),this.lo(m.initMessageHeaders,t,r),(0,qt.uI)()||(0,qt.b$)()||(0,qt.d)()||(0,qt.w1)()||(0,qt.Mn)()||(0,qt.ru)()||(m.httpHeadersOverwriteParam="$httpHeaders");const E=o.join("");Ve("Connection","Creating WebChannel: "+E,m);const C=u.createWebChannel(E,m);let x=!1,N=!1;const W=new zb({Jr:ye=>{N?Ve("Connection","Not sending because WebChannel is closed:",ye):(x||(Ve("Connection","Opening WebChannel transport."),C.open(),x=!0),Ve("Connection","WebChannel sending:",ye),C.send(ye))},Yr:()=>C.close()}),ne=(ye,He,ot)=>{ye.listen(He,Yt=>{try{ot(Yt)}catch(Qt){setTimeout(()=>{throw Qt},0)}})};return ne(C,ng.EventType.OPEN,()=>{N||Ve("Connection","WebChannel transport opened.")}),ne(C,ng.EventType.CLOSE,()=>{N||(N=!0,Ve("Connection","WebChannel transport closed"),W.ro())}),ne(C,ng.EventType.ERROR,ye=>{N||(N=!0,rg("Connection","WebChannel transport errored:",ye),W.ro(new Pe(he.UNAVAILABLE,"The operation could not be completed")))}),ne(C,ng.EventType.MESSAGE,ye=>{var He;if(!N){const ot=ye.data[0];Ct(!!ot);const Yt=ot,Qt=Yt.error||(null===(He=Yt[0])||void 0===He?void 0:He.error);if(Qt){Ve("Connection","WebChannel received error:",Qt);const tn=Qt.status;let Ht=function(_n){const qi=dr[_n];if(void 0!==qi)return _t(qi)}(tn),Jt=Qt.message;void 0===Ht&&(Ht=he.INTERNAL,Jt="Unknown error status: "+tn+" with message "+Qt.message),N=!0,W.ro(new Pe(Ht,Jt)),C.close()}else Ve("Connection","WebChannel received:",ot),W.oo(ot)}}),ne(d,z0.STAT_EVENT,ye=>{ye.stat===q0.PROXY?Ve("Connection","Detected buffering proxy"):ye.stat===q0.NOPROXY&&Ve("Connection","Detected no buffering proxy")}),setTimeout(()=>{W.io()},0),W}}function Ng(){return"undefined"!=typeof window?window:null}function Ef(){return"undefined"!=typeof document?document:null}function xd(n){return new ub(n,!0)}class Rd{constructor(e,t,r=1e3,o=1.5,u=6e4){this.Yn=e,this.timerId=t,this.mo=r,this.yo=o,this.po=u,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),o=Math.max(0,t-r);o>0&&Ve("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.To=this.Yn.enqueueAfterDelay(this.timerId,o,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class Og{constructor(e,t,r,o,u,d,m,E){this.Yn=e,this.Vo=r,this.vo=o,this.So=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=m,this.listener=E,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new Rd(e,t)}ko(){return 1===this.state||5===this.state||this.Mo()}Mo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,ve.Z)(function*(){e.ko()&&(yield e.close(0))})()}Fo(){this.state=0,this.No.reset()}$o(){this.Mo()&&null===this.Co&&(this.Co=this.Yn.enqueueAfterDelay(this.Vo,6e4,()=>this.Bo()))}Lo(e){this.Uo(),this.stream.send(e)}Bo(){var e=this;return(0,ve.Z)(function*(){if(e.Mo())return e.close(0)})()}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}close(e,t){var r=this;return(0,ve.Z)(function*(){r.Uo(),r.qo(),r.No.cancel(),r.Do++,4!==e?r.No.reset():t&&t.code===he.RESOURCE_EXHAUSTED?(mr(t.toString()),mr("Using maximum backoff delay to prevent overloading the backend."),r.No.Ao()):t&&t.code===he.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Ko(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.eo(t)})()}Ko(){}auth(){this.state=1;const e=this.Go(this.Do),t=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.Do===t&&this.Qo(r,o)},r=>{e(()=>{const o=new Pe(he.UNKNOWN,"Fetching auth token failed: "+r.message);return this.jo(o)})})}Qo(e,t){const r=this.Go(this.Do);this.stream=this.Wo(e,t),this.stream.Xr(()=>{r(()=>(this.state=2,this.xo=this.Yn.enqueueAfterDelay(this.vo,1e4,()=>(this.Mo()&&(this.state=3),Promise.resolve())),this.listener.Xr()))}),this.stream.eo(o=>{r(()=>this.jo(o))}),this.stream.onMessage(o=>{r(()=>this.onMessage(o))})}Oo(){var e=this;this.state=5,this.No.Ro((0,ve.Z)(function*(){e.state=0,e.start()}))}jo(e){return Ve("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Go(e){return t=>{this.Yn.enqueueAndForget(()=>this.Do===e?t():(Ve("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class HT extends Og{constructor(e,t,r,o,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,d),this.M=u}Wo(e,t){return this.So.wo("Listen",e,t)}onMessage(e){this.No.reset();const t=function lb(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(E=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===E?1:"REMOVE"===E?2:"CURRENT"===E?3:"RESET"===E?4:st(),o=e.targetChange.targetIds||[],u=function(E,C){return E.N?(Ct(void 0===C||"string"==typeof C),yr.fromBase64String(C||"")):(Ct(void 0===C||C instanceof Uint8Array),yr.fromUint8Array(C||new Uint8Array))}(n,e.targetChange.resumeToken),d=e.targetChange.cause,m=d&&function(E){const C=void 0===E.code?he.UNKNOWN:_t(E.code);return new Pe(C,E.message||"")}(d);t=new qy(r,o,u,m||null)}else if("documentChange"in e){const r=e.documentChange,o=Zo(n,r.document.name),u=Mr(r.document.updateTime),d=new ti({mapValue:{fields:r.document.fields}}),m=Ln.newFoundDocument(o,u,d);t=new Xh(r.targetIds||[],r.removedTargetIds||[],m.key,m)}else if("documentDelete"in e){const r=e.documentDelete,o=Zo(n,r.document),u=r.readTime?Mr(r.readTime):wt.min(),d=Ln.newNoDocument(o,u);t=new Xh([],r.removedTargetIds||[],d.key,d)}else if("documentRemove"in e){const r=e.documentRemove,o=Zo(n,r.document);t=new Xh([],r.removedTargetIds||[],o,null)}else{if(!("filter"in e))return st();{const r=e.filter,u=new BT(r.count||0);t=new zy(r.targetId,u)}}var E;return t}(this.M,e),r=function(o){if(!("targetChange"in o))return wt.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?wt.min():u.readTime?Mr(u.readTime):wt.min()}(e);return this.listener.zo(t,r)}Ho(e){const t={};t.database=bd(this.M),t.addTarget=function(o,u){let d;const m=u.target;return d=cs(m)?{documents:cb(o,m)}:{query:db(o,m)},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0?d.resumeToken=Wy(o,u.resumeToken):u.snapshotVersion.compareTo(wt.min())>0&&(d.readTime=Mu(o,u.snapshotVersion.toTimestamp())),d}(this.M,e);const r=function Eg(n,e){const t=function(r,o){switch(o){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return st()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Lo(t)}Jo(e){const t={};t.database=bd(this.M),t.removeTarget=e,this.Lo(t)}}class Mw extends Og{constructor(e,t,r,o,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,d),this.M=u,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(e,t){return this.So.wo("Write",e,t)}onMessage(e){if(Ct(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();const t=function jT(n,e){return n&&n.length>0?(Ct(void 0!==e),n.map(t=>function(r,o){let u=Mr(r.updateTime?r.updateTime:o);return u.isEqual(wt.min())&&(u=Mr(o)),new TE(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Mr(e.commitTime);return this.listener.tu(r,t)}return Ct(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}nu(){const e={};e.database=bd(this.M),this.Lo(e)}Zo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>ef(this.M,r))};this.Lo(t)}}class Wb extends class{}{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.So=r,this.M=o,this.su=!1}iu(){if(this.su)throw new Pe(he.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,r){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.So.co(e,t,r,o,u)).catch(o=>{throw"FirebaseError"===o.name?(o.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Pe(he.UNKNOWN,o.toString())})}_o(e,t,r){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.So._o(e,t,r,o,u)).catch(o=>{throw"FirebaseError"===o.name?(o.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Pe(he.UNKNOWN,o.toString())})}terminate(){this.su=!0}}class xw{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}au(){0===this.ru&&(this.cu("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}lu(e){"Online"===this.state?this.cu("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}hu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(mr(t),this.uu=!1):Ve("OnlineStateTracker",t)}fu(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}class Pg{constructor(e,t,r,o,u){var d=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=u,this.gu.Kr(m=>{r.enqueueAndForget((0,ve.Z)(function*(){var E;Pa(d)&&(Ve("RemoteStore","Restarting streams for network reachability change."),yield(E=(0,ve.Z)(function*(C){const x=tt(C);x.wu.add(4),yield Fu(x),x.yu.set("Unknown"),x.wu.delete(4),yield Nd(x)}),function(C){return E.apply(this,arguments)})(d))}))}),this.yu=new xw(r,o)}}function Nd(n){return T_.apply(this,arguments)}function T_(){return T_=(0,ve.Z)(function*(n){if(Pa(n))for(const e of n.mu)yield e(!0)}),T_.apply(this,arguments)}function Fu(n){return wf.apply(this,arguments)}function wf(){return wf=(0,ve.Z)(function*(n){for(const e of n.mu)yield e(!1)}),wf.apply(this,arguments)}function A_(n,e){const t=tt(n);t._u.has(e.targetId)||(t._u.set(e.targetId,e),x_(t)?kg(t):Lu(t).Mo()&&S_(t,e))}function If(n,e){const t=tt(n),r=Lu(t);t._u.delete(e),r.Mo()&&M_(t,e),0===t._u.size&&(r.Mo()?r.$o():Pa(t)&&t.yu.set("Unknown"))}function S_(n,e){n.pu.Z(e.targetId),Lu(n).Ho(e)}function M_(n,e){n.pu.Z(e),Lu(n).Jo(e)}function kg(n){n.pu=new sb({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n._u.get(e)||null}),Lu(n).start(),n.yu.au()}function x_(n){return Pa(n)&&!Lu(n).ko()&&n._u.size>0}function Pa(n){return 0===tt(n).wu.size}function R_(n){n.pu=void 0}function Zb(n){return N_.apply(this,arguments)}function N_(){return N_=(0,ve.Z)(function*(n){n._u.forEach((e,t)=>{S_(n,e)})}),N_.apply(this,arguments)}function Rw(n,e){return O_.apply(this,arguments)}function O_(){return O_=(0,ve.Z)(function*(n,e){R_(n),x_(n)?(n.yu.lu(e),kg(n)):n.yu.set("Unknown")}),O_.apply(this,arguments)}function Nw(n,e,t){return Fg.apply(this,arguments)}function Fg(){return Fg=(0,ve.Z)(function*(n,e,t){if(n.yu.set("Online"),e instanceof qy&&2===e.state&&e.cause)try{yield(r=(0,ve.Z)(function*(o,u){const d=u.cause;for(const m of u.targetIds)o._u.has(m)&&(yield o.remoteSyncer.rejectListen(m,d),o._u.delete(m),o.pu.removeTarget(m))}),function(o,u){return r.apply(this,arguments)})(n,e)}catch(r){Ve("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Df(n,r)}else if(e instanceof Xh?n.pu.ut(e):e instanceof zy?n.pu._t(e):n.pu.ht(e),!t.isEqual(wt.min()))try{const r=yield _w(n.localStore);t.compareTo(r)>=0&&(yield function(o,u){const d=o.pu.yt(u);return d.targetChanges.forEach((m,E)=>{if(m.resumeToken.approximateByteSize()>0){const C=o._u.get(E);C&&o._u.set(E,C.withResumeToken(m.resumeToken,u))}}),d.targetMismatches.forEach(m=>{const E=o._u.get(m);if(!E)return;o._u.set(m,E.withResumeToken(yr.EMPTY_BYTE_STRING,E.snapshotVersion)),M_(o,m);const C=new Yo(E.target,m,1,E.sequenceNumber);S_(o,C)}),o.remoteSyncer.applyRemoteEvent(d)}(n,t))}catch(r){Ve("RemoteStore","Failed to raise snapshot:",r),yield Df(n,r)}var r}),Fg.apply(this,arguments)}function Df(n,e,t){return Lg.apply(this,arguments)}function Lg(){return Lg=(0,ve.Z)(function*(n,e,t){if(!xu(e))throw e;n.wu.add(1),yield Fu(n),n.yu.set("Offline"),t||(t=()=>_w(n.localStore)),n.asyncQueue.enqueueRetryable((0,ve.Z)(function*(){Ve("RemoteStore","Retrying IndexedDB access"),yield t(),n.wu.delete(1),yield Nd(n)}))}),Lg.apply(this,arguments)}function Ow(n,e){return e().catch(t=>Df(n,t,e))}function Od(n){return Pw.apply(this,arguments)}function Pw(){return Pw=(0,ve.Z)(function*(n){const e=tt(n),t=ka(e);let r=e.du.length>0?e.du[e.du.length-1].batchId:-1;for(;kw(e);)try{const o=yield y_(e.localStore,r);if(null===o){0===e.du.length&&t.$o();break}r=o.batchId,GT(e,o)}catch(o){yield Df(e,o)}Kb(e)&&Yb(e)}),Pw.apply(this,arguments)}function kw(n){return Pa(n)&&n.du.length<10}function GT(n,e){n.du.push(e);const t=ka(n);t.Mo()&&t.Xo&&t.Zo(e.mutations)}function Kb(n){return Pa(n)&&!ka(n).ko()&&n.du.length>0}function Yb(n){ka(n).start()}function zT(n){return Fw.apply(this,arguments)}function Fw(){return Fw=(0,ve.Z)(function*(n){ka(n).nu()}),Fw.apply(this,arguments)}function qT(n){return Lw.apply(this,arguments)}function Lw(){return Lw=(0,ve.Z)(function*(n){const e=ka(n);for(const t of n.du)e.Zo(t.mutations)}),Lw.apply(this,arguments)}function WT(n,e,t){return Pd.apply(this,arguments)}function Pd(){return Pd=(0,ve.Z)(function*(n,e,t){const r=n.du.shift(),o=t_.from(r,e,t);yield Ow(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),yield Od(n)}),Pd.apply(this,arguments)}function ZT(n,e){return Vg.apply(this,arguments)}function Vg(){return Vg=(0,ve.Z)(function*(n,e){var t;e&&ka(n).Xo&&(yield(t=(0,ve.Z)(function*(r,o){if(rb(u=o.code)&&u!==he.ABORTED){const d=r.du.shift();ka(r).Fo(),yield Ow(r,()=>r.remoteSyncer.rejectFailedWrite(d.batchId,o)),yield Od(r)}var u}),function(r,o){return t.apply(this,arguments)})(n,e)),Kb(n)&&Yb(n)}),Vg.apply(this,arguments)}function Ug(n,e){return Bg.apply(this,arguments)}function Bg(){return Bg=(0,ve.Z)(function*(n,e){const t=tt(n);t.asyncQueue.verifyOperationInProgress(),Ve("RemoteStore","RemoteStore received new credentials");const r=Pa(t);t.wu.add(3),yield Fu(t),r&&t.yu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.wu.delete(3),yield Nd(t)}),Bg.apply(this,arguments)}function jg(n,e){return Vw.apply(this,arguments)}function Vw(){return Vw=(0,ve.Z)(function*(n,e){const t=tt(n);e?(t.wu.delete(2),yield Nd(t)):e||(t.wu.add(2),yield Fu(t),t.yu.set("Unknown"))}),Vw.apply(this,arguments)}function Lu(n){return n.Iu||(n.Iu=function(e,t,r){const o=tt(e);return o.iu(),new HT(t,o.So,o.authCredentials,o.appCheckCredentials,o.M,r)}(n.datastore,n.asyncQueue,{Xr:Zb.bind(null,n),eo:Rw.bind(null,n),zo:Nw.bind(null,n)}),n.mu.push(function(){var e=(0,ve.Z)(function*(t){t?(n.Iu.Fo(),x_(n)?kg(n):n.yu.set("Unknown")):(yield n.Iu.stop(),R_(n))});return function(t){return e.apply(this,arguments)}}())),n.Iu}function ka(n){return n.Tu||(n.Tu=function(e,t,r){const o=tt(e);return o.iu(),new Mw(t,o.So,o.authCredentials,o.appCheckCredentials,o.M,r)}(n.datastore,n.asyncQueue,{Xr:zT.bind(null,n),eo:ZT.bind(null,n),eu:qT.bind(null,n),tu:WT.bind(null,n)}),n.mu.push(function(){var e=(0,ve.Z)(function*(t){t?(n.Tu.Fo(),yield Od(n)):(yield n.Tu.stop(),n.du.length>0&&(Ve("RemoteStore",`Stopping write stream with ${n.du.length} pending writes`),n.du=[]))});return function(t){return e.apply(this,arguments)}}())),n.Tu}class P_{constructor(e,t,r,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new Hr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(e,t,r,o,u){const d=Date.now()+r,m=new P_(e,t,d,o,u);return m.start(r),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Pe(he.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wl(n,e){if(mr("AsyncQueue",`${e}: ${n}`),xu(n))return new Pe(he.UNAVAILABLE,`${e}: ${n}`);throw n}class bf{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Qe.comparator(t.key,r.key):(t,r)=>Qe.comparator(t.key,r.key),this.keyedMap=Gy(),this.sortedSet=new Jn(this.comparator)}static emptySet(e){return new bf(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof bf)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new bf;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class Uw{constructor(){this.Eu=new Jn(Qe.comparator)}track(e){const t=e.doc.key,r=this.Eu.get(t);r?0!==e.type&&3===r.type?this.Eu=this.Eu.insert(t,e):3===e.type&&1!==r.type?this.Eu=this.Eu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Eu=this.Eu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Eu=this.Eu.remove(t):1===e.type&&2===r.type?this.Eu=this.Eu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):st():this.Eu=this.Eu.insert(t,e)}Au(){const e=[];return this.Eu.inorderTraversal((t,r)=>{e.push(r)}),e}}class kd{constructor(e,t,r,o,u,d,m,E){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=m,this.excludesMetadataChanges=E}static fromInitialDocuments(e,t,r,o){const u=[];return t.forEach(d=>{u.push({type:0,doc:d})}),new kd(e,t,bf.emptySet(t),u,r,o,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}class k_{constructor(){this.Ru=void 0,this.listeners=[]}}class Qb{constructor(){this.queries=new Au(e=>By(e),yd),this.onlineState="Unknown",this.bu=new Set}}function Bw(n,e){return jw.apply(this,arguments)}function jw(){return jw=(0,ve.Z)(function*(n,e){const t=tt(n),r=e.query;let o=!1,u=t.queries.get(r);if(u||(o=!0,u=new k_),o)try{u.Ru=yield t.onListen(r)}catch(d){const m=Wl(d,`Initialization of query '${hg(e.query)}' failed`);return void e.onError(m)}t.queries.set(r,u),u.listeners.push(e),e.Pu(t.onlineState),u.Ru&&e.Vu(u.Ru)&&Hw(t)}),jw.apply(this,arguments)}function $w(n,e){return F_.apply(this,arguments)}function F_(){return F_=(0,ve.Z)(function*(n,e){const t=tt(n),r=e.query;let o=!1;const u=t.queries.get(r);if(u){const d=u.listeners.indexOf(e);d>=0&&(u.listeners.splice(d,1),o=0===u.listeners.length)}if(o)return t.queries.delete(r),t.onUnlisten(r)}),F_.apply(this,arguments)}function Jb(n,e){const t=tt(n);let r=!1;for(const o of e){const d=t.queries.get(o.query);if(d){for(const m of d.listeners)m.Vu(o)&&(r=!0);d.Ru=o}}r&&Hw(t)}function Xb(n,e,t){const r=tt(n),o=r.queries.get(e);if(o)for(const u of o.listeners)u.onError(t);r.queries.delete(e)}function Hw(n){n.bu.forEach(e=>{e.next()})}class L_{constructor(e,t,r){this.query=e,this.vu=t,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=r||{}}Vu(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)3!==o.type&&r.push(o);e=new kd(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.Su?this.Cu(e)&&(this.vu.next(e),t=!0):this.xu(e,this.onlineState)&&(this.Nu(e),t=!0),this.Du=e,t}onError(e){this.vu.error(e)}Pu(e){this.onlineState=e;let t=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),t=!0),t}xu(e,t){return!e.fromCache||!(this.options.ku&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Cu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Nu(e){e=kd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Su=!0,this.vu.next(e)}}class V_{constructor(e,t){this.payload=e,this.byteLength=t}Mu(){return"metadata"in this.payload}}class Gw{constructor(e){this.M=e}wi(e){return Zo(this.M,e)}mi(e){return e.metadata.exists?FE(this.M,e.document,!1):Ln.newNoDocument(this.wi(e.metadata.name),this.gi(e.metadata.readTime))}gi(e){return Mr(e)}}class go{constructor(e,t,r){this.Ou=e,this.localStore=t,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=zw(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=sn.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,r=new Gw(this.M);for(const o of e)if(o.metadata.queries){const u=r.wi(o.metadata.name);for(const d of o.metadata.queries){const m=(t.get(d)||yn()).add(u);t.set(d,m)}}return t}complete(){var e=this;return(0,ve.Z)(function*(){const t=yield function w_(n,e,t,r){return vf.apply(this,arguments)}(e.localStore,new Gw(e.M),e.documents,e.Ou.id),r=e.$u(e.documents);for(const o of e.queries)yield Bb(e.localStore,o,r.get(o.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function zw(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class $g{constructor(e){this.key=e}}class qw{constructor(e){this.key=e}}class Ww{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.current=!1,this.Ku=yn(),this.mutatedKeys=yn(),this.Gu=mE(e),this.Qu=new bf(this.Gu)}get ju(){return this.Uu}Wu(e,t){const r=t?t.zu:new Uw,o=t?t.Qu:this.Qu;let u=t?t.mutatedKeys:this.mutatedKeys,d=o,m=!1;const E="F"===this.query.limitType&&o.size===this.query.limit?o.last():null,C="L"===this.query.limitType&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((x,N)=>{const W=o.get(x),ne=fg(this.query,N)?N:null,ye=!!W&&this.mutatedKeys.has(W.key),He=!!ne&&(ne.hasLocalMutations||this.mutatedKeys.has(ne.key)&&ne.hasCommittedMutations);let ot=!1;W&&ne?W.data.isEqual(ne.data)?ye!==He&&(r.track({type:3,doc:ne}),ot=!0):this.Hu(W,ne)||(r.track({type:2,doc:ne}),ot=!0,(E&&this.Gu(ne,E)>0||C&&this.Gu(ne,C)<0)&&(m=!0)):!W&&ne?(r.track({type:0,doc:ne}),ot=!0):W&&!ne&&(r.track({type:1,doc:W}),ot=!0,(E||C)&&(m=!0)),ot&&(ne?(d=d.add(ne),u=He?u.add(x):u.delete(x)):(d=d.delete(x),u=u.delete(x)))}),null!==this.query.limit)for(;d.size>this.query.limit;){const x="F"===this.query.limitType?d.last():d.first();d=d.delete(x.key),u=u.delete(x.key),r.track({type:1,doc:x})}return{Qu:d,zu:r,ii:m,mutatedKeys:u}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const o=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const u=e.zu.Au();u.sort((C,x)=>function(N,W){const ne=ye=>{switch(ye){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return st()}};return ne(N)-ne(W)}(C.type,x.type)||this.Gu(C.doc,x.doc)),this.Ju(r);const d=t?this.Yu():[],m=0===this.Ku.size&&this.current?1:0,E=m!==this.qu;return this.qu=m,0!==u.length||E?{snapshot:new kd(this.query,e.Qu,o,u,e.mutatedKeys,0===m,E,!1),Xu:d}:{Xu:d}}Pu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new Uw,mutatedKeys:this.mutatedKeys,ii:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=yn(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const t=[];return e.forEach(r=>{this.Ku.has(r)||t.push(new qw(r))}),this.Ku.forEach(r=>{e.has(r)||t.push(new $g(r))}),t}ta(e){this.Uu=e._i,this.Ku=yn();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ea(){return kd.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu)}}class U_{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Zw{constructor(e){this.key=e,this.na=!1}}class Kw{constructor(e,t,r,o,u,d){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.sa={},this.ia=new Au(m=>By(m),yd),this.ra=new Map,this.oa=new Set,this.ua=new Jn(Qe.comparator),this.aa=new Map,this.ca=new Sg,this.ha={},this.la=new Map,this.fa=Pu.yn(),this.onlineState="Unknown",this.da=void 0}get isPrimaryClient(){return!0===this.da}}function eC(n,e){return Hg.apply(this,arguments)}function Hg(){return Hg=(0,ve.Z)(function*(n,e){const t=La(n);let r,o;const u=t.ia.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),o=u.view.ea();else{const d=yield zl(t.localStore,ds(e));t.isPrimaryClient&&A_(t.remoteStore,d);const m=t.sharedClientState.addLocalQueryTarget(d.targetId);r=d.targetId,o=yield B_(t,e,r,"current"===m)}return o}),Hg.apply(this,arguments)}function B_(n,e,t,r){return j_.apply(this,arguments)}function j_(){return j_=(0,ve.Z)(function*(n,e,t,r){n._a=(x,N,W)=>{return(ne=(0,ve.Z)(function*(ye,He,ot,Yt){let Qt=He.view.Wu(ot);Qt.ii&&(Qt=yield v_(ye.localStore,He.query,!1).then(({documents:Jt})=>He.view.Wu(Jt,Qt)));const tn=Yt&&Yt.targetChanges.get(He.targetId),Ht=He.view.applyChanges(Qt,ye.isPrimaryClient,tn);return Af(ye,He.targetId,Ht.Xu),Ht.snapshot}),function(ye,He,ot,Yt){return ne.apply(this,arguments)})(n,x,N,W);var ne};const o=yield v_(n.localStore,e,!0),u=new Ww(e,o._i),d=u.Wu(o.documents),m=wd.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),E=u.applyChanges(d,n.isPrimaryClient,m);Af(n,t,E.Xu);const C=new U_(e,t,u);return n.ia.set(e,C),n.ra.has(t)?n.ra.get(t).push(e):n.ra.set(t,[e]),E.snapshot}),j_.apply(this,arguments)}function tC(n,e){return Cf.apply(this,arguments)}function Cf(){return Cf=(0,ve.Z)(function*(n,e){const t=tt(n),r=t.ia.get(e),o=t.ra.get(r.targetId);if(o.length>1)return t.ra.set(r.targetId,o.filter(u=>!yd(u,e))),void t.ia.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Md(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),If(t.remoteStore,r.targetId),Fd(t,r.targetId)}).catch(Bl))):(Fd(t,r.targetId),yield Md(t.localStore,r.targetId,!0))}),Cf.apply(this,arguments)}function Gg(){return Gg=(0,ve.Z)(function*(n,e,t){const r=Qg(n);try{const o=yield function(u,d){const m=tt(u),E=lr.now(),C=d.reduce((N,W)=>N.add(W.key),yn());let x;return m.persistence.runTransaction("Locally write mutations","readwrite",N=>m.fi.Ks(N,C).next(W=>{x=W;const ne=[];for(const ye of d){const He=SE(ye,x.get(ye.key));null!=He&&ne.push(new hs(ye.key,He,ZD(He.value.mapValue),cr.exists(!0)))}return m.Bs.addMutationBatch(N,E,ne,d)})).then(N=>(N.applyToLocalDocumentSet(x),{batchId:N.batchId,changes:x}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(u,d,m){let E=u.ha[u.currentUser.toKey()];E||(E=new Jn(Lt)),E=E.insert(d,m),u.ha[u.currentUser.toKey()]=E}(r,o.batchId,t),yield Fa(r,o.changes),yield Od(r.remoteStore)}catch(o){const u=Wl(o,"Failed to persist write");t.reject(u)}}),Gg.apply(this,arguments)}function $_(n,e){return H_.apply(this,arguments)}function H_(){return H_=(0,ve.Z)(function*(n,e){const t=tt(n);try{const r=yield vw(t.localStore,e);e.targetChanges.forEach((o,u)=>{const d=t.aa.get(u);d&&(Ct(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?d.na=!0:o.modifiedDocuments.size>0?Ct(d.na):o.removedDocuments.size>0&&(Ct(d.na),d.na=!1))}),yield Fa(t,r,e)}catch(r){yield Bl(r)}}),H_.apply(this,arguments)}function nC(n,e,t){const r=tt(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const o=[];r.ia.forEach((u,d)=>{const m=d.view.Pu(e);m.snapshot&&o.push(m.snapshot)}),function(u,d){const m=tt(u);m.onlineState=d;let E=!1;m.queries.forEach((C,x)=>{for(const N of x.listeners)N.Pu(d)&&(E=!0)}),E&&Hw(m)}(r.eventManager,e),o.length&&r.sa.zo(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function rC(n,e,t){return G_.apply(this,arguments)}function G_(){return G_=(0,ve.Z)(function*(n,e,t){const r=tt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.aa.get(e),u=o&&o.key;if(u){let d=new Jn(Qe.comparator);d=d.insert(u,Ln.newNoDocument(u,wt.min()));const m=yn().add(u),E=new Jh(wt.min(),new Map,new An(Lt),d,m);yield $_(r,E),r.ua=r.ua.remove(u),r.aa.delete(e),Wg(r)}else yield Md(r.localStore,e,!1).then(()=>Fd(r,e,t)).catch(Bl)}),G_.apply(this,arguments)}function iC(n,e){return zg.apply(this,arguments)}function zg(){return zg=(0,ve.Z)(function*(n,e){const t=tt(n),r=e.batch.batchId;try{const o=yield Ub(t.localStore,e);q_(t,r,null),qg(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Fa(t,o)}catch(o){yield Bl(o)}}),zg.apply(this,arguments)}function sC(n,e,t){return z_.apply(this,arguments)}function z_(){return z_=(0,ve.Z)(function*(n,e,t){const r=tt(n);try{const o=yield function(u,d){const m=tt(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",E=>{let C;return m.Bs.lookupMutationBatch(E,d).next(x=>(Ct(null!==x),C=x.keys(),m.Bs.removeMutationBatch(E,x))).next(()=>m.Bs.performConsistencyCheck(E)).next(()=>m.fi.Ks(E,C))})}(r.localStore,e);q_(r,e,t),qg(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Fa(r,o)}catch(o){yield Bl(o)}}),z_.apply(this,arguments)}function Tf(){return Tf=(0,ve.Z)(function*(n,e){const t=tt(n);Pa(t.remoteStore)||Ve("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(u){const d=tt(u);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>d.Bs.getHighestUnacknowledgedBatchId(m))}(t.localStore);if(-1===r)return void e.resolve();const o=t.la.get(r)||[];o.push(e),t.la.set(r,o)}catch(r){const o=Wl(r,"Initialization of waitForPendingWrites() operation failed");e.reject(o)}}),Tf.apply(this,arguments)}function qg(n,e){(n.la.get(e)||[]).forEach(t=>{t.resolve()}),n.la.delete(e)}function q_(n,e,t){const r=tt(n);let o=r.ha[r.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),r.ha[r.currentUser.toKey()]=o}}function Fd(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ra.get(e))n.ia.delete(r),t&&n.sa.wa(r,t);n.ra.delete(e),n.isPrimaryClient&&n.ca.vi(e).forEach(r=>{n.ca.containsKey(r)||W_(n,r)})}function W_(n,e){n.oa.delete(e.path.canonicalString());const t=n.ua.get(e);null!==t&&(If(n.remoteStore,t),n.ua=n.ua.remove(e),n.aa.delete(t),Wg(n))}function Af(n,e,t){for(const r of t)r instanceof $g?(n.ca.addReference(r.key,e),Z_(n,r)):r instanceof qw?(Ve("SyncEngine","Document no longer in limbo: "+r.key),n.ca.removeReference(r.key,e),n.ca.containsKey(r.key)||W_(n,r.key)):st()}function Z_(n,e){const t=e.key,r=t.path.canonicalString();n.ua.get(t)||n.oa.has(r)||(Ve("SyncEngine","New document in limbo: "+t),n.oa.add(r),Wg(n))}function Wg(n){for(;n.oa.size>0&&n.ua.size<n.maxConcurrentLimboResolutions;){const e=n.oa.values().next().value;n.oa.delete(e);const t=new Qe(sn.fromString(e)),r=n.fa.next();n.aa.set(r,new Zw(t)),n.ua=n.ua.insert(t,r),A_(n.remoteStore,new Yo(ds(gd(t.path)),r,2,ls.A))}}function Fa(n,e,t){return Zg.apply(this,arguments)}function Zg(){return Zg=(0,ve.Z)(function*(n,e,t){const r=tt(n),o=[],u=[],d=[];var m;r.ia.isEmpty()||(r.ia.forEach((m,E)=>{d.push(r._a(E,e,t).then(C=>{if(C){r.isPrimaryClient&&r.sharedClientState.updateQueryState(E.targetId,C.fromCache?"not-current":"current"),o.push(C);const x=Gl.Ys(E.targetId,C);u.push(x)}}))}),yield Promise.all(d),r.sa.zo(o),yield(m=(0,ve.Z)(function*(E,C){const x=tt(E);try{yield x.persistence.runTransaction("notifyLocalViewChanges","readwrite",N=>fe.forEach(C,W=>fe.forEach(W.Hs,ne=>x.persistence.referenceDelegate.addReference(N,W.targetId,ne)).next(()=>fe.forEach(W.Js,ne=>x.persistence.referenceDelegate.removeReference(N,W.targetId,ne)))))}catch(N){if(!xu(N))throw N;Ve("LocalStore","Failed to update sequence numbers: "+N)}for(const N of C){const W=N.targetId;if(!N.fromCache){const ne=x.ui.get(W),He=ne.withLastLimboFreeSnapshotVersion(ne.snapshotVersion);x.ui=x.ui.insert(W,He)}}}),function(E,C){return m.apply(this,arguments)})(r.localStore,u))}),Zg.apply(this,arguments)}function Yw(n,e){return K_.apply(this,arguments)}function K_(){return K_=(0,ve.Z)(function*(n,e){const t=tt(n);if(!t.currentUser.isEqual(e)){Ve("SyncEngine","User change. New user:",e.toKey());const r=yield _f(t.localStore,e);t.currentUser=e,(o=t).la.forEach(d=>{d.forEach(m=>{m.reject(new Pe(he.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.la.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Fa(t,r.di)}var o}),K_.apply(this,arguments)}function oC(n,e){const t=tt(n),r=t.aa.get(e);if(r&&r.na)return yn().add(r.key);{let o=yn();const u=t.ra.get(e);if(!u)return o;for(const d of u){const m=t.ia.get(d);o=o.unionWith(m.view.ju)}return o}}function YT(n,e){return Qw.apply(this,arguments)}function Qw(){return Qw=(0,ve.Z)(function*(n,e){const t=tt(n),r=yield v_(t.localStore,e.query,!0),o=e.view.ta(r);return t.isPrimaryClient&&Af(t,e.targetId,o.Xu),o}),Qw.apply(this,arguments)}function Jw(n,e){return Y_.apply(this,arguments)}function Y_(){return Y_=(0,ve.Z)(function*(n,e){const t=tt(n);return Ag(t.localStore,e).then(r=>Fa(t,r))}),Y_.apply(this,arguments)}function aC(n,e,t,r){return Q_.apply(this,arguments)}function Q_(){return Q_=(0,ve.Z)(function*(n,e,t,r){const o=tt(n),u=yield function(d,m){const E=tt(d),C=tt(E.Bs);return E.persistence.runTransaction("Lookup mutation documents","readonly",x=>C.fn(x,m).next(N=>N?E.fi.Ks(x,N):fe.resolve(null)))}(o.localStore,e);var m;null!==u?("pending"===t?yield Od(o.remoteStore):"acknowledged"===t||"rejected"===t?(q_(o,e,r||null),qg(o,e),m=e,tt(tt(o.localStore).Bs)._n(m)):st(),yield Fa(o,u)):Ve("SyncEngine","Cannot apply mutation batch with id: "+e)}),Q_.apply(this,arguments)}function Xw(){return Xw=(0,ve.Z)(function*(n,e){const t=tt(n);if(La(t),Qg(t),!0===e&&!0!==t.da){const r=t.sharedClientState.getAllActiveQueryTargets(),o=yield uC(t,r.toArray());t.da=!0,yield jg(t.remoteStore,!0);for(const u of o)A_(t.remoteStore,u)}else if(!1===e&&!1!==t.da){const r=[];let o=Promise.resolve();t.ra.forEach((u,d)=>{t.sharedClientState.isLocalQueryTarget(d)?r.push(d):o=o.then(()=>(Fd(t,d),Md(t.localStore,d,!0))),If(t.remoteStore,d)}),yield o,yield uC(t,r),function(u){const d=tt(u);d.aa.forEach((m,E)=>{If(d.remoteStore,E)}),d.ca.Si(),d.aa=new Map,d.ua=new Jn(Qe.comparator)}(t),t.da=!1,yield jg(t.remoteStore,!1)}}),Xw.apply(this,arguments)}function uC(n,e,t){return eI.apply(this,arguments)}function eI(){return eI=(0,ve.Z)(function*(n,e,t){const r=tt(n),o=[],u=[];for(const d of e){let m;const E=r.ra.get(d);if(E&&0!==E.length){m=yield zl(r.localStore,ds(E[0]));for(const C of E){const x=r.ia.get(C),N=yield YT(r,x);N.snapshot&&u.push(N.snapshot)}}else{const C=yield Tg(r.localStore,d);m=yield zl(r.localStore,C),yield B_(r,lC(C),d,!1)}o.push(m)}return r.sa.zo(u),o}),eI.apply(this,arguments)}function lC(n){return qh(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function cC(n){const e=tt(n);return tt(tt(e.localStore).persistence).Fs()}function Kg(n,e,t,r){return J_.apply(this,arguments)}function J_(){return J_=(0,ve.Z)(function*(n,e,t,r){const o=tt(n);if(o.da)return void Ve("SyncEngine","Ignoring unexpected query state notification.");const u=o.ra.get(e);if(u&&u.length>0)switch(t){case"current":case"not-current":{const d=yield Ag(o.localStore,jy(u[0])),m=Jh.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Fa(o,d,m);break}case"rejected":yield Md(o.localStore,e,!0),Fd(o,e,r);break;default:st()}}),J_.apply(this,arguments)}function dC(n,e,t){return Yg.apply(this,arguments)}function Yg(){return Yg=(0,ve.Z)(function*(n,e,t){const r=La(n);if(r.da){for(const o of e){if(r.ra.has(o)){Ve("SyncEngine","Adding an already active target "+o);continue}const u=yield Tg(r.localStore,o),d=yield zl(r.localStore,u);yield B_(r,lC(u),d.targetId,!1),A_(r.remoteStore,d)}for(const o of t)r.ra.has(o)&&(yield Md(r.localStore,o,!1).then(()=>{If(r.remoteStore,o),Fd(r,o)}).catch(Bl))}}),Yg.apply(this,arguments)}function La(n){const e=tt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=$_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=oC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=rC.bind(null,e),e.sa.zo=Jb.bind(null,e.eventManager),e.sa.wa=Xb.bind(null,e.eventManager),e}function Qg(n){const e=tt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=iC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=sC.bind(null,e),e}class Jg{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ve.Z)(function*(){t.M=xd(e.databaseInfo.databaseId),t.sharedClientState=t.ga(e),t.persistence=t.ya(e),yield t.persistence.start(),t.gcScheduler=t.pa(e),t.localStore=t.Ia(e)})()}pa(e){return null}Ia(e){return yw(this.persistence,new mw,e.initialUser,this.M)}ya(e){return new Gb(Mg.Yi,this.M)}ga(e){return new Tw}terminate(){var e=this;return(0,ve.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class tI extends Jg{constructor(e,t,r){super(),this.Ta=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,ve.Z)(function*(){yield t().call(r,e),yield r.Ta.initialize(r,e),yield Qg(r.Ta.syncEngine),yield Od(r.Ta.remoteStore),yield r.persistence.Ts(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}Ia(e){return yw(this.persistence,new mw,e.initialUser,this.M)}pa(e){return new Fb(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}ya(e){const t=p_(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?fs.withCacheSize(this.cacheSizeBytes):fs.DEFAULT;return new f_(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,Ng(),Ef(),this.M,this.sharedClientState,!!this.forceOwnership)}ga(e){return new Tw}}class ev extends tI{constructor(e,t){super(e,t,!1),this.Ta=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,ve.Z)(function*(){yield t().call(r,e);const o=r.Ta.syncEngine;r.sharedClientState instanceof ql&&(r.sharedClientState.syncEngine={$r:aC.bind(null,o),Br:Kg.bind(null,o),Lr:dC.bind(null,o),Fs:cC.bind(null,o),Fr:Jw.bind(null,o)},yield r.sharedClientState.start()),yield r.persistence.Ts(function(){var u=(0,ve.Z)(function*(d){yield function QT(n,e){return Xw.apply(this,arguments)}(r.Ta.syncEngine,d),r.gcScheduler&&(d&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):d||r.gcScheduler.stop())});return function(d){return u.apply(this,arguments)}}())})()}ga(e){const t=Ng();if(!ql.vt(t))throw new Pe(he.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=p_(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new ql(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class Sf{initialize(e,t){var r=this;return(0,ve.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=o=>nC(r.syncEngine,o,1),r.remoteStore.remoteSyncer.handleCredentialChange=Yw.bind(null,r.syncEngine),yield jg(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Qb}createDatastore(e){const t=xd(e.databaseInfo.databaseId),r=new qb(e.databaseInfo);return new Wb(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,o=e.asyncQueue,u=m=>nC(this.syncEngine,m,0),d=Aw.vt()?new Aw:new C_,new Pg(t,r,o,u,d);var t,r,o,u,d}createSyncEngine(e,t){return function(r,o,u,d,m,E,C){const x=new Kw(r,o,u,d,m,E);return C&&(x.da=!0),x}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ve.Z)(function*(t){const r=tt(t);Ve("RemoteStore","RemoteStore shutting down."),r.wu.add(5),yield Fu(r),r.gu.shutdown(),r.yu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function Mf(n,e=10240){let t=0;return{read:()=>(0,ve.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,ve.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class tv{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ea(this.observer.next,e)}error(e){this.observer.error?this.Ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Aa(){this.muted=!0}Ea(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class JT{constructor(e,t){this.Ra=e,this.M=t,this.metadata=new Hr,this.buffer=new Uint8Array,this.ba=new TextDecoder("utf-8"),this.Pa().then(r=>{r&&r.Mu()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Ra.cancel()}getMetadata(){var e=this;return(0,ve.Z)(function*(){return e.metadata.promise})()}ma(){var e=this;return(0,ve.Z)(function*(){return yield e.getMetadata(),e.Pa()})()}Pa(){var e=this;return(0,ve.Z)(function*(){const t=yield e.Va();if(null===t)return null;const r=e.ba.decode(t),o=Number(r);isNaN(o)&&e.va(`length string (${r}) is not valid number`);const u=yield e.Sa(o);return new V_(JSON.parse(u),t.length+o)})()}Da(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Va(){var e=this;return(0,ve.Z)(function*(){for(;e.Da()<0&&!(yield e.Ca()););if(0===e.buffer.length)return null;const t=e.Da();t<0&&e.va("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Sa(e){var t=this;return(0,ve.Z)(function*(){for(;t.buffer.length<e;)(yield t.Ca())&&t.va("Reached the end of bundle when more is expected.");const r=t.ba.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}va(e){throw this.Ra.cancel(),new Error(`Invalid bundle format: ${e}`)}Ca(){var e=this;return(0,ve.Z)(function*(){const t=yield e.Ra.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class XT{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ve.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Pe(he.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(o=(0,ve.Z)(function*(u,d){const m=tt(u),E=bd(m.M)+"/documents",C={documents:d.map(ne=>Ra(m.M,ne))},x=yield m._o("BatchGetDocuments",E,C),N=new Map;x.forEach(ne=>{const ye=function LE(n,e){return"found"in e?function(t,r){Ct(!!r.found);const o=Zo(t,r.found.name),u=Mr(r.found.updateTime),d=new ti({mapValue:{fields:r.found.fields}});return Ln.newFoundDocument(o,u,d)}(n,e):"missing"in e?function(t,r){Ct(!!r.missing),Ct(!!r.readTime);const o=Zo(t,r.missing),u=Mr(r.readTime);return Ln.newNoDocument(o,u)}(n,e):st()}(m.M,ne);N.set(ye.key.toString(),ye)});const W=[];return d.forEach(ne=>{const ye=N.get(ne.toString());Ct(!!ye),W.push(ye)}),W}),function(u,d){return o.apply(this,arguments)})(t.datastore,e);var o;return r.forEach(o=>t.recordVersion(o)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new mg(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ve.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,o)=>{const u=Qe.fromPath(o);e.mutations.push(new Qh(u,e.precondition(u)))}),yield(r=(0,ve.Z)(function*(o,u){const d=tt(o),m=bd(d.M)+"/documents",E={writes:u.map(C=>ef(d.M,C))};yield d.co("Commit",m,E)}),function(o,u){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw st();t=wt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Pe(he.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?cr.updateTime(t):cr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(wt.min()))throw new Pe(he.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return cr.updateTime(t)}return cr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class eA{constructor(e,t,r,o,u){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=o,this.deferred=u,this.xa=r.maxAttempts,this.No=new Rd(this.asyncQueue,"transaction_retry")}run(){this.xa-=1,this.Na()}Na(){var e=this;this.No.Ro((0,ve.Z)(function*(){const t=new XT(e.datastore),r=e.ka(t);r&&r.then(o=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(o)}).catch(u=>{e.Ma(u)}))}).catch(o=>{e.Ma(o)})}))}ka(e){try{const t=this.updateFunction(e);return!Cl(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Ma(e){this.xa>0&&this.Oa(e)?(this.xa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Na(),Promise.resolve()))):this.deferred.reject(e)}Oa(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!rb(t)}return!1}}class nI{constructor(e,t,r,o){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=ei.UNAUTHENTICATED,this.clientId=eE.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var d=(0,ve.Z)(function*(m){Ve("FirestoreClient","Received user=",m.uid),yield u.authCredentialListener(m),u.user=m});return function(m){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(r,d=>(Ve("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}getConfiguration(){var e=this;return(0,ve.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Pe(he.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Hr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ve.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const o=Wl(r,"Failed to shutdown persistence");t.reject(o)}})),t.promise}}function rI(n,e){return nv.apply(this,arguments)}function nv(){return nv=(0,ve.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ve("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var o=(0,ve.Z)(function*(u){r.isEqual(u)||(yield _f(e.localStore,u),r=u)});return function(u){return o.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),nv.apply(this,arguments)}function iI(n,e){return rv.apply(this,arguments)}function rv(){return rv=(0,ve.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield Xg(n);Ve("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(o=>Ug(e.remoteStore,o)),n.setAppCheckTokenChangeListener((o,u)=>Ug(e.remoteStore,u)),n.onlineComponents=e}),rv.apply(this,arguments)}function Xg(n){return em.apply(this,arguments)}function em(){return em=(0,ve.Z)(function*(n){return n.offlineComponents||(Ve("FirestoreClient","Using default OfflineComponentProvider"),yield rI(n,new Jg)),n.offlineComponents}),em.apply(this,arguments)}function xf(n){return iv.apply(this,arguments)}function iv(){return iv=(0,ve.Z)(function*(n){return n.onlineComponents||(Ve("FirestoreClient","Using default OnlineComponentProvider"),yield iI(n,new Sf)),n.onlineComponents}),iv.apply(this,arguments)}function sI(n){return Xg(n).then(e=>e.persistence)}function tm(n){return Xg(n).then(e=>e.localStore)}function nm(n){return xf(n).then(e=>e.remoteStore)}function oI(n){return xf(n).then(e=>e.syncEngine)}function Kl(n){return Rf.apply(this,arguments)}function Rf(){return Rf=(0,ve.Z)(function*(n){const e=yield xf(n),t=e.eventManager;return t.onListen=eC.bind(null,e.syncEngine),t.onUnlisten=tC.bind(null,e.syncEngine),t}),Rf.apply(this,arguments)}function pC(n,e,t={}){const r=new Hr;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function(o,u,d,m,E){const C=new tv({next:N=>{u.enqueueAndForget(()=>$w(o,x));const W=N.docs.has(d);!W&&N.fromCache?E.reject(new Pe(he.UNAVAILABLE,"Failed to get document because the client is offline.")):W&&N.fromCache&&m&&"server"===m.source?E.reject(new Pe(he.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):E.resolve(N)},error:N=>E.reject(N)}),x=new L_(gd(d.path),C,{includeMetadataChanges:!0,ku:!0});return Bw(o,x)}(yield Kl(n),n.asyncQueue,e,t,r)})),r.promise}function aI(n,e,t={}){const r=new Hr;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function(o,u,d,m,E){const C=new tv({next:N=>{u.enqueueAndForget(()=>$w(o,x)),N.fromCache&&"server"===m.source?E.reject(new Pe(he.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):E.resolve(N)},error:N=>E.reject(N)}),x=new L_(d,C,{includeMetadataChanges:!0,ku:!0});return Bw(o,x)}(yield Kl(n),n.asyncQueue,e,t,r)})),r.promise}const mC=new Map;function sv(n,e,t){if(!t)throw new Pe(he.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function yC(n,e,t,r){if(!0===e&&!0===r)throw new Pe(he.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function _C(n){if(!Qe.isDocumentKey(n))throw new Pe(he.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function vC(n){if(Qe.isDocumentKey(n))throw new Pe(he.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function ov(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":st()}function i(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Pe(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ov(n);throw new Pe(he.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function s(n,e){if(e<=0)throw new Pe(he.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class a{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Pe(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Pe(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,yC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class l{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new a({}),this._settingsFrozen=!1,e instanceof co?this._databaseId=e:(this._app=e,this._databaseId=function(o){if(!Object.prototype.hasOwnProperty.apply(o.options,["projectId"]))throw new Pe(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new co(o.options.projectId)}(e))}get app(){if(!this._app)throw new Pe(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Pe(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new a(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new UT;switch(t.type){case"gapi":const r=t.client;return Ct(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new Y0(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Pe(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=mC.get(e);t&&(Ve("ComponentProvider","Removing Datastore"),mC.delete(e),t.terminate())}(this),Promise.resolve()}}class f{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new v(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new f(this.firestore,e,this._key)}}class y{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new y(this.firestore,e,this._query)}}class v extends y{constructor(e,t,r){super(e,t,gd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new f(this.firestore,null,new Qe(e))}withConverter(e){return new v(this.firestore,e,this._path)}}function I(n,e,...t){if(n=(0,qt.m9)(n),sv("collection","path",e),n instanceof l){const r=sn.fromString(e,...t);return vC(r),new v(n,null,r)}{if(!(n instanceof f||n instanceof v))throw new Pe(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(sn.fromString(e,...t));return vC(r),new v(n.firestore,null,r)}}function S(n,e,...t){if(n=(0,qt.m9)(n),1===arguments.length&&(e=eE.R()),sv("doc","path",e),n instanceof l){const r=sn.fromString(e,...t);return _C(r),new f(n,null,new Qe(r))}{if(!(n instanceof f||n instanceof v))throw new Pe(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(sn.fromString(e,...t));return _C(r),new f(n.firestore,n instanceof v?n.converter:null,new Qe(r))}}function k(n,e){return n=(0,qt.m9)(n),e=(0,qt.m9)(e),(n instanceof f||n instanceof v)&&(e instanceof f||e instanceof v)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function j(n,e){return n=(0,qt.m9)(n),e=(0,qt.m9)(e),n instanceof y&&e instanceof y&&n.firestore===e.firestore&&yd(n._query,e._query)&&n.converter===e.converter}class J{constructor(){this.Fa=Promise.resolve(),this.$a=[],this.Ba=!1,this.La=[],this.Ua=null,this.qa=!1,this.Ka=!1,this.Ga=[],this.No=new Rd(this,"async_queue_retry"),this.Qa=()=>{const t=Ef();t&&Ve("AsyncQueue","Visibility state changed to "+t.visibilityState),this.No.Po()};const e=Ef();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Qa)}get isShuttingDown(){return this.Ba}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ja(),this.Wa(e)}enterRestrictedMode(e){if(!this.Ba){this.Ba=!0,this.Ka=e||!1;const t=Ef();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Qa)}}enqueue(e){if(this.ja(),this.Ba)return new Promise(()=>{});const t=new Hr;return this.Wa(()=>this.Ba&&this.Ka?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.$a.push(e),this.za()))}za(){var e=this;return(0,ve.Z)(function*(){if(0!==e.$a.length){try{yield e.$a[0](),e.$a.shift(),e.No.reset()}catch(t){if(!xu(t))throw t;Ve("AsyncQueue","Operation failed with retryable error: "+t)}e.$a.length>0&&e.No.Ro(()=>e.za())}})()}Wa(e){const t=this.Fa.then(()=>(this.qa=!0,e().catch(r=>{throw this.Ua=r,this.qa=!1,mr("INTERNAL UNHANDLED ERROR: ",function(u){let d=u.message||"";return u.stack&&(d=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),d}(r)),r}).then(r=>(this.qa=!1,r))));return this.Fa=t,t}enqueueAfterDelay(e,t,r){this.ja(),this.Ga.indexOf(e)>-1&&(t=0);const o=P_.createAndSchedule(this,e,t,r,u=>this.Ha(u));return this.La.push(o),o}ja(){this.Ua&&st()}verifyOperationInProgress(){}Ja(){var e=this;return(0,ve.Z)(function*(){let t;do{t=e.Fa,yield t}while(t!==e.Fa)})()}Ya(e){for(const t of this.La)if(t.timerId===e)return!0;return!1}Xa(e){return this.Ja().then(()=>{this.La.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.La)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Ja()})}Za(e){this.Ga.push(e)}Ha(e){const t=this.La.indexOf(e);this.La.splice(t,1)}}function we(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class Be{constructor(){this._progressObserver={},this._taskCompletionResolver=new Hr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class $e extends l{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new J,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||dn(this),this._firestoreClient.terminate()}}function yt(n=(0,Ho.getApp)()){return(0,Ho._getProvider)(n,"firestore").getImmediate()}function gt(n){return n._firestoreClient||dn(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function dn(n){var e;const t=n._freezeSettings(),r=(u=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new WD(n._databaseId,u,n._persistenceKey,(m=t).host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,m.useFetchStreams));var u,m;n._firestoreClient=new nI(n._authCredentials,n._appCheckCredentials,n._queue,r)}function rm(n,e,t){const r=new Hr;return n.asyncQueue.enqueue((0,ve.Z)(function*(){try{yield rI(n,t),yield iI(n,e),r.resolve()}catch(o){if(!("FirebaseError"===(u=o).name?u.code===he.FAILED_PRECONDITION||u.code===he.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw o;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+o),r.reject(o)}var u})).then(()=>r.promise)}function im(n){if(n._initialized||n._terminated)throw new Pe(he.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ql{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Pe(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Sr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Vu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Vu(yr.fromBase64String(e))}catch(t){throw new Pe(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Vu(yr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Nf{constructor(e){this._methodName=e}}class lI{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Pe(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Pe(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Lt(this._lat,e._lat)||Lt(this._long,e._long)}}const PM=/^__.*__$/;class kM{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new hs(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ed(e,this.data,t,this.fieldTransforms)}}class oA{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new hs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function aA(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw st()}}class cI{constructor(e,t,r,o,u,d){this.settings=e,this.databaseId=t,this.M=r,this.ignoreUndefinedProperties=o,void 0===u&&this.tc(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get ec(){return this.settings.ec}nc(e){return new cI(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}sc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.nc({path:r,ic:!1});return o.rc(e),o}oc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.nc({path:r,ic:!1});return o.tc(),o}uc(e){return this.nc({path:void 0,ic:!0})}ac(e){return fI(e,this.settings.methodName,this.settings.cc||!1,this.path,this.settings.hc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}tc(){if(this.path)for(let e=0;e<this.path.length;e++)this.rc(this.path.get(e))}rc(e){if(0===e.length)throw this.ac("Document fields must not be empty");if(aA(this.ec)&&PM.test(e))throw this.ac('Document fields cannot begin and end with "__"')}}class FM{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=r||xd(e)}lc(e,t,r,o=!1){return new cI({ec:e,methodName:t,hc:r,path:Sr.emptyPath(),ic:!1,cc:o},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function Of(n){const e=n._freezeSettings(),t=xd(n._databaseId);return new FM(n._databaseId,!!e.ignoreUndefinedProperties,t)}function dI(n,e,t,r,o,u={}){const d=n.lc(u.merge||u.mergeFields?2:0,e,t,o);DC("Data must be an object, but it was:",d,r);const m=cA(r,d);let E,C;if(u.merge)E=new Uh(d.fieldMask),C=d.fieldTransforms;else if(u.mergeFields){const x=[];for(const N of u.mergeFields){const W=bC(e,N,t);if(!d.contains(W))throw new Pe(he.INVALID_ARGUMENT,`Field '${W}' is specified in your field mask but missing from your input data.`);hA(x,W)||x.push(W)}E=new Uh(x),C=d.fieldTransforms.filter(N=>E.covers(N.field))}else E=null,C=d.fieldTransforms;return new kM(new ti(m),E,C)}class fv extends Nf{_toFieldTransform(e){if(2!==e.ec)throw e.ac(1===e.ec?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof fv}}function uA(n,e,t){return new cI({ec:3,hc:e.settings.hc,methodName:n._methodName,ic:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class EC extends Nf{_toFieldTransform(e){return new Zh(e.path,new _d)}isEqual(e){return e instanceof EC}}class LM extends Nf{constructor(e,t){super(e),this.fc=t}_toFieldTransform(e){const t=uA(this,e,!0),r=this.fc.map(u=>Pf(u,t)),o=new xl(r);return new Zh(e.path,o)}isEqual(e){return this===e}}class VM extends Nf{constructor(e,t){super(e),this.fc=t}_toFieldTransform(e){const t=uA(this,e,!0),r=this.fc.map(u=>Pf(u,t)),o=new Rl(r);return new Zh(e.path,o)}isEqual(e){return this===e}}class UM extends Nf{constructor(e,t){super(e),this.dc=t}_toFieldTransform(e){const t=new vd(e.M,vE(e.M,this.dc));return new Zh(e.path,t)}isEqual(e){return this===e}}function wC(n,e,t,r){const o=n.lc(1,e,t);DC("Data must be an object, but it was:",o,r);const u=[],d=ti.empty();bu(r,(E,C)=>{const x=hI(e,E,t);C=(0,qt.m9)(C);const N=o.oc(x);if(C instanceof fv)u.push(x);else{const W=Pf(C,N);null!=W&&(u.push(x),d.set(x,W))}});const m=new Uh(u);return new oA(d,m,o.fieldTransforms)}function IC(n,e,t,r,o,u){const d=n.lc(1,e,t),m=[bC(e,r,t)],E=[o];if(u.length%2!=0)throw new Pe(he.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let W=0;W<u.length;W+=2)m.push(bC(e,u[W])),E.push(u[W+1]);const C=[],x=ti.empty();for(let W=m.length-1;W>=0;--W)if(!hA(C,m[W])){const ne=m[W];let ye=E[W];ye=(0,qt.m9)(ye);const He=d.oc(ne);if(ye instanceof fv)C.push(ne);else{const ot=Pf(ye,He);null!=ot&&(C.push(ne),x.set(ne,ot))}}const N=new Uh(C);return new oA(x,N,d.fieldTransforms)}function lA(n,e,t,r=!1){return Pf(t,n.lc(r?4:3,e))}function Pf(n,e){if(dA(n=(0,qt.m9)(n)))return DC("Unsupported field value:",e,n),cA(n,e);if(n instanceof Nf)return function(t,r){if(!aA(r.ec))throw r.ac(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ac(`${t._methodName}() is not currently supported inside arrays`);const o=t._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ic&&4!==e.ec)throw e.ac("Nested arrays are not supported");return function(t,r){const o=[];let u=0;for(const d of t){let m=Pf(d,r.uc(u));null==m&&(m={nullValue:"NULL_VALUE"}),o.push(m),u++}return{arrayValue:{values:o}}}(n,e)}return function(t,r){if(null===(t=(0,qt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return vE(r.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const o=lr.fromDate(t);return{timestampValue:Mu(r.M,o)}}if(t instanceof lr){const o=new lr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Mu(r.M,o)}}if(t instanceof lI)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Vu)return{bytesValue:Wy(r.M,t._byteString)};if(t instanceof f){const o=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(o))throw r.ac(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Zy(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ac(`Unsupported field value: ${ov(t)}`)}(n,e)}function cA(n,e){const t={};return Ay(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):bu(n,(r,o)=>{const u=Pf(o,e.sc(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function dA(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof lr||n instanceof lI||n instanceof Vu||n instanceof f||n instanceof Nf)}function DC(n,e,t){if(!dA(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=ov(t);throw e.ac("an object"===r?n+" a custom object":n+" "+r)}var r}function bC(n,e,t){if((e=(0,qt.m9)(e))instanceof Ql)return e._internalPath;if("string"==typeof e)return hI(n,e);throw fI("Field path arguments must be of type string or ",n,!1,void 0,t)}const BM=new RegExp("[~\\*/\\[\\]]");function hI(n,e,t){if(e.search(BM)>=0)throw fI(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ql(...e.split("."))._internalPath}catch(r){throw fI(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function fI(n,e,t,r,o){const u=r&&!r.isEmpty(),d=void 0!==o;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let E="";return(u||d)&&(E+=" (found",u&&(E+=` in field ${r}`),d&&(E+=` in document ${o}`),E+=")"),new Pe(he.INVALID_ARGUMENT,m+n+E)}function hA(n,e){return n.some(t=>t.isEqual(e))}class pv{constructor(e,t,r,o,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new f(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new jM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(pI("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class jM extends pv{data(){return super.data()}}function pI(n,e){return"string"==typeof e?hI(n,e):e instanceof Ql?e._internalPath:e._delegate._internalPath}class kf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Jl extends pv{constructor(e,t,r,o,u,d){super(e,t,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new gv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(pI("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class gv extends Jl{data(e={}){return super.data(e)}}class Ld{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new kf(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new gv(this._firestore,this._userDataWriter,r.key,r,new kf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Pe(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(d=>({type:"added",doc:new gv(r._firestore,r._userDataWriter,d.doc.key,d.doc,new kf(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(d=>o||3!==d.type).map(d=>{const m=new gv(r._firestore,r._userDataWriter,d.doc.key,d.doc,new kf(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter);let E=-1,C=-1;return 0!==d.type&&(E=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),1!==d.type&&(u=u.add(d.doc),C=u.indexOf(d.doc.key)),{type:$M(d.type),doc:m,oldIndex:E,newIndex:C}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function $M(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return st()}}function fA(n,e){return n instanceof Jl&&e instanceof Jl?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Ld&&e instanceof Ld&&n._firestore===e._firestore&&j(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function pA(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Pe(he.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class mv{}function Vd(n,...e){for(const t of e)n=t._apply(n);return n}class HM extends mv{constructor(e,t,r){super(),this._c=e,this.wc=t,this.mc=r,this.type="where"}_apply(e){const t=Of(e.firestore),r=function(o,u,d,m,E,C,x){let N;if(E.isKeyField()){if("array-contains"===C||"array-contains-any"===C)throw new Pe(he.INVALID_ARGUMENT,`Invalid Query. You can't perform '${C}' queries on documentId().`);if("in"===C||"not-in"===C){EA(x,C);const ne=[];for(const ye of x)ne.push(vA(m,o,ye));N={arrayValue:{values:ne}}}else N=vA(m,o,x)}else"in"!==C&&"not-in"!==C&&"array-contains-any"!==C||EA(x,C),N=lA(d,"where",x,"in"===C||"not-in"===C);const W=Dn.create(E,C,N);return function(ne,ye){if(ye.S()){const ot=Wh(ne);if(null!==ot&&!ot.isEqual(ye.field))throw new Pe(he.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${ot.toString()}' and '${ye.field.toString()}'`);const Yt=dg(ne);null!==Yt&&wA(0,ye.field,Yt)}const He=function(ot,Yt){for(const Qt of ot.filters)if(Yt.indexOf(Qt.op)>=0)return Qt.op;return null}(ne,function(ot){switch(ot){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(ye.op));if(null!==He)throw new Pe(he.INVALID_ARGUMENT,He===ye.op?`Invalid query. You cannot use more than one '${ye.op.toString()}' filter.`:`Invalid query. You cannot use '${ye.op.toString()}' filters with '${He.toString()}' filters.`)}(o,W),W}(e._query,0,t,e.firestore._databaseId,this._c,this.wc,this.mc);return new y(e.firestore,e.converter,function(o,u){const d=o.filters.concat([u]);return new Wo(o.path,o.collectionGroup,o.explicitOrderBy.slice(),d,o.limit,o.limitType,o.startAt,o.endAt)}(e._query,r))}}class zM extends mv{constructor(e,t){super(),this._c=e,this.gc=t,this.type="orderBy"}_apply(e){const t=function(r,o,u){if(null!==r.startAt)throw new Pe(he.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Pe(he.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const d=new pd(o,u);return function(m,E){if(null===dg(m)){const C=Wh(m);null!==C&&wA(0,C,E.field)}}(r,d),d}(e._query,this._c,this.gc);return new y(e.firestore,e.converter,function(r,o){const u=r.explicitOrderBy.concat([o]);return new Wo(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class gA extends mv{constructor(e,t,r){super(),this.type=e,this.yc=t,this.Ic=r}_apply(e){return new y(e.firestore,e.converter,Uy(e._query,this.yc,this.Ic))}}class mA extends mv{constructor(e,t,r){super(),this.type=e,this.Tc=t,this.Ec=r}_apply(e){const t=_A(e,this.type,this.Tc,this.Ec);return new y(e.firestore,e.converter,(o=t,new Wo((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class yA extends mv{constructor(e,t,r){super(),this.type=e,this.Tc=t,this.Ec=r}_apply(e){const t=_A(e,this.type,this.Tc,this.Ec);return new y(e.firestore,e.converter,(o=t,new Wo((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function _A(n,e,t,r){if(t[0]=(0,qt.m9)(t[0]),t[0]instanceof pv)return function(o,u,d,m,E){if(!m)throw new Pe(he.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const C=[];for(const x of Tu(o))if(x.field.isKeyField())C.push(Tl(u,m.key));else{const N=m.data.field(x.field);if(ud(N))throw new Pe(he.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+x.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===N){const W=x.field.canonicalString();throw new Pe(he.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${W}' (used as the orderBy) does not exist.`)}C.push(N)}return new Us(C,E)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const o=Of(n.firestore);return function(u,d,m,E,C,x){const N=u.explicitOrderBy;if(C.length>N.length)throw new Pe(he.INVALID_ARGUMENT,`Too many arguments provided to ${E}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const W=[];for(let ne=0;ne<C.length;ne++){const ye=C[ne];if(N[ne].field.isKeyField()){if("string"!=typeof ye)throw new Pe(he.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${E}(), but got a ${typeof ye}`);if(!md(u)&&-1!==ye.indexOf("/"))throw new Pe(he.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${E}() must be a plain document ID, but '${ye}' contains a slash.`);const He=u.path.child(sn.fromString(ye));if(!Qe.isDocumentKey(He))throw new Pe(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${E}() must result in a valid document path, but '${He}' is not because it contains an odd number of segments.`);const ot=new Qe(He);W.push(Tl(d,ot))}else{const He=lA(m,E,ye);W.push(He)}}return new Us(W,x)}(n._query,n.firestore._databaseId,o,e,t,r)}}function vA(n,e,t){if("string"==typeof(t=(0,qt.m9)(t))){if(""===t)throw new Pe(he.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!md(e)&&-1!==t.indexOf("/"))throw new Pe(he.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(sn.fromString(t));if(!Qe.isDocumentKey(r))throw new Pe(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Tl(n,new Qe(r))}if(t instanceof f)return Tl(n,t._key);throw new Pe(he.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ov(t)}.`)}function EA(n,e){if(!Array.isArray(n)||0===n.length)throw new Pe(he.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Pe(he.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function wA(n,e,t){if(!t.isEqual(e))throw new Pe(he.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const XM={maxAttempts:5};class CC{convertValue(e,t="none"){switch(Ma(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Yn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(qo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw st()}}convertObject(e,t){const r={};return bu(e.fields,(o,u)=>{r[o]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new lI(Yn(e.latitude),Yn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=ig(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(sg(e));default:return null}}convertTimestamp(e){const t=zo(e);return new lr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=sn.fromString(e);Ct(jE(r));const o=new co(r.get(1),r.get(3)),u=new Qe(r.popFirst(5));return o.isEqual(t)||mr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function gI(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class ex extends CC{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new f(this.firestore,null,t)}}class IA{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Of(e)}set(e,t,r){this._verifyNotCommitted();const o=Ud(e,this._firestore),u=gI(o.converter,t,r),d=dI(this._dataReader,"WriteBatch.set",o._key,u,null!==o.converter,r);return this._mutations.push(d.toMutation(o._key,cr.none())),this}update(e,t,r,...o){this._verifyNotCommitted();const u=Ud(e,this._firestore);let d;return d="string"==typeof(t=(0,qt.m9)(t))||t instanceof Ql?IC(this._dataReader,"WriteBatch.update",u._key,t,r,o):wC(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(d.toMutation(u._key,cr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Ud(e,this._firestore);return this._mutations=this._mutations.concat(new mg(t._key,cr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Pe(he.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ud(n,e){if((n=(0,qt.m9)(n)).firestore!==e)throw new Pe(he.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Ff extends CC{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new f(this.firestore,null,t)}}function DA(n,e,t){n=i(n,f);const r=i(n.firestore,$e),o=gI(n.converter,e,t);return sm(r,[dI(Of(r),"setDoc",n._key,o,null!==n.converter,t).toMutation(n._key,cr.none())])}function bA(n,e,t,...r){n=i(n,f);const o=i(n.firestore,$e),u=Of(o);let d;return d="string"==typeof(e=(0,qt.m9)(e))||e instanceof Ql?IC(u,"updateDoc",n._key,e,t,r):wC(u,"updateDoc",n._key,e),sm(o,[d.toMutation(n._key,cr.exists(!0))])}function CA(n,...e){var t,r,o;n=(0,qt.m9)(n);let u={includeMetadataChanges:!1},d=0;"object"!=typeof e[d]||we(e[d])||(u=e[d],d++);const m={includeMetadataChanges:u.includeMetadataChanges};if(we(e[d])){const N=e[d];e[d]=null===(t=N.next)||void 0===t?void 0:t.bind(N),e[d+1]=null===(r=N.error)||void 0===r?void 0:r.bind(N),e[d+2]=null===(o=N.complete)||void 0===o?void 0:o.bind(N)}let E,C,x;if(n instanceof f)C=i(n.firestore,$e),x=gd(n._key.path),E={next:N=>{e[d]&&e[d](TC(C,n,N))},error:e[d+1],complete:e[d+2]};else{const N=i(n,y);C=i(N.firestore,$e),x=N._query;const W=new Ff(C);E={next:ne=>{e[d]&&e[d](new Ld(C,W,N,ne))},error:e[d+1],complete:e[d+2]},pA(n._query)}return function(N,W,ne,ye){const He=new tv(ye),ot=new L_(W,He,ne);return N.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return Bw(yield Kl(N),ot)})),()=>{He.Aa(),N.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return $w(yield Kl(N),ot)}))}}(gt(C),x,m,E)}function sm(n,e){return function(t,r){const o=new Hr;return t.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function Zl(n,e,t){return Gg.apply(this,arguments)}(yield oI(t),r,o)})),o.promise}(gt(n),e)}function TC(n,e,t){const r=t.docs.get(e._key),o=new Ff(n);return new Jl(n,o,e._key,r,new kf(t.hasPendingWrites,t.fromCache),e.converter)}class cx extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Of(e)}get(e){const t=Ud(e,this._firestore),r=new ex(this._firestore);return this._transaction.lookup([t._key]).then(o=>{if(!o||1!==o.length)return st();const u=o[0];if(u.isFoundDocument())return new pv(this._firestore,r,u.key,u,t.converter);if(u.isNoDocument())return new pv(this._firestore,r,t._key,null,t.converter);throw st()})}set(e,t,r){const o=Ud(e,this._firestore),u=gI(o.converter,t,r),d=dI(this._dataReader,"Transaction.set",o._key,u,null!==o.converter,r);return this._transaction.set(o._key,d),this}update(e,t,r,...o){const u=Ud(e,this._firestore);let d;return d="string"==typeof(t=(0,qt.m9)(t))||t instanceof Ql?IC(this._dataReader,"Transaction.update",u._key,t,r,o):wC(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,d),this}delete(e){const t=Ud(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Ud(e,this._firestore),r=new Ff(this._firestore);return super.get(e).then(o=>new Jl(this._firestore,r,t._key,o._document,new kf(!1,!1),t.converter))}}function AC(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Pe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function AA(){if("undefined"==typeof Uint8Array)throw new Pe("unimplemented","Uint8Arrays are not available in this environment.")}function SA(){if(!function Bh(){return"undefined"!=typeof atob}())throw new Pe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){sd=Ho.SDK_VERSION,(0,Ho._registerComponent)(new bp.wA("firestore",(t,{options:r})=>{const o=t.getProvider("app").getImmediate(),u=new $e(o,new od(t.getProvider("auth-internal")),new J0(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),u._setSettings(r),u},"PUBLIC")),(0,Ho.registerVersion)(Iy,"3.4.9",n),(0,Ho.registerVersion)(Iy,"3.4.9","esm2017")}();class yv{constructor(e){this._delegate=e}static fromBase64String(e){return SA(),new yv(Vu.fromBase64String(e))}static fromUint8Array(e){return AA(),new yv(Vu.fromUint8Array(e))}toBase64(){return SA(),this._delegate.toBase64()}toUint8Array(){return AA(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function SC(n){return function vx(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class Ex{enableIndexedDbPersistence(e,t){return function gs(n,e){im(n=i(n,$e));const t=gt(n),r=n._freezeSettings(),o=new Sf;return rm(t,o,new tI(o,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function Yl(n){im(n=i(n,$e));const e=gt(n),t=n._freezeSettings(),r=new Sf;return rm(e,r,new ev(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function av(n){if(n._initialized&&!n._terminated)throw new Pe(he.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Hr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ve.Z)(function*(){try{yield(t=(0,ve.Z)(function*(r){if(!js.vt())return Promise.resolve();const o=r+"main";yield js.delete(o)}),function(r){return t.apply(this,arguments)})(p_(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class MA{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof co||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&rg("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function c(n,e,t,r={}){var o;const u=(n=i(n,l))._getSettings();if("firestore.googleapis.com"!==u.host&&u.host!==e&&rg("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},u),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let d,m;if("string"==typeof r.mockUserToken)d=r.mockUserToken,m=ei.MOCK_USER;else{d=(0,qt.Sg)(r.mockUserToken,null===(o=n._app)||void 0===o?void 0:o.options.projectId);const E=r.mockUserToken.sub||r.mockUserToken.user_id;if(!E)throw new Pe(he.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new ei(E)}n._authCredentials=new zD(new Cy(d,m))}}(this._delegate,e,t,r)}enableNetwork(){return function lv(n){return function hC(n){return n.asyncQueue.enqueue((0,ve.Z)(function*(){const e=yield sI(n),t=yield nm(n);return e.setNetworkEnabled(!0),function(r){const o=tt(r);return o.wu.delete(0),Nd(o)}(t)}))}(gt(n=i(n,$e)))}(this._delegate)}disableNetwork(){return function cv(n){return function fC(n){return n.asyncQueue.enqueue((0,ve.Z)(function*(){const e=yield sI(n),t=yield nm(n);return e.setNetworkEnabled(!1),(r=(0,ve.Z)(function*(o){const u=tt(o);u.wu.add(0),yield Fu(u),u.yu.set("Offline")}),function(o){return r.apply(this,arguments)})(t);var r}))}(gt(n=i(n,$e)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,yC("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function uv(n){return function(e){const t=new Hr;return e.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function KT(n,e){return Tf.apply(this,arguments)}(yield oI(e),t)})),t.promise}(gt(n=i(n,$e)))}(this._delegate)}onSnapshotsInSync(e){return function lx(n,e){return function nA(n,e){const t=new tv(e);return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return r=yield Kl(n),o=t,tt(r).bu.add(o),void o.next();var r,o})),()=>{t.Aa(),n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return r=yield Kl(n),o=t,void tt(r).bu.delete(o);var r,o}))}}(gt(n=i(n,$e)),we(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Pe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new om(this,I(this._delegate,e))}catch(t){throw ms(t,"collection()","Firestore.collection()")}}doc(e){try{return new Jo(this,S(this._delegate,e))}catch(t){throw ms(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new ys(this,function T(n,e){if(n=i(n,l),sv("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Pe(he.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new y(n,null,(t=e,new Wo(sn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw ms(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function dx(n,e,t){n=i(n,$e);const r=Object.assign(Object.assign({},XM),t);return function(o){if(o.maxAttempts<1)throw new Pe(he.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function rA(n,e,t){const r=new Hr;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){const o=yield(u=n,xf(u).then(d=>d.datastore));var u;new eA(n.asyncQueue,o,t,e,r).run()})),r.promise}(gt(n),o=>e(new cx(n,o)),r)}(this._delegate,t=>e(new xA(this,t)))}batch(){return gt(this._delegate),new RA(new IA(this._delegate,e=>sm(this._delegate,e)))}loadBundle(e){return function dv(n,e){const t=gt(n=i(n,$e)),r=new Be;return function iA(n,e,t,r){const o=function(u,d){let m;return m="string"==typeof u?(new TextEncoder).encode(u):u,E=function(E,C){if(E instanceof Uint8Array)return Mf(E,C);if(E instanceof ArrayBuffer)return Mf(new Uint8Array(E),C);if(E instanceof ReadableStream)return E.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),new JT(E,d);var E}(t,xd(e));n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){!function X_(n,e,t){const r=tt(n);var o;(o=(0,ve.Z)(function*(u,d,m){try{const E=yield d.getMetadata();if(yield function(W,ne){const ye=tt(W),He=Mr(ne.createTime);return ye.persistence.runTransaction("hasNewerBundle","readonly",ot=>ye._s.getBundleMetadata(ot,ne.id)).then(ot=>!!ot&&ot.createTime.compareTo(He)>=0)}(u.localStore,E))return yield d.close(),m._completeWith({taskState:"Success",documentsLoaded:(W=E).totalDocuments,bytesLoaded:W.totalBytes,totalDocuments:W.totalDocuments,totalBytes:W.totalBytes}),Promise.resolve(new Set);m._updateProgress(zw(E));const C=new go(E,u.localStore,d.M);let x=yield d.ma();for(;x;){const W=yield C.Fu(x);W&&m._updateProgress(W),x=yield d.ma()}const N=yield C.complete();return yield Fa(u,N.Lu,void 0),yield function(W,ne){const ye=tt(W);return ye.persistence.runTransaction("Save bundle","readwrite",He=>ye._s.saveBundleMetadata(He,ne))}(u.localStore,E),m._completeWith(N.progress),Promise.resolve(N.Bu)}catch(E){return rg("SyncEngine",`Loading bundle failed with ${E}`),m._failWith(E),Promise.resolve(new Set)}var W}),function(u,d,m){return o.apply(this,arguments)})(r,e,t).then(o=>{r.sharedClientState.notifyBundleLoaded(o)})}(yield oI(n),o,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function hv(n,e){return function sA(n,e){return n.asyncQueue.enqueue((0,ve.Z)(function*(){return function(t,r){const o=tt(t);return o.persistence.runTransaction("Get named query","readonly",u=>o._s.getNamedQuery(u,r))}(yield tm(n),e)}))}(gt(n=i(n,$e)),e).then(t=>t?new y(n,null,t.query):null)}(this._delegate,e).then(t=>t?new ys(this,t):null)}}class mI extends CC{constructor(e){super(),this.firestore=e}convertBytes(e){return new yv(new Vu(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Jo.forKey(t,this.firestore,null)}}class xA{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new mI(e)}get(e){const t=Vf(e);return this._delegate.get(t).then(r=>new _v(this._firestore,new Jl(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const o=Vf(e);return r?(AC("Transaction.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const u=Vf(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...o),this}delete(e){const t=Vf(e);return this._delegate.delete(t),this}}class RA{constructor(e){this._delegate=e}set(e,t,r){const o=Vf(e);return r?(AC("WriteBatch.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const u=Vf(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...o),this}delete(e){const t=Vf(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Lf{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new gv(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new vv(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Lf.INSTANCES;let o=r.get(e);o||(o=new WeakMap,r.set(e,o));let u=o.get(t);return u||(u=new Lf(e,new mI(e),t),o.set(t,u)),u}}Lf.INSTANCES=new WeakMap;class Jo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new mI(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Pe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Jo(t,new f(t._delegate,r,new Qe(e)))}static forKey(e,t,r){return new Jo(t,new f(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new om(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new om(this.firestore,I(this._delegate,e))}catch(t){throw ms(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,qt.m9)(e))instanceof f&&k(this._delegate,e)}set(e,t){t=AC("DocumentReference.set",t);try{return t?DA(this._delegate,e,t):DA(this._delegate,e)}catch(r){throw ms(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?bA(this._delegate,e):bA(this._delegate,e,t,...r)}catch(o){throw ms(o,"updateDoc()","DocumentReference.update()")}}delete(){return function ax(n){return sm(i(n.firestore,$e),[new mg(n._key,cr.none())])}(this._delegate)}onSnapshot(...e){const t=NA(e),r=OA(e,o=>new _v(this.firestore,new Jl(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)));return CA(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function nx(n){n=i(n,f);const e=i(n.firestore,$e),t=gt(e),r=new Ff(e);return function tA(n,e){const t=new Hr;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return(r=(0,ve.Z)(function*(o,u,d){try{const m=yield function(E,C){const x=tt(E);return x.persistence.runTransaction("read document","readonly",N=>x.fi.Ls(N,C))}(o,u);m.isFoundDocument()?d.resolve(m):m.isNoDocument()?d.resolve(null):d.reject(new Pe(he.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const E=Wl(m,`Failed to get document '${u} from cache`);d.reject(E)}}),function(o,u,d){return r.apply(this,arguments)})(yield tm(n),e,t);var r})),t.promise}(t,n._key).then(o=>new Jl(e,r,n._key,o,new kf(null!==o&&o.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function rx(n){n=i(n,f);const e=i(n.firestore,$e);return pC(gt(e),n._key,{source:"server"}).then(t=>TC(e,n,t))}(this._delegate):function tx(n){n=i(n,f);const e=i(n.firestore,$e);return pC(gt(e),n._key).then(t=>TC(e,n,t))}(this._delegate),t.then(r=>new _v(this.firestore,new Jl(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Jo(this.firestore,this._delegate.withConverter(e?Lf.getInstance(this.firestore,e):null))}}function ms(n,e,t){return n.message=n.message.replace(e,t),n}function NA(n){for(const e of n)if("object"==typeof e&&!SC(e))return e;return{}}function OA(n,e){var t,r;let o;return o=SC(n[0])?n[0]:SC(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:u=>{o.next&&o.next(e(u))},error:null===(t=o.error)||void 0===t?void 0:t.bind(o),complete:null===(r=o.complete)||void 0===r?void 0:r.bind(o)}}class _v{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Jo(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return fA(this._delegate,e._delegate)}}class vv extends _v{data(e){const t=this._delegate.data(e);return function GD(n,e){n||st()}(void 0!==t),t}}class ys{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new mI(e)}where(e,t,r){try{return new ys(this.firestore,Vd(this._delegate,function GM(n,e,t){const r=e,o=pI("where",n);return new HM(o,r,t)}(e,t,r)))}catch(o){throw ms(o,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new ys(this.firestore,Vd(this._delegate,function qM(n,e="asc"){const t=e,r=pI("orderBy",n);return new zM(r,t)}(e,t)))}catch(r){throw ms(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new ys(this.firestore,Vd(this._delegate,function WM(n){return s("limit",n),new gA("limit",n,"F")}(e)))}catch(t){throw ms(t,"limit()","Query.limit()")}}limitToLast(e){try{return new ys(this.firestore,Vd(this._delegate,function ZM(n){return s("limitToLast",n),new gA("limitToLast",n,"L")}(e)))}catch(t){throw ms(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new ys(this.firestore,Vd(this._delegate,function KM(...n){return new mA("startAt",n,!0)}(...e)))}catch(t){throw ms(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new ys(this.firestore,Vd(this._delegate,function YM(...n){return new mA("startAfter",n,!1)}(...e)))}catch(t){throw ms(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new ys(this.firestore,Vd(this._delegate,function QM(...n){return new yA("endBefore",n,!1)}(...e)))}catch(t){throw ms(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new ys(this.firestore,Vd(this._delegate,function JM(...n){return new yA("endAt",n,!0)}(...e)))}catch(t){throw ms(t,"endAt()","Query.endAt()")}}isEqual(e){return j(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function sx(n){n=i(n,y);const e=i(n.firestore,$e),t=gt(e),r=new Ff(e);return function gC(n,e){const t=new Hr;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return(r=(0,ve.Z)(function*(o,u,d){try{const m=yield v_(o,u,!0),E=new Ww(u,m._i),C=E.Wu(m.documents),x=E.applyChanges(C,!1);d.resolve(x.snapshot)}catch(m){const E=Wl(m,`Failed to execute query '${u} against cache`);d.reject(E)}}),function(o,u,d){return r.apply(this,arguments)})(yield tm(n),e,t);var r})),t.promise}(t,n._query).then(o=>new Ld(e,r,n,o))}(this._delegate):"server"===(null==e?void 0:e.source)?function ox(n){n=i(n,y);const e=i(n.firestore,$e),t=gt(e),r=new Ff(e);return aI(t,n._query,{source:"server"}).then(o=>new Ld(e,r,n,o))}(this._delegate):function ix(n){n=i(n,y);const e=i(n.firestore,$e),t=gt(e),r=new Ff(e);return pA(n._query),aI(t,n._query).then(o=>new Ld(e,r,n,o))}(this._delegate),t.then(r=>new MC(this.firestore,new Ld(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=NA(e),r=OA(e,o=>new MC(this.firestore,new Ld(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)));return CA(this._delegate,t,r)}withConverter(e){return new ys(this.firestore,this._delegate.withConverter(e?Lf.getInstance(this.firestore,e):null))}}class Ix{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new vv(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class MC{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new ys(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new vv(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Ix(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new vv(this._firestore,r))})}isEqual(e){return fA(this._delegate,e._delegate)}}class om extends ys{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Jo(this.firestore,e):null}doc(e){try{return new Jo(this.firestore,void 0===e?S(this._delegate):S(this._delegate,e))}catch(t){throw ms(t,"doc()","CollectionReference.doc()")}}add(e){return function ux(n,e){const t=i(n.firestore,$e),r=S(n),o=gI(n.converter,e);return sm(t,[dI(Of(n.firestore),"addDoc",r._key,o,null!==n.converter,{}).toMutation(r._key,cr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Jo(this.firestore,t))}isEqual(e){return k(this._delegate,e._delegate)}withConverter(e){return new om(this.firestore,this._delegate.withConverter(e?Lf.getInstance(this.firestore,e):null))}}function Vf(n){return i(n,f)}class xC{constructor(...e){this._delegate=new Ql(...e)}static documentId(){return new xC(Sr.keyField().canonicalString())}isEqual(e){return(e=(0,qt.m9)(e))instanceof Ql&&this._delegate._internalPath.isEqual(e._internalPath)}}class Uf{constructor(e){this._delegate=e}static serverTimestamp(){const e=function fx(){return new EC("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Uf(e)}static delete(){const e=function hx(){return new fv("deleteField")}();return e._methodName="FieldValue.delete",new Uf(e)}static arrayUnion(...e){const t=function px(...n){return new LM("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Uf(t)}static arrayRemove(...e){const t=function gx(...n){return new VM("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Uf(t)}static increment(e){const t=function mx(n){return new UM("increment",n)}(e);return t._methodName="FieldValue.increment",new Uf(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Dx={Firestore:MA,GeoPoint:lI,Timestamp:lr,Blob:yv,Transaction:xA,WriteBatch:RA,DocumentReference:Jo,DocumentSnapshot:_v,Query:ys,QueryDocumentSnapshot:vv,QuerySnapshot:MC,CollectionReference:om,FieldPath:xC,FieldValue:Uf,setLogLevel:function wx(n){!function K0(n){Aa.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function Cx(n){(function bx(n,e){n.INTERNAL.registerComponent(new bp.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),o=t.getProvider("firestore").getImmediate();return e(r,o)},"PUBLIC").setServiceProps(Object.assign({},Dx)))})(n,(e,t)=>new MA(e,t,new Ex)),n.registerVersion("@firebase/firestore-compat","0.1.18")}(RT.Z);var Tx=O(6451),yI=O(5363),Ax=O(6063);class Sx extends Oi.x{constructor(e=1/0,t=1/0,r=Ax.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:u,_windowTime:d}=this;t||(r.push(e),!o&&r.push(u.now()+d)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:o}=this,u=o.slice();for(let d=0;d<u.length&&!e.closed;d+=r?1:2)e.next(u[d]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:o}=this,u=(o?1:2)*e;if(e<1/0&&u<r.length&&r.splice(0,r.length-u),!o){const d=t.now();let m=0;for(let E=1;E<r.length&&r[E]<=d;E+=2)m=E;m&&r.splice(0,m+1)}}}var Mx=O(3099);function PA(n,e,t){let r,o=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:o=!1,scheduler:t}=n):r=null!=n?n:1/0,(0,Mx.B)({connector:()=>new Sx(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}function kA(n,e){return(0,is.m)(e)?gr(()=>n,e):gr(()=>n)}var RC=O(9468),Bf=O(5867);class am{constructor(e){return e}}class FA{constructor(){return(0,Bf.C6)()}}const NC=new h.OlP("angularfire2._apps"),Rx={provide:am,useFactory:function xx(n){return n&&1===n.length?n[0]:new am((0,Bf.Mq)())},deps:[[new h.FiY,NC]]},Nx={provide:FA,deps:[[new h.FiY,NC]]};function Ox(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new am(r)}}let Px=(()=>{class n{constructor(t){(0,Bf.KN)("angularfire",wn.q4.full,"core"),(0,Bf.KN)("angularfire",wn.q4.full,"app"),(0,Bf.KN)("angular",h.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.Lbi))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[Rx,Nx]}),n})();function kx(n,...e){return{ngModule:Px,providers:[{provide:NC,useFactory:Ox(n),multi:!0,deps:[h.R0b,h.zs3,wn.HU,...e]}]}}const Fx=(0,wn.u3)(Bf.ZF,!0),LA=new Map,Lx={activated:!1,tokenObservers:[]},Vx={initialized:!1,enabled:!1};function hi(n){return LA.get(n)||Lx}function Va(n,e){LA.set(n,e)}function _I(){return Vx}class Hx{constructor(e,t,r,o,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=o,o>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,ve.Z)(function*(){t.stop();try{t.pending=new qt.BH,yield function Gx(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new qt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const _s=new qt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function UA(n){if(!hi(n).activated)throw _s.create("use-before-activation",{appName:n.name})}function kC(n,e){return FC.apply(this,arguments)}function FC(){return FC=(0,ve.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},o=t.getImmediate({optional:!0});if(o){const N=yield o.getHeartbeatsHeader();N&&(r["X-Firebase-Client"]=N)}const u={method:"POST",body:JSON.stringify(e),headers:r};let d,m;try{d=yield fetch(n,u)}catch(N){throw _s.create("fetch-network-error",{originalErrorMessage:N.message})}if(200!==d.status)throw _s.create("fetch-status-error",{httpStatus:d.status});try{m=yield d.json()}catch(N){throw _s.create("fetch-parse-error",{originalErrorMessage:N.message})}const E=m.ttl.match(/^([\d.]+)(s)$/);if(!E||!E[2]||isNaN(Number(E[1])))throw _s.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${m.ttl}`});const C=1e3*Number(E[1]),x=Date.now();return{token:m.token,expireTimeMillis:x+C,issuedAtTimeMillis:x}}),FC.apply(this,arguments)}function Kx(n,e){const{projectId:t,appId:r,apiKey:o}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${o}`,body:{debug_token:e}}}const Ev="firebase-app-check-store";let wI=null;function jA(){return wI||(wI=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var o;e(_s.create("storage-open",{originalErrorMessage:null===(o=r.target.error)||void 0===o?void 0:o.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Ev,{keyPath:"compositeKey"})}}catch(t){e(_s.create("storage-open",{originalErrorMessage:t.message}))}}),wI)}function LC(){return LC=(0,ve.Z)(function*(n,e){const r=(yield jA()).transaction(Ev,"readwrite"),u=r.objectStore(Ev).put({compositeKey:n,value:e});return new Promise((d,m)=>{u.onsuccess=E=>{d()},r.onerror=E=>{var C;m(_s.create("storage-set",{originalErrorMessage:null===(C=E.target.error)||void 0===C?void 0:C.message}))}})}),LC.apply(this,arguments)}const wv=new Ea.Yd("@firebase/app-check");function zA(n,e){return(0,qt.hl)()?function Xx(n,e){return function $A(n,e){return LC.apply(this,arguments)}(function GA(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{wv.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function qA(){return _I().enabled}function WA(){return jC.apply(this,arguments)}function jC(){return jC=(0,ve.Z)(function*(){const n=_I();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),jC.apply(this,arguments)}const sR={error:"UNKNOWN_ERROR"};function oR(n){return qt.US.encodeString(JSON.stringify(n),!1)}function II(n){return $C.apply(this,arguments)}function $C(){return $C=(0,ve.Z)(function*(n,e=!1){const t=n.app;UA(t);const r=hi(t);let u,o=r.token;if(!o){const E=yield r.cachedTokenPromise;E&&DI(E)&&(o=E)}if(!e&&o&&DI(o))return{token:o.token};let m,d=!1;if(qA()){r.exchangeTokenPromise||(r.exchangeTokenPromise=kC(Kx(t,yield WA()),n.heartbeatServiceProvider).then(C=>(r.exchangeTokenPromise=void 0,C)),d=!0);const E=yield r.exchangeTokenPromise;return yield zA(t,E),Va(t,Object.assign(Object.assign({},r),{token:E})),{token:E.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(E=>(r.exchangeTokenPromise=void 0,E)),d=!0),o=yield r.exchangeTokenPromise}catch(E){"appCheck/throttled"===E.code?wv.warn(E.message):wv.error(E),u=E}return o?(m={token:o.token},Va(t,Object.assign(Object.assign({},r),{token:o})),yield zA(t,o)):m=uR(u),d&&KA(t,m),m}),$C.apply(this,arguments)}function GC(n,e){const t=hi(n),r=t.tokenObservers.filter(o=>o.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),Va(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function ZA(n){const{app:e}=n,t=hi(e);let r=t.tokenRefresher;r||(r=function aR(n){const{app:e}=n;return new Hx((0,ve.Z)(function*(){let r;if(r=hi(e).token?yield II(n,!0):yield II(n),r.error)throw r.error}),()=>!0,()=>{const t=hi(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),Va(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function KA(n,e){const t=hi(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(o){}}function DI(n){return n.expireTimeMillis-Date.now()>0}function uR(n){return{token:oR(sR),error:n}}class lR{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=hi(this.app);for(const t of e)GC(this.app,t.next);return Promise.resolve()}}const rS="app-check-internal";!function DR(){(0,Ho._registerComponent)(new bp.wA("app-check",n=>function cR(n,e){return new lR(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(rS).initialize()})),(0,Ho._registerComponent)(new bp.wA(rS,n=>function dR(n){return{getToken:e=>II(n,e),addTokenListener:e=>function HC(n,e,t,r){const{app:o}=n,u=hi(o),d={next:t,error:r,type:e};if(Va(o,Object.assign(Object.assign({},u),{tokenObservers:[...u.tokenObservers,d]})),u.token&&DI(u.token)){const m=u.token;Promise.resolve().then(()=>{t({token:m.token}),ZA(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>ZA(n))}(n,"INTERNAL",e),removeTokenListener:e=>GC(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ho.registerVersion)("@firebase/app-check","0.5.8")}();class CI{constructor(){return(0,wn.vb)("app-check")}}"undefined"!=typeof window&&window,O(127);const sS=new h.OlP("angularfire2.auth.use-emulator"),oS=new h.OlP("angularfire2.auth.settings"),aS=new h.OlP("angularfire2.auth.tenant-id"),uS=new h.OlP("angularfire2.auth.langugage-code"),lS=new h.OlP("angularfire2.auth.use-device-language"),cS=new h.OlP("angularfire.auth.persistence"),dS=(n,e,t,r,o,u,d,m)=>(0,us.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const E=e.runOutsideAngular(()=>n.auth());if(t&&E.useEmulator(...t),r&&(E.tenantId=r),E.languageCode=o,u&&E.useDeviceLanguage(),d)for(const[C,x]of Object.entries(d))E.settings[C]=x;return m&&E.setPersistence(m),E},[t,r,o,u,d,m]);let hS=(()=>{class n{constructor(t,r,o,u,d,m,E,C,x,N,W,ne){const ye=new Oi.x,He=ut(void 0).pipe((0,yI.Q)(d.outsideAngular),gr(()=>u.runOutsideAngular(()=>Promise.resolve().then(O.bind(O,5881)))),(0,Dt.U)(()=>(0,us.on)(t,u,r)),(0,Dt.U)(ot=>dS(ot,u,m,C,x,N,E,W)),PA({bufferSize:1,refCount:!1}));if(Dr(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=ut(null);else{He.pipe(Fo()).subscribe();const Yt=He.pipe(gr(Ht=>Ht.getRedirectResult().then(Jt=>Jt,()=>null)),wn.iC,PA({bufferSize:1,refCount:!1})),Qt=He.pipe(gr(Ht=>new mi.y(Jt=>({unsubscribe:u.runOutsideAngular(()=>Ht.onAuthStateChanged(_n=>Jt.next(_n),_n=>Jt.error(_n),()=>Jt.complete()))})))),tn=He.pipe(gr(Ht=>new mi.y(Jt=>({unsubscribe:u.runOutsideAngular(()=>Ht.onIdTokenChanged(_n=>Jt.next(_n),_n=>Jt.error(_n),()=>Jt.complete()))}))));this.authState=Yt.pipe(kA(Qt),(0,RC.R)(d.outsideAngular),(0,yI.Q)(d.insideAngular)),this.user=Yt.pipe(kA(tn),(0,RC.R)(d.outsideAngular),(0,yI.Q)(d.insideAngular)),this.idToken=this.user.pipe(gr(Ht=>Ht?(0,bn.D)(Ht.getIdToken()):ut(null))),this.idTokenResult=this.user.pipe(gr(Ht=>Ht?(0,bn.D)(Ht.getIdTokenResult()):ut(null))),this.credential=(0,Tx.T)(Yt,ye,this.authState.pipe(zn(Ht=>!Ht))).pipe((0,Dt.U)(Ht=>(null==Ht?void 0:Ht.user)?Ht:null),(0,RC.R)(d.outsideAngular),(0,yI.Q)(d.insideAngular))}return(0,us.pX)(this,He,u,{spy:{apply:(ot,Yt,Qt)=>{(ot.startsWith("signIn")||ot.startsWith("createUser"))&&Qt.then(tn=>ye.next(tn))}}})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(us.Dh),h.LFG(us.xv,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(wn.HU),h.LFG(sS,8),h.LFG(oS,8),h.LFG(aS,8),h.LFG(uS,8),h.LFG(lS,8),h.LFG(cS,8),h.LFG(CI,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function fS(n,e){return function MR(n,e=dD.z){return new mi.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function KC(n,e){return fS(n,e).pipe((0,Dt.U)(t=>({payload:t,type:"query"})))}function TI(n,e){return KC(n,e).pipe(eo(void 0),km(),(0,Dt.U)(([t,r])=>{const o=r.payload.docChanges(),u=o.map(d=>({type:d.type,payload:d}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((d,m)=>{const E=o.find(x=>x.doc.ref.isEqual(d.ref)),C=null==t?void 0:t.payload.docs.find(x=>x.ref.isEqual(d.ref));E&&JSON.stringify(E.doc.metadata)===JSON.stringify(d.metadata)||!E&&C&&JSON.stringify(C.metadata)===JSON.stringify(d.metadata)||u.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:d}})}),u}))}function pS(n,e,t){return TI(n,t).pipe(Fi((r,o)=>function RR(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function NR(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return YC(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return YC(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return YC(n,e.oldIndex,1)}return n}(n,r))}),n}(r,o.map(u=>u.payload),e),[]),function hD(n,e=Ss.y){return n=null!=n?n:n0,(0,pr.e)((t,r)=>{let o,u=!0;t.subscribe((0,Gn.x)(r,d=>{const m=e(d);(u||!n(o,m))&&(u=!1,o=m,r.next(d))}))})}(),(0,Dt.U)(r=>r.map(o=>({type:o.type,payload:o}))))}function YC(n,e,t,...r){const o=n.slice();return o.splice(e,t,...r),o}function gS(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class mS{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=TI(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Dt.U)(r=>r.filter(o=>e.indexOf(o.type)>-1)))),t.pipe(eo(void 0),km(),zn(([r,o])=>o.length>0||!r),(0,Dt.U)(([r,o])=>o),wn.iC)}auditTrail(e){return this.stateChanges(e).pipe(Fi((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=gS(e);return pS(this.query,t,this.afs.schedulers.outsideAngular).pipe(wn.iC)}valueChanges(e={}){return KC(this.query,this.afs.schedulers.outsideAngular).pipe((0,Dt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),wn.iC)}get(e){return(0,bn.D)(this.query.get(e)).pipe(wn.iC)}add(e){return this.ref.add(e)}doc(e){return new yS(this.ref.doc(e),this.afs)}}class yS{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:o,query:u}=_S(r,t);return new mS(o,u,this.afs)}snapshotChanges(){return function xR(n,e){return fS(n,e).pipe(eo(void 0),km(),(0,Dt.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(wn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Dt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,bn.D)(this.ref.get(e)).pipe(wn.iC)}}class OR{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?TI(this.query,this.afs.schedulers.outsideAngular).pipe((0,Dt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),zn(t=>t.length>0),wn.iC):TI(this.query,this.afs.schedulers.outsideAngular).pipe(wn.iC)}auditTrail(e){return this.stateChanges(e).pipe(Fi((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=gS(e);return pS(this.query,t,this.afs.schedulers.outsideAngular).pipe(wn.iC)}valueChanges(e={}){return KC(this.query,this.afs.schedulers.outsideAngular).pipe((0,Dt.U)(r=>r.payload.docs.map(o=>e.idField?Object.assign({[e.idField]:o.id},o.data()):o.data())),wn.iC)}get(e){return(0,bn.D)(this.query.get(e)).pipe(wn.iC)}}const PR=new h.OlP("angularfire2.enableFirestorePersistence"),kR=new h.OlP("angularfire2.firestore.persistenceSettings"),FR=new h.OlP("angularfire2.firestore.settings"),LR=new h.OlP("angularfire2.firestore.use-emulator");function _S(n,e=(t=>t)){return{query:e(n),ref:n}}let VR=(()=>{class n{constructor(t,r,o,u,d,m,E,C,x,N,W,ne,ye,He,ot,Yt,Qt){this.schedulers=E;const tn=(0,us.on)(t,m,r),Ht=x;N&&dS(tn,m,W,ye,He,ot,ne,Yt),[this.firestore,this.persistenceEnabled$]=(0,us.cc)(`${tn.name}.firestore`,"AngularFirestore",tn.name,()=>{const Jt=m.runOutsideAngular(()=>tn.firestore());if(u&&Jt.settings(u),Ht&&Jt.useEmulator(...Ht),o&&!Dr(d)){const _n=()=>{try{return(0,bn.D)(Jt.enablePersistence(C||void 0).then(()=>!0,()=>!1))}catch(qi){return"undefined"!=typeof console&&console.warn(qi),ut(!1)}};return[Jt,m.runOutsideAngular(_n)]}return[Jt,ut(!1)]},[u,Ht,o])}collection(t,r){let o;o="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:d}=_S(o,r),m=this.schedulers.ngZone.run(()=>u);return new mS(m,d,this)}collectionGroup(t,r){const o=r||(d=>d),u=this.firestore.collectionGroup(t);return new OR(o(u),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const o=this.schedulers.ngZone.run(()=>r);return new yS(o,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(us.Dh),h.LFG(us.xv,8),h.LFG(PR,8),h.LFG(FR,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(wn.HU),h.LFG(kR,8),h.LFG(LR,8),h.LFG(hS,8),h.LFG(sS,8),h.LFG(oS,8),h.LFG(aS,8),h.LFG(uS,8),h.LFG(lS,8),h.LFG(cS,8),h.LFG(CI,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),QC=(()=>{class n{constructor(t){this.db=t}getRanking(){return new Promise(t=>{this.db.collection("ranking",r=>r.orderBy("position")).valueChanges({idField:"id"}).subscribe(r=>t(r))})}updateRanking(t,r){var o=this;return(0,ve.Z)(function*(){const u=o.db.collection("ranking");let d=yield o.getRanking(),m=0;for(let E=0;E<d.length;E++)if(d[E].points<=r){m=E+1;break}if(0!=m)if(d.length<10){for(let E=0;E<d.length;E++){let C="";if(d[E].position>=m){C=d[E].id;let x=d[E].position+=1;u.doc(C).update({position:x})}}u.add({position:m,name:t,points:r})}else{let C=(yield o.getLastPosition())[0].id;u.doc(C).delete(),o.updateRanking(t,r)}})()}getLastPosition(){return new Promise(t=>{this.db.collection("ranking",r=>r.where("position","==",10)).valueChanges({idField:"id"}).subscribe(r=>t(r))})}getQuestions(){return new Promise(t=>{this.db.collection("questions").valueChanges({idField:"id"}).subscribe(r=>t(r))})}checkAnswers(t,r){let o=[{points:0}];for(let u=0;u<t.length;u++)t[u].correct==r[u]?(o[0].points+=1,o.push({answer:"Acertou!!"})):o.push({answer:"Errou!!"});return o}createQuiz(t,r,o){var u=this;return(0,ve.Z)(function*(){const d=u.db.collection("questions");let m=yield u.getQuestions();for(let E=0;E<m.length;E++){let x=m[E].id.toString();d.doc(x).delete()}for(let E=0;E<r;E++){let C=[];for(let x=0;x<o;x++)C.push(t[E].answers[x]);d.add({answers:C,enunciation:t[E].enunciation,correct:t[E].correct})}})()}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(VR))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vS=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.Qsj),h.Y36(h.SBq))},n.\u0275dir=h.lG2({type:n}),n})(),jf=(()=>{class n extends vS{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275dir=h.lG2({type:n,features:[h.qOj]}),n})();const Uu=new h.OlP("NgValueAccessor"),jR={provide:Uu,useExisting:(0,h.Gpc)(()=>AI),multi:!0},HR=new h.OlP("CompositionEventMode");let AI=(()=>{class n extends vS{constructor(t,r,o){super(t,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function $R(){const n=R()?R().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(HR,8))},n.\u0275dir=h.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&h.NdJ("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[h._Bn([jR]),h.qOj]}),n})();function Bd(n){return null==n||0===n.length}function wS(n){return null!=n&&"number"==typeof n.length}const zi=new h.OlP("NgValidators"),jd=new h.OlP("NgAsyncValidators"),GR=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Tt{static min(e){return function IS(n){return e=>{if(Bd(e.value)||Bd(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function DS(n){return e=>{if(Bd(e.value)||Bd(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function bS(n){return Bd(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function CS(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function TS(n){return Bd(n.value)||GR.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function AS(n){return e=>Bd(e.value)||!wS(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function SS(n){return e=>wS(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function MS(n){if(!n)return SI;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Bd(r.value))return null;const o=r.value;return e.test(o)?null:{pattern:{requiredPattern:t,actualValue:o}}}}(e)}static nullValidator(e){return null}static compose(e){return kS(e)}static composeAsync(e){return FS(e)}}function SI(n){return null}function xS(n){return null!=n}function RS(n){const e=(0,h.QGY)(n)?(0,bn.D)(n):n;return(0,h.CqO)(e),e}function NS(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function OS(n,e){return e.map(t=>t(n))}function PS(n){return n.map(e=>function zR(n){return!n.validate}(e)?e:t=>e.validate(t))}function kS(n){if(!n)return null;const e=n.filter(xS);return 0==e.length?null:function(t){return NS(OS(t,e))}}function JC(n){return null!=n?kS(PS(n)):null}function FS(n){if(!n)return null;const e=n.filter(xS);return 0==e.length?null:function(t){return function UR(...n){const e=(0,Ka.jO)(n),{args:t,keys:r}=bc(n),o=new mi.y(u=>{const{length:d}=t;if(!d)return void u.complete();const m=new Array(d);let E=d,C=d;for(let x=0;x<d;x++){let N=!1;(0,Ku.Xf)(t[x]).subscribe((0,Gn.x)(u,W=>{N||(N=!0,C--),m[x]=W},()=>E--,void 0,()=>{(!E||!N)&&(C||u.next(r?Tc(r,m):m),u.complete())}))}});return e?o.pipe(Ya(e)):o}(OS(t,e).map(RS)).pipe((0,Dt.U)(NS))}}function XC(n){return null!=n?FS(PS(n)):null}function LS(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function VS(n){return n._rawValidators}function US(n){return n._rawAsyncValidators}function eT(n){return n?Array.isArray(n)?n:[n]:[]}function MI(n,e){return Array.isArray(n)?n.includes(e):n===e}function BS(n,e){const t=eT(e);return eT(n).forEach(o=>{MI(t,o)||t.push(o)}),t}function jS(n,e){return eT(e).filter(t=>!MI(n,t))}class $S{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=JC(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=XC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class $d extends $S{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class vs extends $S{get formDirective(){return null}get path(){return null}}class HS{constructor(e){this._cd=e}is(e){var t,r,o;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(o=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===o?void 0:o[e])}}let GS=(()=>{class n extends HS{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36($d,2))},n.\u0275dir=h.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&h.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[h.qOj]}),n})(),zS=(()=>{class n extends HS{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(vs,10))},n.\u0275dir=h.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&h.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[h.qOj]}),n})();function Iv(n,e){rT(n,e),e.valueAccessor.writeValue(n.value),function XR(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&WS(n,e)})}(n,e),function t1(n,e){const t=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function e1(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&WS(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function JR(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function NI(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),PI(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function OI(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function rT(n,e){const t=VS(n);null!==e.validator?n.setValidators(LS(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=US(n);null!==e.asyncValidator?n.setAsyncValidators(LS(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const o=()=>n.updateValueAndValidity();OI(e._rawValidators,o),OI(e._rawAsyncValidators,o)}function PI(n,e){let t=!1;if(null!==n){if(null!==e.validator){const o=VS(n);if(Array.isArray(o)&&o.length>0){const u=o.filter(d=>d!==e.validator);u.length!==o.length&&(t=!0,n.setValidators(u))}}if(null!==e.asyncValidator){const o=US(n);if(Array.isArray(o)&&o.length>0){const u=o.filter(d=>d!==e.asyncValidator);u.length!==o.length&&(t=!0,n.setAsyncValidators(u))}}}const r=()=>{};return OI(e._rawValidators,r),OI(e._rawAsyncValidators,r),t}function WS(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function oT(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Dv="VALID",kI="INVALID",um="PENDING",bv="DISABLED";function uT(n){return(FI(n)?n.validators:n)||null}function QS(n){return Array.isArray(n)?JC(n):n||null}function lT(n,e){return(FI(e)?e.asyncValidators:n)||null}function JS(n){return Array.isArray(n)?XC(n):n||null}function FI(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const XS=n=>n instanceof It,cT=n=>n instanceof LI;function eM(n){return XS(n)?n.value:n.getRawValue()}function tM(n,e){const t=cT(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new h.vHH(1e3,"");if(!r[e])throw new h.vHH(1001,"")}function nM(n,e){cT(n),n._forEachChild((r,o)=>{if(void 0===e[o])throw new h.vHH(1002,"")})}class dT{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=QS(this._rawValidators),this._composedAsyncValidatorFn=JS(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Dv}get invalid(){return this.status===kI}get pending(){return this.status==um}get disabled(){return this.status===bv}get enabled(){return this.status!==bv}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=QS(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=JS(e)}addValidators(e){this.setValidators(BS(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(BS(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(jS(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(jS(e,this._rawAsyncValidators))}hasValidator(e){return MI(this._rawValidators,e)}hasAsyncValidator(e){return MI(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=um,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=bv,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Dv,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Dv||this.status===um)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?bv:Dv}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=um,this._hasOwnPendingAsyncValidator=!0;const t=RS(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function s1(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(o=>{r=cT(r)?r.controls.hasOwnProperty(o)?r.controls[o]:null:(n=>n instanceof a1)(r)&&r.at(o)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new h.vpe,this.statusChanges=new h.vpe}_calculateStatus(){return this._allControlsDisabled()?bv:this.errors?kI:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(um)?um:this._anyControlsHaveStatus(kI)?kI:Dv}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){FI(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class It extends dT{constructor(e=null,t,r){super(uT(t),lT(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),FI(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){oT(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){oT(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class LI extends dT{constructor(e,t,r){super(uT(t),lT(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){nM(this,e),Object.keys(e).forEach(r=>{tM(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=eM(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((o,u)=>{r=t(r,o,u)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class a1 extends dT{constructor(e,t,r){super(uT(t),lT(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){nM(this,e),e.forEach((r,o)=>{tM(this,o),this.at(o).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,o)=>{this.at(o)&&this.at(o).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>eM(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}let aM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const h1={provide:Uu,useExisting:(0,h.Gpc)(()=>fT),multi:!0};let lM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})(),f1=(()=>{class n{constructor(){this._accessors=[]}add(t,r){this._accessors.push([t,r])}remove(t){for(let r=this._accessors.length-1;r>=0;--r)if(this._accessors[r][1]===t)return void this._accessors.splice(r,1)}select(t){this._accessors.forEach(r=>{this._isSameGroup(r,t)&&r[1]!==t&&r[1].fireUncheck(t.value)})}_isSameGroup(t,r){return!!t[0].control&&t[0]._parent===r._control._parent&&t[1].name===r.name}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:lM}),n})(),fT=(()=>{class n extends jf{constructor(t,r,o,u){super(t,r),this._registry=o,this._injector=u,this.onChange=()=>{}}ngOnInit(){this._control=this._injector.get($d),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this.setProperty("checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(f1),h.Y36(h.zs3))},n.\u0275dir=h.lG2({type:n,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,r){1&t&&h.NdJ("change",function(){return r.onChange()})("blur",function(){return r.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[h._Bn([h1]),h.qOj]}),n})();const pT=new h.OlP("NgModelWithFormControlWarning"),m1={provide:vs,useExisting:(0,h.Gpc)(()=>VI)};let VI=(()=>{class n extends vs{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new h.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(PI(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Iv(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){NI(t.control||null,t,!1),oT(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function YS(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,o=this.form.get(t.path);r!==o&&(NI(r||null,t),XS(o)&&(Iv(o,t),t.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function ZS(n,e){rT(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function n1(n,e){return PI(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){rT(this.form,this),this._oldForm&&PI(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(zi,10),h.Y36(jd,10))},n.\u0275dir=h.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&h.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[h._Bn([m1]),h.qOj,h.TTD]}),n})();const v1={provide:$d,useExisting:(0,h.Gpc)(()=>yT)};let yT=(()=>{class n extends $d{constructor(t,r,o,u,d){super(),this._ngModelWarningConfig=d,this._added=!1,this.update=new h.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function sT(n,e){if(!e)return null;let t,r,o;return Array.isArray(e),e.forEach(u=>{u.constructor===AI?t=u:function i1(n){return Object.getPrototypeOf(n.constructor)===jf}(u)?r=u:o=u}),o||r||t||null}(0,u)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function iT(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function RI(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(h.Y36(vs,13),h.Y36(zi,10),h.Y36(jd,10),h.Y36(Uu,10),h.Y36(pT,8))},n.\u0275dir=h.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[h._Bn([v1]),h.qOj,h.TTD]}),n})();const E1={provide:Uu,useExisting:(0,h.Gpc)(()=>_T),multi:!0};function fM(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let _T=(()=>{class n extends jf{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const o=fM(this._getOptionId(t),t);this.setProperty("value",o)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function w1(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275dir=h.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&h.NdJ("change",function(u){return r.onChange(u.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[h._Bn([E1]),h.qOj]}),n})(),pM=(()=>{class n{constructor(t,r,o){this._element=t,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(fM(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.SBq),h.Y36(h.Qsj),h.Y36(_T,9))},n.\u0275dir=h.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const I1={provide:Uu,useExisting:(0,h.Gpc)(()=>vT),multi:!0};function gM(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let vT=(()=>{class n extends jf{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const o=t.map(u=>this._getOptionId(u));r=(u,d)=>{u._setSelected(o.indexOf(d.toString())>-1)}}else r=(o,u)=>{o._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const o=[],u=r.selectedOptions;if(void 0!==u){const d=u;for(let m=0;m<d.length;m++){const C=this._getOptionValue(d[m].value);o.push(C)}}else{const d=r.options;for(let m=0;m<d.length;m++){const E=d[m];if(E.selected){const C=this._getOptionValue(E.value);o.push(C)}}}this.value=o,t(o)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function D1(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275dir=h.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&h.NdJ("change",function(u){return r.onChange(u.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[h._Bn([I1]),h.qOj]}),n})(),mM=(()=>{class n{constructor(t,r,o){this._element=t,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(gM(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(gM(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.SBq),h.Y36(h.Qsj),h.Y36(vT,9))},n.\u0275dir=h.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),TM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[lM]]}),n})(),O1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[TM]}),n})(),P1=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:pT,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[TM]}),n})();function k1(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"div",3)(1,"h1"),h._uU(2,"Configurar novo quiz:"),h.qZA(),h.TgZ(3,"div")(4,"label"),h._uU(5,"Quantidade de perguntas:"),h.qZA(),h.TgZ(6,"select",4,5)(8,"option",6),h._uU(9,"1"),h.qZA(),h.TgZ(10,"option",7),h._uU(11,"2"),h.qZA(),h.TgZ(12,"option",8),h._uU(13,"3"),h.qZA(),h.TgZ(14,"option",9),h._uU(15,"4"),h.qZA(),h.TgZ(16,"option",10),h._uU(17,"5"),h.qZA(),h.TgZ(18,"option",11),h._uU(19,"6"),h.qZA(),h.TgZ(20,"option",12),h._uU(21,"7"),h.qZA(),h.TgZ(22,"option",13),h._uU(23,"8"),h.qZA(),h.TgZ(24,"option",14),h._uU(25,"9"),h.qZA(),h.TgZ(26,"option",15),h._uU(27,"10"),h.qZA()()(),h.TgZ(28,"div")(29,"label"),h._uU(30,"N\xfamero de respostas para cada pergunta:"),h.qZA(),h.TgZ(31,"select",16,17)(33,"option",6),h._uU(34,"1"),h.qZA(),h.TgZ(35,"option",7),h._uU(36,"2"),h.qZA(),h.TgZ(37,"option",8),h._uU(38,"3"),h.qZA(),h.TgZ(39,"option",9),h._uU(40,"4"),h.qZA(),h.TgZ(41,"option",10),h._uU(42,"5"),h.qZA()()(),h.TgZ(43,"div")(44,"button",18),h.NdJ("click",function(){h.CHM(t);const o=h.MAs(7),u=h.MAs(32);return h.oxw().saveConfig(o.value,u.value)}),h._uU(45,"Confirmar"),h.qZA()()()}}function F1(n,e){if(1&n&&(h.TgZ(0,"div")(1,"p"),h._UZ(2,"input",25),h._uU(3,"\xa0"),h._UZ(4,"input",26),h.qZA()()),2&n){const t=e.index,r=h.oxw().index;h.xp6(4),h.hYB("id","answer",r,"",t,"")}}function L1(n,e){if(1&n&&(h.TgZ(0,"option",27),h._uU(1),h.qZA()),2&n){const t=e.index;h.s9C("value",t),h.xp6(1),h.Oqu(t+1)}}const wT=function(){return[]};function V1(n,e){if(1&n&&(h.TgZ(0,"div")(1,"div")(2,"p"),h._UZ(3,"input",22),h.qZA()(),h.YNc(4,F1,5,2,"div",20),h.TgZ(5,"div")(6,"p"),h._uU(7,"Resposta correta:"),h.qZA(),h.TgZ(8,"p")(9,"select",23),h.YNc(10,L1,2,2,"option",24),h.qZA()()(),h._UZ(11,"hr"),h.qZA()),2&n){const t=e.index,r=h.oxw(2);h.xp6(3),h.MGl("id","enunciate",t,""),h.xp6(1),h.Q6J("ngForOf",h.DdM(4,wT).constructor(r.configuration.answers)),h.xp6(5),h.MGl("id","correct",t,""),h.xp6(1),h.Q6J("ngForOf",h.DdM(5,wT).constructor(r.configuration.answers))}}function U1(n,e){1&n&&(h.TgZ(0,"div",28)(1,"span",29),h._uU(2,"Quiz criado com sucesso!"),h.qZA()())}function B1(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"div",19)(1,"p"),h._uU(2,"Configura\xe7\xf5es:"),h.qZA(),h.TgZ(3,"p"),h._uU(4),h.qZA(),h.TgZ(5,"p"),h._uU(6),h.qZA(),h.YNc(7,V1,12,6,"div",20),h.YNc(8,U1,3,0,"div",21),h.TgZ(9,"div")(10,"button",18),h.NdJ("click",function(){return h.CHM(t),h.oxw().createQuiz()}),h._uU(11,"Criar!"),h.qZA()()()}if(2&n){const t=h.oxw();h.xp6(4),h.hij("",t.configuration.questions," quest\xf5es."),h.xp6(2),h.hij("",t.configuration.answers," respostas."),h.xp6(1),h.Q6J("ngForOf",h.DdM(4,wT).constructor(t.configuration.questions)),h.xp6(1),h.Q6J("ngIf",t.sucess)}}let j1=(()=>{class n{constructor(t){this.quizService=t,this.configuration={questions:0,answers:0},this.quiz=[],this.showConfigQuiz=!0,this.showCreateQuiz=!1,this.sucess=!1}ngOnInit(){}saveConfig(t,r){let o=parseInt(t),u=parseInt(r);this.configuration={questions:o,answers:u};for(let d=0;d<o;d++)this.quiz.push({enunciation:"",correct:0,answers:[].constructor(u)});this.showConfigQuiz=!1,this.showCreateQuiz=!0}createQuiz(){var t=this;return(0,ve.Z)(function*(){for(let r=0;r<t.quiz.length;r++){const o=document.getElementById(`enunciate${r}`);t.quiz[r].enunciation=null==o?void 0:o.value;const d=document.getElementById(`correct${r}`);t.quiz[r].correct=null==d?void 0:d.value;for(let E=0;E<t.configuration.answers;E++){const C=document.getElementById(`answer${r}${E}`);t.quiz[r].answers[E]=null==C?void 0:C.value}}yield t.quizService.createQuiz(t.quiz,t.configuration.questions,t.configuration.answers),t.sucess=!0,setTimeout(()=>{t.sucess=!1},3e3)})()}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(QC))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-edit-quiz"]],decls:3,vars:2,consts:[[1,"container"],["aria-label","config_quiz",4,"ngIf"],["aria-label","create_quiz",4,"ngIf"],["aria-label","config_quiz"],["name","questions","id","questions"],["questions",""],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["value","6"],["value","7"],["value","8"],["value","9"],["value","10"],["name","answers","id","answers"],["answers",""],[1,"btn",3,"click"],["aria-label","create_quiz"],[4,"ngFor","ngForOf"],["id","alertdiv",4,"ngIf"],["type","text","placeholder","pergunta",1,"effect-1",3,"id"],[3,"id"],[3,"value",4,"ngFor","ngForOf"],["type","radio","disabled",""],["type","text","placeholder","resposta",1,"effect-1",3,"id"],[3,"value"],["id","alertdiv"],["id","alert"]],template:function(t,r){1&t&&(h.TgZ(0,"div",0),h.YNc(1,k1,46,0,"div",1),h.YNc(2,B1,12,5,"div",2),h.qZA()),2&t&&(h.xp6(1),h.Q6J("ngIf",r.showConfigQuiz),h.xp6(1),h.Q6J("ngIf",r.showCreateQuiz))},directives:[hr,pM,mM,Rn],styles:[".container[_ngcontent-%COMP%]{margin-top:1rem}hr[_ngcontent-%COMP%]{height:1px;border:none;color:#333;background-color:#333}[_ngcontent-%COMP%]:focus{outline:none}input[type=text][_ngcontent-%COMP%]{font:15px/24px Lato,Arial,sans-serif;color:#333;box-sizing:border-box;letter-spacing:1px}.effect-1[_ngcontent-%COMP%]{border:0;padding:7px 0;border-bottom:1px solid #ccc}"]}),n})(),$1=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-index"]],decls:26,vars:0,consts:[["aria-label","introduction","id","introduction"],[1,"container"],["aria-label","WhoWeAre?","id","whoWeAre"],["id","projectImg","src","https://www.lonestarpark.com/wp-content/uploads/2019/04/image-placeholder-500x500.jpg"],["aria-label","trainings","id","trainings"],["href","#"]],template:function(t,r){1&t&&(h.TgZ(0,"div",0)(1,"div",1)(2,"h1"),h._uU(3,"Coisas sobre o projeto..."),h.qZA(),h.TgZ(4,"p"),h._uU(5,"(Achar alguma imagem de fundo melhor ou manter essa)"),h.qZA()()(),h._UZ(6,"br"),h.TgZ(7,"div",2)(8,"div",1)(9,"h1"),h._uU(10,"Quem somos?"),h.qZA(),h._UZ(11,"img",3),h.TgZ(12,"div")(13,"p"),h._uU(14,"Somos o projeto mais brabo dos brabos..."),h.qZA()()()(),h.TgZ(15,"div",4)(16,"div",1)(17,"h1"),h._uU(18,"Treinamentos"),h.qZA(),h.TgZ(19,"p"),h._uU(20,"Possuimos diversos treinamentos em rela\xe7\xe3o a prevencao..."),h.qZA(),h.TgZ(21,"p"),h._uU(22,"Lorem ipsum dolor sit amet, consectetur adipiscing elit. In sit amet massa in massa vehicula fermentum facilisis in quam. Ut tristique facilisis blandit. Suspendisse vehicula auctor nibh, in placerat quam. Nulla venenatis lorem a venenatis ornare. Curabitur feugiat, risus in mollis mattis, urna mauris ornare urna, nec laoreet magna orci ac elit. Nullam pharetra tincidunt neque, ut faucibus ligula dapibus vel. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aliquam iaculis nibh id mauris tempor, vel lacinia ipsum dapibus. Maecenas ac sem porttitor, accumsan urna a, molestie dui. Maecenas dignissim nunc imperdiet, tempus ipsum ac, maximus ipsum. Curabitur nibh libero, ultrices vitae metus eu, rutrum volutpat neque. In in tristique eros. "),h.qZA(),h.TgZ(23,"a",5),h._uU(24,"Clique aqui para se inscrever"),h.qZA()()(),h._UZ(25,"br"))},styles:["#introduction[_ngcontent-%COMP%]{background:url(indexBackground.0f71f398d4b336e4.jpg);background-size:cover;padding:180px 0;color:#fff}#projectImg[_ngcontent-%COMP%]{float:right;margin-bottom:2em;width:600px;height:200px;max-width:100%}@media only screen and (max-width: 600px){#projectImg[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto;margin-bottom:2em;width:600px;height:200px;max-width:100%}}"]}),n})();function H1(n,e){1&n&&(h.TgZ(0,"div",9)(1,"span",10),h._uU(2,"Nome inv\xe1lido!"),h.qZA()())}function G1(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"div")(1,"h1"),h._uU(2,"Bem vindo ao quiz da semana!"),h.qZA(),h.TgZ(3,"p"),h._uU(4," Visite esta p\xe1gina toda semana para responder as novas perguntas e concorra ao topo do ranking! "),h.qZA(),h.TgZ(5,"div",2),h._UZ(6,"input",3,4),h.TgZ(8,"label",5),h._uU(9,"Digite seu nome"),h.qZA()(),h.YNc(10,H1,3,0,"div",6),h.TgZ(11,"div",7)(12,"button",8),h.NdJ("click",function(){h.CHM(t);const o=h.MAs(7);return h.oxw().startQuiz(o.value)}),h._uU(13,"Iniciar!"),h.qZA()()()}if(2&n){const t=h.oxw();h.xp6(10),h.Q6J("ngIf",t.noName)}}function z1(n,e){1&n&&(h.TgZ(0,"div"),h._uU(1,"Carregando..."),h.qZA())}function q1(n,e){if(1&n&&(h.TgZ(0,"p"),h._UZ(1,"input",17),h._uU(2),h.qZA()),2&n){const t=e.index,r=h.oxw(),o=r.index,u=r.$implicit;h.xp6(1),h.s9C("name",o),h.s9C("value",t),h.s9C("formControlName",o),h.xp6(1),h.hij(" ",u.answers[t]," ")}}const W1=function(){return[]};function Z1(n,e){if(1&n&&(h.TgZ(0,"div",7)(1,"h3"),h._uU(2),h.qZA(),h.YNc(3,q1,3,4,"p",16),h.qZA()),2&n){const t=e.$implicit,r=e.index,o=h.oxw(3);h.xp6(2),h.Oqu(t.enunciation),h.xp6(1),h.Q6J("ngForOf",h.DdM(2,W1).constructor(o.questions[r].answers.length))}}function K1(n,e){1&n&&(h.TgZ(0,"div",9)(1,"span",10),h._uU(2,"Preencha todas as respostas!"),h.qZA()())}function Y1(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"form",13),h.NdJ("ngSubmit",function(){return h.CHM(t),h.oxw(2).submit()}),h.YNc(1,Z1,4,3,"div",14),h.TgZ(2,"div",7),h.YNc(3,K1,3,0,"div",6),h.TgZ(4,"button",15),h._uU(5,"Enviar"),h.qZA()()()}if(2&n){const t=h.oxw(2);h.Q6J("formGroup",t.form),h.xp6(1),h.Q6J("ngForOf",t.questions),h.xp6(2),h.Q6J("ngIf",t.noAnswer)}}function Q1(n,e){if(1&n&&(h.TgZ(0,"div"),h.YNc(1,z1,2,0,"div",11),h.YNc(2,Y1,6,3,"ng-template",null,12,h.W1O),h.qZA()),2&n){const t=h.MAs(3),r=h.oxw();h.xp6(1),h.Q6J("ngIf",r.loading)("ngIfElse",t)}}function J1(n,e){if(1&n&&(h.TgZ(0,"tr")(1,"td"),h._uU(2),h.qZA(),h.TgZ(3,"td"),h._uU(4," --\x3e "),h.qZA(),h.TgZ(5,"td"),h._uU(6),h.qZA()()),2&n){const t=e.$implicit,r=e.index;h.xp6(2),h.hij(" ",r+1," "),h.xp6(4),h.hij(" ",t.answer," ")}}function X1(n,e){if(1&n&&(h.TgZ(0,"div")(1,"p"),h._uU(2),h.qZA(),h.TgZ(3,"table",18)(4,"thead")(5,"tr")(6,"th",19),h._uU(7,"Corre\xe7\xe3o:"),h.qZA()()(),h.TgZ(8,"tbody"),h.YNc(9,J1,7,2,"tr",16),h.qZA()()()),2&n){const t=h.oxw();h.xp6(2),h.AsE("Parab\xe9ns ",t.name,", voc\xea fez ",t.points," pontos!"),h.xp6(7),h.Q6J("ngForOf",t.result)}}let eN=(()=>{class n{constructor(t){this.QuizService=t,this.noName=!1,this.showMenu=!0,this.showQuiz=!1,this.showScore=!1,this.result=[],this.points=0,this.name="",this.questions=[],this.answers=[],this.loading=!0,this.form=new LI({0:new It("",Tt.required),1:new It("",Tt.required),2:new It("",Tt.required),3:new It("",Tt.required),4:new It("",Tt.required),5:new It("",Tt.required),6:new It("",Tt.required),7:new It("",Tt.required),8:new It("",Tt.required),9:new It("",Tt.required),10:new It("",Tt.required),11:new It("",Tt.required),12:new It("",Tt.required),13:new It("",Tt.required),14:new It("",Tt.required),15:new It("",Tt.required),16:new It("",Tt.required),17:new It("",Tt.required),18:new It("",Tt.required),19:new It("",Tt.required),20:new It("",Tt.required),21:new It("",Tt.required),22:new It("",Tt.required),23:new It("",Tt.required),24:new It("",Tt.required),25:new It("",Tt.required),26:new It("",Tt.required),27:new It("",Tt.required),28:new It("",Tt.required),29:new It("",Tt.required),30:new It("",Tt.required),31:new It("",Tt.required),32:new It("",Tt.required),33:new It("",Tt.required),34:new It("",Tt.required),35:new It("",Tt.required),36:new It("",Tt.required),37:new It("",Tt.required),38:new It("",Tt.required),39:new It("",Tt.required),40:new It("",Tt.required),41:new It("",Tt.required),42:new It("",Tt.required),43:new It("",Tt.required),44:new It("",Tt.required),45:new It("",Tt.required),46:new It("",Tt.required),47:new It("",Tt.required),48:new It("",Tt.required),49:new It("",Tt.required),50:new It("",Tt.required)}),this.noAnswer=!1}ngOnInit(){}getQuestions(){var t=this;return(0,ve.Z)(function*(){t.questions=yield t.QuizService.getQuestions()})()}startQuiz(t){var r=this;return(0,ve.Z)(function*(){""!=t?(r.name=t,r.showMenu=!1,r.showQuiz=!0,yield r.getQuestions(),r.loading=!1):(r.noName=!0,setTimeout(()=>{r.noName=!1},3e3))})()}checkAnswers(){this.result=this.QuizService.checkAnswers(this.questions,this.answers),this.points=this.result[0].points,this.result.shift(),this.showQuiz=!1,this.showScore=!0,this.QuizService.updateRanking(this.name,this.points)}get f(){return this.form.controls}submit(){for(let t=0;t<this.questions.length;t++)if(this.answers[t]=this.form.value[t],""==this.form.value[t])return this.noAnswer=!0,void setTimeout(()=>{this.noAnswer=!1},3e3);this.checkAnswers()}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(QC))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-quiz"]],decls:6,vars:3,consts:[["id","quiz",1,"container"],[4,"ngIf"],[1,"form__group","field"],["type","input","placeholder","Digite seu nome","name","name","id","name","required","",1,"form__field"],["name",""],["for","name",1,"form__label"],["id","alertdiv",4,"ngIf"],[1,"centerText"],[1,"btn",3,"click"],["id","alertdiv"],["id","alert"],[4,"ngIf","ngIfElse"],["start",""],[3,"formGroup","ngSubmit"],["class","centerText",4,"ngFor","ngForOf"],["type","submit",1,"btn","btn-primary"],[4,"ngFor","ngForOf"],["type","radio",3,"name","value","formControlName"],[1,"table"],["colspan","3"]],template:function(t,r){1&t&&(h.TgZ(0,"div",0),h.YNc(1,G1,14,1,"div",1),h._UZ(2,"br"),h.YNc(3,Q1,4,2,"div",1),h._UZ(4,"br"),h.YNc(5,X1,10,3,"div",1),h.qZA()),2&t&&(h.xp6(1),h.Q6J("ngIf",r.showMenu),h.xp6(2),h.Q6J("ngIf",r.showQuiz),h.xp6(2),h.Q6J("ngIf",r.showScore))},directives:[hr,aM,zS,VI,Rn,fT,AI,GS,yT],styles:[".container[_ngcontent-%COMP%]{margin-top:1rem}.centerText[_ngcontent-%COMP%]{text-align:center}button[_ngcontent-%COMP%]{margin:1rem}.form__group[_ngcontent-%COMP%]{position:relative;padding:15px 0 0;margin-top:10px;width:50%}.form__field[_ngcontent-%COMP%]{font-family:inherit;width:100%;border:0;border-bottom:2px solid #9b9b9b;outline:0;font-size:1.3rem;color:#000;padding:7px 0;background:transparent;transition:border-color .2s}.form__field[_ngcontent-%COMP%]::placeholder{color:transparent}.form__field[_ngcontent-%COMP%]:placeholder-shown ~ .form__label[_ngcontent-%COMP%]{font-size:1.3rem;cursor:text;top:20px}.form__label[_ngcontent-%COMP%]{position:absolute;top:0;display:block;transition:.2s;font-size:1rem;color:#9b9b9b}.form__field[_ngcontent-%COMP%]:focus{padding-bottom:6px;font-weight:700;border-width:3px;border-image:linear-gradient(to right,#d15959,#ce1e1e);border-image-slice:1}.form__field[_ngcontent-%COMP%]:focus ~ .form__label[_ngcontent-%COMP%]{position:absolute;top:0;display:block;transition:.2s;font-size:1rem;color:#d15959;font-weight:700}.form__field[_ngcontent-%COMP%]:required, .form__field[_ngcontent-%COMP%]:invalid{box-shadow:none}"]}),n})();function tN(n,e){1&n&&(h.TgZ(0,"div"),h._uU(1,"Carregando..."),h.qZA())}function nN(n,e){if(1&n&&(h.TgZ(0,"tr")(1,"td")(2,"b"),h._uU(3),h.qZA()(),h.TgZ(4,"td"),h._uU(5),h.qZA(),h.TgZ(6,"td"),h._uU(7),h.qZA()()),2&n){const t=e.$implicit;h.xp6(3),h.Oqu(t.position),h.xp6(2),h.hij(" ",t.name," "),h.xp6(2),h.hij(" ",t.points," ")}}function rN(n,e){if(1&n&&(h.TgZ(0,"table",2)(1,"thead")(2,"tr")(3,"th"),h._uU(4," Posi\xe7\xe3o "),h.qZA(),h.TgZ(5,"th"),h._uU(6," Nome "),h.qZA(),h.TgZ(7,"th"),h._uU(8," Pontos "),h.qZA()()(),h.TgZ(9,"tbody"),h.YNc(10,nN,8,3,"tr",3),h.qZA()()),2&n){const t=h.oxw();h.xp6(10),h.Q6J("ngForOf",t.ranking)}}const iN=[{path:"",component:$1},{path:"quiz",component:eN},{path:"ranking",component:(()=>{class n{constructor(t){this.quizService=t,this.ranking=[],this.loading=!0}ngOnInit(){this.getRank()}getRank(){var t=this;return(0,ve.Z)(function*(){t.ranking=yield t.quizService.getRanking(),t.loading=!1})()}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(QC))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-ranking"]],decls:7,vars:2,consts:[[4,"ngIf","ngIfElse"],["showRanking",""],[1,"table","table-dark","table-striped","table-bordered"],[4,"ngFor","ngForOf"]],template:function(t,r){if(1&t&&(h.TgZ(0,"div")(1,"h1"),h._uU(2,"Ranking"),h.qZA(),h.YNc(3,tN,2,0,"div",0),h.YNc(4,rN,11,1,"ng-template",null,1,h.W1O),h.qZA(),h._UZ(6,"br")),2&t){const o=h.MAs(5);h.xp6(3),h.Q6J("ngIf",r.loading)("ngIfElse",o)}},directives:[hr,Rn],styles:["table[_ngcontent-%COMP%]{width:40%;margin-left:auto;margin-right:auto}div[_ngcontent-%COMP%]{margin-top:2rem;text-align:center}@media only screen and (max-width: 600px){table[_ngcontent-%COMP%]{width:90%;margin-left:auto;margin-right:auto}}"]}),n})()},{path:"editQuiz",component:j1}];let sN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[Kv.forRoot(iN)],Kv]}),n})(),oN=(()=>{class n{constructor(){this.title="SitePortal"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-root"]],decls:35,vars:0,consts:[["id","myTopnav",1,"topnav"],["href","#",1,"active"],["src","assets/logo.jpg","alt","Logo",1,"logo"],["routerLink","quiz"],["routerLink","ranking"],["routerLink","editQuiz"],["href","https://scratch.mit.edu/projects/535763887/fullscreen/"],["href","javascript:void(0);","onclick","openMenuBar()",1,"icon"],[1,"fa","fa-bars"],[1,"social"],["href","https://www.instagram.com/portal_prevencionista/"],[1,"icon","ion-social-instagram"],["href","https://twitter.com/PPrevencionista"],[1,"icon","ion-social-twitter"],[1,"list-inline"],[1,"list-inline-item"],["routerLink",""],["href","https://www.instagram.com/stories/highlights/17850548318518386/"],["href","https://www.instagram.com/stories/highlights/18080011273076020/"],[1,"copyright"]],template:function(t,r){1&t&&(h.TgZ(0,"header")(1,"div",0)(2,"a",1),h._UZ(3,"img",2),h.qZA(),h.TgZ(4,"a",3),h._uU(5,"Quiz"),h.qZA(),h.TgZ(6,"a",4),h._uU(7,"Ranking"),h.qZA(),h.TgZ(8,"a",5),h._uU(9,"EditQuiz"),h.qZA(),h.TgZ(10,"a",6),h._uU(11,"Jogo"),h.qZA(),h.TgZ(12,"a",7),h._UZ(13,"i",8),h.qZA()()(),h.TgZ(14,"div"),h._UZ(15,"router-outlet"),h.qZA(),h.TgZ(16,"footer"),h._UZ(17,"br"),h.TgZ(18,"div",9)(19,"a",10),h._UZ(20,"i",11),h.qZA(),h.TgZ(21,"a",12),h._UZ(22,"i",13),h.qZA()(),h.TgZ(23,"ul",14)(24,"li",15)(25,"a",16),h._uU(26,"Home"),h.qZA()(),h.TgZ(27,"li",15)(28,"a",17),h._uU(29,"Quem somos?"),h.qZA()(),h.TgZ(30,"li",15)(31,"a",18),h._uU(32,"Treinamentos"),h.qZA()()(),h.TgZ(33,"p",19),h._uU(34,"Portal_prevencionista / 2022"),h.qZA()())},directives:[_p,al],styles:["header[_ngcontent-%COMP%]{top:0;left:0;right:0;align-items:center;background-color:#fff;font-weight:600;box-shadow:#0000003d 0 3px 8px}.topnav[_ngcontent-%COMP%]{overflow:hidden}.topnav[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{display:none}.topnav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:0 1em 1em 0;color:#000}.topnav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:none}.topnav[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:auto}@media screen and (max-width: 500px){.topnav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding-left:1em}.topnav[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{padding-left:0}.topnav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:not(:first-child){display:none}.topnav[_ngcontent-%COMP%]   a.icon[_ngcontent-%COMP%]{float:right;display:block;padding:8% 1em;font-size:1.5em}.topnav[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:25%;height:auto}}@media screen and (max-width: 500px){.topnav.responsive[_ngcontent-%COMP%]{position:relative}.topnav.responsive[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{position:absolute;right:0;top:0}.topnav.responsive[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{float:none;display:block;text-align:left}.topnav.responsive[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:26.1%}}footer[_ngcontent-%COMP%]{background-color:#2e2c32;color:#fff;align-items:center;font-weight:600;position:absolute;bottom:0;width:100%;height:auto}footer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:0;list-style:none;text-align:center;font-size:18px;line-height:1.6;margin-bottom:0}footer[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:0 10px}footer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:inherit;text-decoration:none;opacity:.8}footer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{opacity:1}footer[_ngcontent-%COMP%]   .social[_ngcontent-%COMP%]{text-align:center;padding-bottom:25px}footer[_ngcontent-%COMP%]   .social[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{font-size:24px;width:40px;height:40px;line-height:40px;display:inline-block;text-align:center;border-radius:50%;border:1px solid #ccc;margin:0 8px;color:inherit;opacity:.75}footer[_ngcontent-%COMP%]   .social[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:hover{opacity:.9}footer[_ngcontent-%COMP%]   .copyright[_ngcontent-%COMP%]{margin-top:15px;text-align:center;font-size:13px;color:#aaa;margin-bottom:0}"]}),n})();const IT_firebase={projectId:"siteportal157",appId:"1:707661137178:web:ecf440a6a9a9e56cdbd8a3",databaseURL:"https://siteportal157-default-rtdb.firebaseio.com",storageBucket:"siteportal157.appspot.com",apiKey:"AIzaSyBMFGAx-UYEyV4gFB970SlR6LfV1R9VFqo",authDomain:"siteportal157.firebaseapp.com",messagingSenderId:"707661137178",measurementId:"G-G9J3YSL6QZ"};O(198);class SM{constructor(){return(0,wn.vb)("auth")}}class CT{constructor(e){return e}}const MM="firestore",TT=new h.OlP("angularfire2.firestore-instances");function hN(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new CT(r)}}const fN={provide:class cN{constructor(){return(0,wn.vb)(MM)}},deps:[[new h.FiY,TT]]},pN={provide:CT,useFactory:function dN(n,e){const t=(0,wn.JM)(MM,n,e);return t&&new CT(t)},deps:[[new h.FiY,TT],am]};let gN=(()=>{class n{constructor(){(0,Bf.KN)("angularfire",wn.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[pN,fN]}),n})();function mN(n,...e){return{ngModule:gN,providers:[{provide:TT,useFactory:hN(n),multi:!0,deps:[h.R0b,h.zs3,wn.HU,FA,[new h.FiY,SM],[new h.FiY,CI],...e]}]}}const yN=(0,wn.u3)(yt,!0);let _N=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n,bootstrap:[oN]}),n.\u0275inj=h.cJS({providers:[],imports:[[Gu,O1,P1,sN,us.hO.initializeApp(IT_firebase),kx(()=>Fx(IT_firebase)),mN(()=>yN())]]}),n})();(0,h.G48)(),gc().bootstrapModule(_N).catch(n=>console.error(n))},5867:(nt,be,O)=>{O.d(be,{C6:()=>h.getApps,KN:()=>h.registerVersion,Mq:()=>h.getApp,ZF:()=>h.initializeApp});var h=O(9681);(0,h.registerVersion)("firebase","9.8.1","app")},127:(nt,be,O)=>{O.d(be,{Z:()=>h.Z});var h=O(3942);h.Z.registerVersion("firebase","9.8.1","app-compat")},5881:(nt,be,O)=>{O.r(be);var h=O(5861),L=O(3942),R=O(198),se=O(2090),de=(O(9681),O(1877),O(4859));function ae(){return window}function U(){return(U=(0,h.Z)(function*(ue,q,G){var Te;const{BuildInfo:Ye}=ae();(0,R.aq)(q.sessionId,"AuthEvent did not contain a session ID");const at=yield Ce(q.sessionId),St={};return(0,R.ar)()?St.ibi=Ye.packageName:(0,R.as)()?St.apn=Ye.packageName:(0,R.at)(ue,"operation-not-supported-in-this-environment"),Ye.displayName&&(St.appDisplayName=Ye.displayName),St.sessionId=at,(0,R.au)(ue,G,q.type,void 0,null!==(Te=q.eventId)&&void 0!==Te?Te:void 0,St)})).apply(this,arguments)}function We(){return(We=(0,h.Z)(function*(ue){const{BuildInfo:q}=ae(),G={};(0,R.ar)()?G.iosBundleId=q.packageName:(0,R.as)()?G.androidPackageName=q.packageName:(0,R.at)(ue,"operation-not-supported-in-this-environment"),yield(0,R.av)(ue,G)})).apply(this,arguments)}function je(){return(je=(0,h.Z)(function*(ue,q,G){const{cordova:Te}=ae();let Ye=()=>{};try{yield new Promise((at,St)=>{let zt=null;function kt(){var Ft;at();const wr=null===(Ft=Te.plugins.browsertab)||void 0===Ft?void 0:Ft.close;"function"==typeof wr&&wr(),"function"==typeof(null==G?void 0:G.close)&&G.close()}function Vn(){zt||(zt=window.setTimeout(()=>{St((0,R.aw)(ue,"redirect-cancelled-by-user"))},2e3))}function zr(){"visible"===(null==document?void 0:document.visibilityState)&&Vn()}q.addPassiveListener(kt),document.addEventListener("resume",Vn,!1),(0,R.as)()&&document.addEventListener("visibilitychange",zr,!1),Ye=()=>{q.removePassiveListener(kt),document.removeEventListener("resume",Vn,!1),document.removeEventListener("visibilitychange",zr,!1),zt&&window.clearTimeout(zt)}})}finally{Ye()}})).apply(this,arguments)}function Ce(ue){return qe.apply(this,arguments)}function qe(){return(qe=(0,h.Z)(function*(ue){const q=Ge(ue),G=yield crypto.subtle.digest("SHA-256",q);return Array.from(new Uint8Array(G)).map(Ye=>Ye.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Ge(ue){if((0,R.aq)(/[0-9a-zA-Z]+/.test(ue),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(ue);const q=new ArrayBuffer(ue.length),G=new Uint8Array(q);for(let Te=0;Te<ue.length;Te++)G[Te]=ue.charCodeAt(Te);return G}class Me extends R.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(q=>{this.resolveInialized=q})}addPassiveListener(q){this.passiveListeners.add(q)}removePassiveListener(q){this.passiveListeners.delete(q)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(q){return this.resolveInialized(),this.passiveListeners.forEach(G=>G(q)),super.onEvent(q)}initialized(){var q=this;return(0,h.Z)(function*(){yield q.initPromise})()}}function X(ue){return ce.apply(this,arguments)}function ce(){return(ce=(0,h.Z)(function*(ue){const q=yield ee()._get(ie(ue));return q&&(yield ee()._remove(ie(ue))),q})).apply(this,arguments)}function Z(){const ue=[],q="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let G=0;G<20;G++){const Te=Math.floor(Math.random()*q.length);ue.push(q.charAt(Te))}return ue.join("")}function ee(){return(0,R.ay)(R.b)}function ie(ue){return(0,R.az)("authEvent",ue.config.apiKey,ue.name)}function Le(ue){if(!(null==ue?void 0:ue.includes("?")))return{};const[q,...G]=ue.split("?");return(0,se.zd)(G.join("?"))}function Ke(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,R.aw)("no-auth-event")}}function Ut(){var ue;return(null===(ue=null==self?void 0:self.location)||void 0===ue?void 0:ue.protocol)||null}function vn(ue=(0,se.z$)()){return!("file:"!==Ut()&&"ionic:"!==Ut()||!ue.toLowerCase().match(/iphone|ipad|ipod|android/))}function ni(){try{const ue=self.localStorage,q=R.aI();if(ue)return ue.setItem(q,"1"),ue.removeItem(q),!function Ti(ue=(0,se.z$)()){return function vr(){return(0,se.w1)()&&11===(null==document?void 0:document.documentMode)}()||function In(ue=(0,se.z$)()){return/Edge\/\d+/.test(ue)}(ue)}()||(0,se.hl)()}catch(ue){return fi()&&(0,se.hl)()}return!1}function fi(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Bn(){return(function Zt(){return"http:"===Ut()||"https:"===Ut()}()||(0,se.ru)()||vn())&&!function Ci(){return(0,se.b$)()||(0,se.UG)()}()&&ni()&&!fi()}function Ai(){return vn()&&"undefined"!=typeof document}function Rr(){return(Rr=(0,h.Z)(function*(){return!!Ai()&&new Promise(ue=>{const q=setTimeout(()=>{ue(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(q),ue(!0)})})})).apply(this,arguments)}const Kt={LOCAL:"local",NONE:"none",SESSION:"session"},Er=R.ax,tr="persistence";function En(ue){return nr.apply(this,arguments)}function nr(){return(nr=(0,h.Z)(function*(ue){yield ue._initializationPromise;const q=Gt(),G=R.az(tr,ue.config.apiKey,ue.name);q&&q.setItem(G,ue._getPersistence())})).apply(this,arguments)}function Gt(){var ue;try{return(null===(ue=function gn(){return"undefined"!=typeof window?window:null}())||void 0===ue?void 0:ue.sessionStorage)||null}catch(q){return null}}const lt=R.ax;class rt{constructor(){this.browserResolver=R.ay(R.k),this.cordovaResolver=R.ay(class Wt{constructor(){this._redirectPersistence=R.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=R.aB,this._overrideRedirectResult=R.aC}_initialize(q){var G=this;return(0,h.Z)(function*(){const Te=q._key();let Ye=G.eventManagers.get(Te);return Ye||(Ye=new Me(q),G.eventManagers.set(Te,Ye),G.attachCallbackListeners(q,Ye)),Ye})()}_openPopup(q){(0,R.at)(q,"operation-not-supported-in-this-environment")}_openRedirect(q,G,Te,Ye){var at=this;return(0,h.Z)(function*(){!function pe(ue){var q,G,Te,Ye,at,St,zt,kt,Vn,zr;const Ft=ae();(0,R.ax)("function"==typeof(null===(q=null==Ft?void 0:Ft.universalLinks)||void 0===q?void 0:q.subscribe),ue,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,R.ax)(void 0!==(null===(G=null==Ft?void 0:Ft.BuildInfo)||void 0===G?void 0:G.packageName),ue,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,R.ax)("function"==typeof(null===(at=null===(Ye=null===(Te=null==Ft?void 0:Ft.cordova)||void 0===Te?void 0:Te.plugins)||void 0===Ye?void 0:Ye.browsertab)||void 0===at?void 0:at.openUrl),ue,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,R.ax)("function"==typeof(null===(kt=null===(zt=null===(St=null==Ft?void 0:Ft.cordova)||void 0===St?void 0:St.plugins)||void 0===zt?void 0:zt.browsertab)||void 0===kt?void 0:kt.isAvailable),ue,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,R.ax)("function"==typeof(null===(zr=null===(Vn=null==Ft?void 0:Ft.cordova)||void 0===Vn?void 0:Vn.InAppBrowser)||void 0===zr?void 0:zr.open),ue,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(q);const St=yield at._initialize(q);yield St.initialized(),St.resetRedirect(),(0,R.aD)(),yield at._originValidation(q);const zt=function Ie(ue,q,G=null){return{type:q,eventId:G,urlResponse:null,sessionId:Z(),postBody:null,tenantId:ue.tenantId,error:(0,R.aw)(ue,"no-auth-event")}}(q,Te,Ye);yield function Ze(ue,q){return ee()._set(ie(ue),q)}(q,zt);const kt=yield function $(ue,q,G){return U.apply(this,arguments)}(q,zt,G),Vn=yield function Ae(ue){const{cordova:q}=ae();return new Promise(G=>{q.plugins.browsertab.isAvailable(Te=>{let Ye=null;Te?q.plugins.browsertab.openUrl(ue):Ye=q.InAppBrowser.open(ue,(0,R.ap)()?"_blank":"_system","location=yes"),G(Ye)})})}(kt);return function ke(ue,q,G){return je.apply(this,arguments)}(q,St,Vn)})()}_isIframeWebStorageSupported(q,G){throw new Error("Method not implemented.")}_originValidation(q){const G=q._key();return this.originValidationPromises[G]||(this.originValidationPromises[G]=function re(ue){return We.apply(this,arguments)}(q)),this.originValidationPromises[G]}attachCallbackListeners(q,G){const{universalLinks:Te,handleOpenURL:Ye,BuildInfo:at}=ae(),St=setTimeout((0,h.Z)(function*(){yield X(q),G.onEvent(Ke())}),500),zt=function(){var zr=(0,h.Z)(function*(Ft){clearTimeout(St);const wr=yield X(q);let Mi=null;wr&&(null==Ft?void 0:Ft.url)&&(Mi=function De(ue,q){var G,Te;const Ye=function le(ue){const q=Le(ue),G=q.link?decodeURIComponent(q.link):void 0,Te=Le(G).link,Ye=q.deep_link_id?decodeURIComponent(q.deep_link_id):void 0;return Le(Ye).link||Ye||Te||G||ue}(q);if(Ye.includes("/__/auth/callback")){const at=Le(Ye),St=at.firebaseError?function _e(ue){try{return JSON.parse(ue)}catch(q){return null}}(decodeURIComponent(at.firebaseError)):null,zt=null===(Te=null===(G=null==St?void 0:St.code)||void 0===G?void 0:G.split("auth/"))||void 0===Te?void 0:Te[1],kt=zt?(0,R.aw)(zt):null;return kt?{type:ue.type,eventId:ue.eventId,tenantId:ue.tenantId,error:kt,urlResponse:null,sessionId:null,postBody:null}:{type:ue.type,eventId:ue.eventId,tenantId:ue.tenantId,sessionId:ue.sessionId,urlResponse:Ye,postBody:null}}return null}(wr,Ft.url)),G.onEvent(Mi||Ke())});return function(wr){return zr.apply(this,arguments)}}();void 0!==Te&&"function"==typeof Te.subscribe&&Te.subscribe(null,zt);const kt=Ye,Vn=`${at.packageName.toLowerCase()}://`;ae().handleOpenURL=function(){var zr=(0,h.Z)(function*(Ft){if(Ft.toLowerCase().startsWith(Vn)&&zt({url:Ft}),"function"==typeof kt)try{kt(Ft)}catch(wr){console.error(wr)}});return function(Ft){return zr.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=R.a,this._completeRedirectFn=R.aB,this._overrideRedirectResult=R.aC}_initialize(q){var G=this;return(0,h.Z)(function*(){return yield G.selectUnderlyingResolver(),G.assertedUnderlyingResolver._initialize(q)})()}_openPopup(q,G,Te,Ye){var at=this;return(0,h.Z)(function*(){return yield at.selectUnderlyingResolver(),at.assertedUnderlyingResolver._openPopup(q,G,Te,Ye)})()}_openRedirect(q,G,Te,Ye){var at=this;return(0,h.Z)(function*(){return yield at.selectUnderlyingResolver(),at.assertedUnderlyingResolver._openRedirect(q,G,Te,Ye)})()}_isIframeWebStorageSupported(q,G){this.assertedUnderlyingResolver._isIframeWebStorageSupported(q,G)}_originValidation(q){return this.assertedUnderlyingResolver._originValidation(q)}get _shouldInitProactively(){return Ai()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return lt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var q=this;return(0,h.Z)(function*(){if(q.underlyingResolver)return;const G=yield function ht(){return Rr.apply(this,arguments)}();q.underlyingResolver=G?q.cordovaResolver:q.browserResolver})()}}function ri(ue){return ue.unwrap()}function Bt(ue){return Mn(ue)}function Mn(ue){const{_tokenResponse:q}=ue instanceof se.ZR?ue.customData:ue;if(!q)return null;if(!(ue instanceof se.ZR)&&"temporaryProof"in q&&"phoneNumber"in q)return R.P.credentialFromResult(ue);const G=q.providerId;if(!G||G===R.o.PASSWORD)return null;let Te;switch(G){case R.o.GOOGLE:Te=R.Q;break;case R.o.FACEBOOK:Te=R.N;break;case R.o.GITHUB:Te=R.T;break;case R.o.TWITTER:Te=R.W;break;default:const{oauthIdToken:Ye,oauthAccessToken:at,oauthTokenSecret:St,pendingToken:zt,nonce:kt}=q;return at||St||Ye||zt?zt?G.startsWith("saml.")?R.aL._create(G,zt):R.J._fromParams({providerId:G,signInMethod:G,pendingToken:zt,idToken:Ye,accessToken:at}):new R.U(G).credential({idToken:Ye,accessToken:at,rawNonce:kt}):null}return ue instanceof se.ZR?Te.credentialFromError(ue):Te.credentialFromResult(ue)}function an(ue,q){return q.catch(G=>{throw G instanceof se.ZR&&function Si(ue,q){var G;const Te=null===(G=q.customData)||void 0===G?void 0:G._tokenResponse;if("auth/multi-factor-auth-required"===q.code)q.resolver=new z(ue,R.an(ue,q));else if(Te){const Ye=Mn(q),at=q;Ye&&(at.credential=Ye,at.tenantId=Te.tenantId||void 0,at.email=Te.email||void 0,at.phoneNumber=Te.phoneNumber||void 0)}}(ue,G),G}).then(G=>{const Ye=G.user;return{operationType:G.operationType,credential:Bt(G),additionalUserInfo:R.al(G),user:Ee.getOrCreate(Ye)}})}function V(ue,q){return H.apply(this,arguments)}function H(){return(H=(0,h.Z)(function*(ue,q){const G=yield q;return{verificationId:G.verificationId,confirm:Te=>an(ue,G.confirm(Te))}})).apply(this,arguments)}class z{constructor(q,G){this.resolver=G,this.auth=function ii(ue){return ue.wrapped()}(q)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(q){return an(ri(this.auth),this.resolver.resolveSignIn(q))}}class Ee{constructor(q){this._delegate=q,this.multiFactor=R.ao(q)}static getOrCreate(q){return Ee.USER_MAP.has(q)||Ee.USER_MAP.set(q,new Ee(q)),Ee.USER_MAP.get(q)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(q){return this._delegate.getIdTokenResult(q)}getIdToken(q){return this._delegate.getIdToken(q)}linkAndRetrieveDataWithCredential(q){return this.linkWithCredential(q)}linkWithCredential(q){var G=this;return(0,h.Z)(function*(){return an(G.auth,R.Z(G._delegate,q))})()}linkWithPhoneNumber(q,G){var Te=this;return(0,h.Z)(function*(){return V(Te.auth,R.l(Te._delegate,q,G))})()}linkWithPopup(q){var G=this;return(0,h.Z)(function*(){return an(G.auth,R.d(G._delegate,q,rt))})()}linkWithRedirect(q){var G=this;return(0,h.Z)(function*(){return yield En(R.aE(G.auth)),R.g(G._delegate,q,rt)})()}reauthenticateAndRetrieveDataWithCredential(q){return this.reauthenticateWithCredential(q)}reauthenticateWithCredential(q){var G=this;return(0,h.Z)(function*(){return an(G.auth,R._(G._delegate,q))})()}reauthenticateWithPhoneNumber(q,G){return V(this.auth,R.r(this._delegate,q,G))}reauthenticateWithPopup(q){return an(this.auth,R.e(this._delegate,q,rt))}reauthenticateWithRedirect(q){var G=this;return(0,h.Z)(function*(){return yield En(R.aE(G.auth)),R.h(G._delegate,q,rt)})()}sendEmailVerification(q){return R.ab(this._delegate,q)}unlink(q){var G=this;return(0,h.Z)(function*(){return yield R.ak(G._delegate,q),G})()}updateEmail(q){return R.ag(this._delegate,q)}updatePassword(q){return R.ah(this._delegate,q)}updatePhoneNumber(q){return R.u(this._delegate,q)}updateProfile(q){return R.af(this._delegate,q)}verifyBeforeUpdateEmail(q,G){return R.ac(this._delegate,q,G)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ee.USER_MAP=new WeakMap;const B=R.ax;let Q=(()=>{class ue{constructor(G,Te){if(this.app=G,Te.isInitialized())return this._delegate=Te.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Ye}=G.options;B(Ye,"invalid-api-key",{appName:G.name}),B(Ye,"invalid-api-key",{appName:G.name});const at="undefined"!=typeof window?rt:void 0;this._delegate=Te.initialize({options:{persistence:et(Ye,G.name),popupRedirectResolver:at}}),this._delegate._updateErrorMap(R.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ee.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(G){this._delegate.languageCode=G}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(G){this._delegate.tenantId=G}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(G,Te){R.G(this._delegate,G,Te)}applyActionCode(G){return R.a2(this._delegate,G)}checkActionCode(G){return R.a3(this._delegate,G)}confirmPasswordReset(G,Te){return R.a1(this._delegate,G,Te)}createUserWithEmailAndPassword(G,Te){var Ye=this;return(0,h.Z)(function*(){return an(Ye._delegate,R.a5(Ye._delegate,G,Te))})()}fetchProvidersForEmail(G){return this.fetchSignInMethodsForEmail(G)}fetchSignInMethodsForEmail(G){return R.aa(this._delegate,G)}isSignInWithEmailLink(G){return R.a8(this._delegate,G)}getRedirectResult(){var G=this;return(0,h.Z)(function*(){B(Bn(),G._delegate,"operation-not-supported-in-this-environment");const Te=yield R.j(G._delegate,rt);return Te?an(G._delegate,Promise.resolve(Te)):{credential:null,user:null}})()}addFrameworkForLogging(G){!function on(ue,q){(0,R.aE)(ue)._logFramework(q)}(this._delegate,G)}onAuthStateChanged(G,Te,Ye){const{next:at,error:St,complete:zt}=Oe(G,Te,Ye);return this._delegate.onAuthStateChanged(at,St,zt)}onIdTokenChanged(G,Te,Ye){const{next:at,error:St,complete:zt}=Oe(G,Te,Ye);return this._delegate.onIdTokenChanged(at,St,zt)}sendSignInLinkToEmail(G,Te){return R.a7(this._delegate,G,Te)}sendPasswordResetEmail(G,Te){return R.a0(this._delegate,G,Te||void 0)}setPersistence(G){var Te=this;return(0,h.Z)(function*(){let Ye;switch(function Nr(ue,q){Er(Object.values(Kt).includes(q),ue,"invalid-persistence-type"),(0,se.b$)()?Er(q!==Kt.SESSION,ue,"unsupported-persistence-type"):(0,se.UG)()?Er(q===Kt.NONE,ue,"unsupported-persistence-type"):fi()?Er(q===Kt.NONE||q===Kt.LOCAL&&(0,se.hl)(),ue,"unsupported-persistence-type"):Er(q===Kt.NONE||ni(),ue,"unsupported-persistence-type")}(Te._delegate,G),G){case Kt.SESSION:Ye=R.a;break;case Kt.LOCAL:Ye=(yield R.ay(R.i)._isAvailable())?R.i:R.b;break;case Kt.NONE:Ye=R.L;break;default:return R.at("argument-error",{appName:Te._delegate.name})}return Te._delegate.setPersistence(Ye)})()}signInAndRetrieveDataWithCredential(G){return this.signInWithCredential(G)}signInAnonymously(){return an(this._delegate,R.X(this._delegate))}signInWithCredential(G){return an(this._delegate,R.Y(this._delegate,G))}signInWithCustomToken(G){return an(this._delegate,R.$(this._delegate,G))}signInWithEmailAndPassword(G,Te){return an(this._delegate,R.a6(this._delegate,G,Te))}signInWithEmailLink(G,Te){return an(this._delegate,R.a9(this._delegate,G,Te))}signInWithPhoneNumber(G,Te){return V(this._delegate,R.s(this._delegate,G,Te))}signInWithPopup(G){var Te=this;return(0,h.Z)(function*(){return B(Bn(),Te._delegate,"operation-not-supported-in-this-environment"),an(Te._delegate,R.c(Te._delegate,G,rt))})()}signInWithRedirect(G){var Te=this;return(0,h.Z)(function*(){return B(Bn(),Te._delegate,"operation-not-supported-in-this-environment"),yield En(Te._delegate),R.f(Te._delegate,G,rt)})()}updateCurrentUser(G){return this._delegate.updateCurrentUser(G)}verifyPasswordResetCode(G){return R.a4(this._delegate,G)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return ue.Persistence=Kt,ue})();function Oe(ue,q,G){let Te=ue;"function"!=typeof ue&&({next:Te,error:q,complete:G}=ue);const Ye=Te;return{next:St=>Ye(St&&Ee.getOrCreate(St)),error:q,complete:G}}function et(ue,q){const G=function Es(ue,q){const G=Gt();if(!G)return[];const Te=R.az(tr,ue,q);switch(G.getItem(Te)){case Kt.NONE:return[R.L];case Kt.LOCAL:return[R.i,R.a];case Kt.SESSION:return[R.a];default:return[]}}(ue,q);if("undefined"!=typeof self&&!G.includes(R.i)&&G.push(R.i),"undefined"!=typeof window)for(const Te of[R.b,R.a])G.includes(Te)||G.push(Te);return G.includes(R.L)||G.push(R.L),G}class dt{constructor(){this.providerId="phone",this._delegate=new R.P(ri(L.Z.auth()))}static credential(q,G){return R.P.credential(q,G)}verifyPhoneNumber(q,G){return this._delegate.verifyPhoneNumber(q,G)}unwrap(){return this._delegate}}dt.PHONE_SIGN_IN_METHOD=R.P.PHONE_SIGN_IN_METHOD,dt.PROVIDER_ID=R.P.PROVIDER_ID;const Mt=R.ax;class nn{constructor(q,G,Te=L.Z.app()){var Ye;Mt(null===(Ye=Te.options)||void 0===Ye?void 0:Ye.apiKey,"invalid-api-key",{appName:Te.name}),this._delegate=new R.R(q,G,Te.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function jn(ue){ue.INTERNAL.registerComponent(new de.wA("auth-compat",q=>{const G=q.getProvider("app-compat").getImmediate(),Te=q.getProvider("auth");return new Q(G,Te)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:R.A.EMAIL_SIGNIN,PASSWORD_RESET:R.A.PASSWORD_RESET,RECOVER_EMAIL:R.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:R.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:R.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:R.A.VERIFY_EMAIL}},EmailAuthProvider:R.M,FacebookAuthProvider:R.N,GithubAuthProvider:R.T,GoogleAuthProvider:R.Q,OAuthProvider:R.U,SAMLAuthProvider:R.V,PhoneAuthProvider:dt,PhoneMultiFactorGenerator:R.m,RecaptchaVerifier:nn,TwitterAuthProvider:R.W,Auth:Q,AuthCredential:R.H,Error:se.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),ue.registerVersion("@firebase/auth-compat","0.2.14")}(L.Z)},8306:(nt,be,O)=>{O.d(be,{y:()=>$});var h=O(2961),L=O(727),R=O(8822),se=O(4671);var de=O(2416),ae=O(576),me=O(2806);let $=(()=>{class Ae{constructor(je){je&&(this._subscribe=je)}lift(je){const pe=new Ae;return pe.source=this,pe.operator=je,pe}subscribe(je,pe,Ce){const qe=function We(Ae){return Ae&&Ae instanceof h.Lv||function re(Ae){return Ae&&(0,ae.m)(Ae.next)&&(0,ae.m)(Ae.error)&&(0,ae.m)(Ae.complete)}(Ae)&&(0,L.Nn)(Ae)}(je)?je:new h.Hp(je,pe,Ce);return(0,me.x)(()=>{const{operator:Ge,source:Se}=this;qe.add(Ge?Ge.call(qe,Se):Se?this._subscribe(qe):this._trySubscribe(qe))}),qe}_trySubscribe(je){try{return this._subscribe(je)}catch(pe){je.error(pe)}}forEach(je,pe){return new(pe=U(pe))((Ce,qe)=>{const Ge=new h.Hp({next:Se=>{try{je(Se)}catch(Me){qe(Me),Ge.unsubscribe()}},error:qe,complete:Ce});this.subscribe(Ge)})}_subscribe(je){var pe;return null===(pe=this.source)||void 0===pe?void 0:pe.subscribe(je)}[R.L](){return this}pipe(...je){return function ge(Ae){return 0===Ae.length?se.y:1===Ae.length?Ae[0]:function(je){return Ae.reduce((pe,Ce)=>Ce(pe),je)}}(je)(this)}toPromise(je){return new(je=U(je))((pe,Ce)=>{let qe;this.subscribe(Ge=>qe=Ge,Ge=>Ce(Ge),()=>pe(qe))})}}return Ae.create=ke=>new Ae(ke),Ae})();function U(Ae){var ke;return null!==(ke=null!=Ae?Ae:de.v.Promise)&&void 0!==ke?ke:Promise}},7579:(nt,be,O)=>{O.d(be,{x:()=>de});var h=O(8306),L=O(727);const se=(0,O(3888).d)(me=>function(){me(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var oe=O(8737),ge=O(2806);let de=(()=>{class me extends h.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(U){const re=new ae(this,this);return re.operator=U,re}_throwIfClosed(){if(this.closed)throw new se}next(U){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const re of this.currentObservers)re.next(U)}})}error(U){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=U;const{observers:re}=this;for(;re.length;)re.shift().error(U)}})}complete(){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:U}=this;for(;U.length;)U.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var U;return(null===(U=this.observers)||void 0===U?void 0:U.length)>0}_trySubscribe(U){return this._throwIfClosed(),super._trySubscribe(U)}_subscribe(U){return this._throwIfClosed(),this._checkFinalizedStatuses(U),this._innerSubscribe(U)}_innerSubscribe(U){const{hasError:re,isStopped:We,observers:Ae}=this;return re||We?L.Lc:(this.currentObservers=null,Ae.push(U),new L.w0(()=>{this.currentObservers=null,(0,oe.P)(Ae,U)}))}_checkFinalizedStatuses(U){const{hasError:re,thrownError:We,isStopped:Ae}=this;re?U.error(We):Ae&&U.complete()}asObservable(){const U=new h.y;return U.source=this,U}}return me.create=($,U)=>new ae($,U),me})();class ae extends de{constructor($,U){super(),this.destination=$,this.source=U}next($){var U,re;null===(re=null===(U=this.destination)||void 0===U?void 0:U.next)||void 0===re||re.call(U,$)}error($){var U,re;null===(re=null===(U=this.destination)||void 0===U?void 0:U.error)||void 0===re||re.call(U,$)}complete(){var $,U;null===(U=null===($=this.destination)||void 0===$?void 0:$.complete)||void 0===U||U.call($)}_subscribe($){var U,re;return null!==(re=null===(U=this.source)||void 0===U?void 0:U.subscribe($))&&void 0!==re?re:L.Lc}}},2961:(nt,be,O)=>{O.d(be,{Hp:()=>je,Lv:()=>re});var h=O(576),L=O(727),R=O(2416),se=O(7849);function oe(){}const ge=me("C",void 0,void 0);function me(Se,Me,Ie){return{kind:Se,value:Me,error:Ie}}var $=O(3410),U=O(2806);class re extends L.w0{constructor(Me){super(),this.isStopped=!1,Me?(this.destination=Me,(0,L.Nn)(Me)&&Me.add(this)):this.destination=Ge}static create(Me,Ie,Ze){return new je(Me,Ie,Ze)}next(Me){this.isStopped?qe(function ae(Se){return me("N",Se,void 0)}(Me),this):this._next(Me)}error(Me){this.isStopped?qe(function de(Se){return me("E",void 0,Se)}(Me),this):(this.isStopped=!0,this._error(Me))}complete(){this.isStopped?qe(ge,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Me){this.destination.next(Me)}_error(Me){try{this.destination.error(Me)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const We=Function.prototype.bind;function Ae(Se,Me){return We.call(Se,Me)}class ke{constructor(Me){this.partialObserver=Me}next(Me){const{partialObserver:Ie}=this;if(Ie.next)try{Ie.next(Me)}catch(Ze){pe(Ze)}}error(Me){const{partialObserver:Ie}=this;if(Ie.error)try{Ie.error(Me)}catch(Ze){pe(Ze)}else pe(Me)}complete(){const{partialObserver:Me}=this;if(Me.complete)try{Me.complete()}catch(Ie){pe(Ie)}}}class je extends re{constructor(Me,Ie,Ze){let X;if(super(),(0,h.m)(Me)||!Me)X={next:null!=Me?Me:void 0,error:null!=Ie?Ie:void 0,complete:null!=Ze?Ze:void 0};else{let ce;this&&R.v.useDeprecatedNextContext?(ce=Object.create(Me),ce.unsubscribe=()=>this.unsubscribe(),X={next:Me.next&&Ae(Me.next,ce),error:Me.error&&Ae(Me.error,ce),complete:Me.complete&&Ae(Me.complete,ce)}):X=Me}this.destination=new ke(X)}}function pe(Se){R.v.useDeprecatedSynchronousErrorHandling?(0,U.O)(Se):(0,se.h)(Se)}function qe(Se,Me){const{onStoppedNotification:Ie}=R.v;Ie&&$.z.setTimeout(()=>Ie(Se,Me))}const Ge={closed:!0,next:oe,error:function Ce(Se){throw Se},complete:oe}},727:(nt,be,O)=>{O.d(be,{Lc:()=>ge,w0:()=>oe,Nn:()=>de});var h=O(576);const R=(0,O(3888).d)(me=>function(U){me(this),this.message=U?`${U.length} errors occurred during unsubscription:\n${U.map((re,We)=>`${We+1}) ${re.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=U});var se=O(8737);class oe{constructor($){this.initialTeardown=$,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let $;if(!this.closed){this.closed=!0;const{_parentage:U}=this;if(U)if(this._parentage=null,Array.isArray(U))for(const Ae of U)Ae.remove(this);else U.remove(this);const{initialTeardown:re}=this;if((0,h.m)(re))try{re()}catch(Ae){$=Ae instanceof R?Ae.errors:[Ae]}const{_finalizers:We}=this;if(We){this._finalizers=null;for(const Ae of We)try{ae(Ae)}catch(ke){$=null!=$?$:[],ke instanceof R?$=[...$,...ke.errors]:$.push(ke)}}if($)throw new R($)}}add($){var U;if($&&$!==this)if(this.closed)ae($);else{if($ instanceof oe){if($.closed||$._hasParent(this))return;$._addParent(this)}(this._finalizers=null!==(U=this._finalizers)&&void 0!==U?U:[]).push($)}}_hasParent($){const{_parentage:U}=this;return U===$||Array.isArray(U)&&U.includes($)}_addParent($){const{_parentage:U}=this;this._parentage=Array.isArray(U)?(U.push($),U):U?[U,$]:$}_removeParent($){const{_parentage:U}=this;U===$?this._parentage=null:Array.isArray(U)&&(0,se.P)(U,$)}remove($){const{_finalizers:U}=this;U&&(0,se.P)(U,$),$ instanceof oe&&$._removeParent(this)}}oe.EMPTY=(()=>{const me=new oe;return me.closed=!0,me})();const ge=oe.EMPTY;function de(me){return me instanceof oe||me&&"closed"in me&&(0,h.m)(me.remove)&&(0,h.m)(me.add)&&(0,h.m)(me.unsubscribe)}function ae(me){(0,h.m)(me)?me():me.unsubscribe()}},2416:(nt,be,O)=>{O.d(be,{v:()=>h});const h={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(nt,be,O)=>{O.d(be,{E:()=>L});const L=new(O(8306).y)(oe=>oe.complete())},8996:(nt,be,O)=>{O.d(be,{D:()=>Me});var h=O(8421),L=O(5363),R=O(9468),ge=O(8306),ae=O(2202),me=O(576),$=O(9672);function re(Ie,Ze){if(!Ie)throw new Error("Iterable cannot be null");return new ge.y(X=>{(0,$.f)(X,Ze,()=>{const ce=Ie[Symbol.asyncIterator]();(0,$.f)(X,Ze,()=>{ce.next().then(De=>{De.done?X.complete():X.next(De.value)})},0,!0)})})}var We=O(3670),Ae=O(8239),ke=O(1144),je=O(6495),pe=O(2206),Ce=O(4532),qe=O(3260);function Me(Ie,Ze){return Ze?function Se(Ie,Ze){if(null!=Ie){if((0,We.c)(Ie))return function se(Ie,Ze){return(0,h.Xf)(Ie).pipe((0,R.R)(Ze),(0,L.Q)(Ze))}(Ie,Ze);if((0,ke.z)(Ie))return function de(Ie,Ze){return new ge.y(X=>{let ce=0;return Ze.schedule(function(){ce===Ie.length?X.complete():(X.next(Ie[ce++]),X.closed||this.schedule())})})}(Ie,Ze);if((0,Ae.t)(Ie))return function oe(Ie,Ze){return(0,h.Xf)(Ie).pipe((0,R.R)(Ze),(0,L.Q)(Ze))}(Ie,Ze);if((0,pe.D)(Ie))return re(Ie,Ze);if((0,je.T)(Ie))return function U(Ie,Ze){return new ge.y(X=>{let ce;return(0,$.f)(X,Ze,()=>{ce=Ie[ae.h](),(0,$.f)(X,Ze,()=>{let De,Z;try{({value:De,done:Z}=ce.next())}catch(ee){return void X.error(ee)}Z?X.complete():X.next(De)},0,!0)}),()=>(0,me.m)(null==ce?void 0:ce.return)&&ce.return()})}(Ie,Ze);if((0,qe.L)(Ie))return function Ge(Ie,Ze){return re((0,qe.Q)(Ie),Ze)}(Ie,Ze)}throw(0,Ce.z)(Ie)}(Ie,Ze):(0,h.Xf)(Ie)}},8421:(nt,be,O)=>{O.d(be,{Xf:()=>We});var h=O(655),L=O(1144),R=O(8239),se=O(8306),oe=O(3670),ge=O(2206),de=O(4532),ae=O(6495),me=O(3260),$=O(576),U=O(7849),re=O(8822);function We(Se){if(Se instanceof se.y)return Se;if(null!=Se){if((0,oe.c)(Se))return function Ae(Se){return new se.y(Me=>{const Ie=Se[re.L]();if((0,$.m)(Ie.subscribe))return Ie.subscribe(Me);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Se);if((0,L.z)(Se))return function ke(Se){return new se.y(Me=>{for(let Ie=0;Ie<Se.length&&!Me.closed;Ie++)Me.next(Se[Ie]);Me.complete()})}(Se);if((0,R.t)(Se))return function je(Se){return new se.y(Me=>{Se.then(Ie=>{Me.closed||(Me.next(Ie),Me.complete())},Ie=>Me.error(Ie)).then(null,U.h)})}(Se);if((0,ge.D)(Se))return Ce(Se);if((0,ae.T)(Se))return function pe(Se){return new se.y(Me=>{for(const Ie of Se)if(Me.next(Ie),Me.closed)return;Me.complete()})}(Se);if((0,me.L)(Se))return function qe(Se){return Ce((0,me.Q)(Se))}(Se)}throw(0,de.z)(Se)}function Ce(Se){return new se.y(Me=>{(function Ge(Se,Me){var Ie,Ze,X,ce;return(0,h.mG)(this,void 0,void 0,function*(){try{for(Ie=(0,h.KL)(Se);!(Ze=yield Ie.next()).done;)if(Me.next(Ze.value),Me.closed)return}catch(De){X={error:De}}finally{try{Ze&&!Ze.done&&(ce=Ie.return)&&(yield ce.call(Ie))}finally{if(X)throw X.error}}Me.complete()})})(Se,Me).catch(Ie=>Me.error(Ie))})}},6451:(nt,be,O)=>{O.d(be,{T:()=>ge});var h=O(8189),L=O(8421),R=O(515),se=O(7669),oe=O(8996);function ge(...de){const ae=(0,se.yG)(de),me=(0,se._6)(de,1/0),$=de;return $.length?1===$.length?(0,L.Xf)($[0]):(0,h.J)(me)((0,oe.D)($,ae)):R.E}},5403:(nt,be,O)=>{O.d(be,{x:()=>L});var h=O(2961);function L(se,oe,ge,de,ae){return new R(se,oe,ge,de,ae)}class R extends h.Lv{constructor(oe,ge,de,ae,me,$){super(oe),this.onFinalize=me,this.shouldUnsubscribe=$,this._next=ge?function(U){try{ge(U)}catch(re){oe.error(re)}}:super._next,this._error=ae?function(U){try{ae(U)}catch(re){oe.error(re)}finally{this.unsubscribe()}}:super._error,this._complete=de?function(){try{de()}catch(U){oe.error(U)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var oe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ge}=this;super.unsubscribe(),!ge&&(null===(oe=this.onFinalize)||void 0===oe||oe.call(this))}}}},4004:(nt,be,O)=>{O.d(be,{U:()=>R});var h=O(4482),L=O(5403);function R(se,oe){return(0,h.e)((ge,de)=>{let ae=0;ge.subscribe((0,L.x)(de,me=>{de.next(se.call(oe,me,ae++))}))})}},8189:(nt,be,O)=>{O.d(be,{J:()=>R});var h=O(5577),L=O(4671);function R(se=1/0){return(0,h.z)(L.y,se)}},5577:(nt,be,O)=>{O.d(be,{z:()=>ae});var h=O(4004),L=O(8421),R=O(4482),se=O(9672),oe=O(5403),de=O(576);function ae(me,$,U=1/0){return(0,de.m)($)?ae((re,We)=>(0,h.U)((Ae,ke)=>$(re,Ae,We,ke))((0,L.Xf)(me(re,We))),U):("number"==typeof $&&(U=$),(0,R.e)((re,We)=>function ge(me,$,U,re,We,Ae,ke,je){const pe=[];let Ce=0,qe=0,Ge=!1;const Se=()=>{Ge&&!pe.length&&!Ce&&$.complete()},Me=Ze=>Ce<re?Ie(Ze):pe.push(Ze),Ie=Ze=>{Ae&&$.next(Ze),Ce++;let X=!1;(0,L.Xf)(U(Ze,qe++)).subscribe((0,oe.x)($,ce=>{null==We||We(ce),Ae?Me(ce):$.next(ce)},()=>{X=!0},void 0,()=>{if(X)try{for(Ce--;pe.length&&Ce<re;){const ce=pe.shift();ke?(0,se.f)($,ke,()=>Ie(ce)):Ie(ce)}Se()}catch(ce){$.error(ce)}}))};return me.subscribe((0,oe.x)($,Me,()=>{Ge=!0,Se()})),()=>{null==je||je()}}(re,We,me,U)))}},5363:(nt,be,O)=>{O.d(be,{Q:()=>se});var h=O(9672),L=O(4482),R=O(5403);function se(oe,ge=0){return(0,L.e)((de,ae)=>{de.subscribe((0,R.x)(ae,me=>(0,h.f)(ae,oe,()=>ae.next(me),ge),()=>(0,h.f)(ae,oe,()=>ae.complete(),ge),me=>(0,h.f)(ae,oe,()=>ae.error(me),ge)))})}},3099:(nt,be,O)=>{O.d(be,{B:()=>ge});var h=O(8996),L=O(5698),R=O(7579),se=O(2961),oe=O(4482);function ge(ae={}){const{connector:me=(()=>new R.x),resetOnError:$=!0,resetOnComplete:U=!0,resetOnRefCountZero:re=!0}=ae;return We=>{let Ae=null,ke=null,je=null,pe=0,Ce=!1,qe=!1;const Ge=()=>{null==ke||ke.unsubscribe(),ke=null},Se=()=>{Ge(),Ae=je=null,Ce=qe=!1},Me=()=>{const Ie=Ae;Se(),null==Ie||Ie.unsubscribe()};return(0,oe.e)((Ie,Ze)=>{pe++,!qe&&!Ce&&Ge();const X=je=null!=je?je:me();Ze.add(()=>{pe--,0===pe&&!qe&&!Ce&&(ke=de(Me,re))}),X.subscribe(Ze),Ae||(Ae=new se.Hp({next:ce=>X.next(ce),error:ce=>{qe=!0,Ge(),ke=de(Se,$,ce),X.error(ce)},complete:()=>{Ce=!0,Ge(),ke=de(Se,U),X.complete()}}),(0,h.D)(Ie).subscribe(Ae))})(We)}}function de(ae,me,...$){return!0===me?(ae(),null):!1===me?null:me(...$).pipe((0,L.q)(1)).subscribe(()=>ae())}},9468:(nt,be,O)=>{O.d(be,{R:()=>L});var h=O(4482);function L(R,se=0){return(0,h.e)((oe,ge)=>{ge.add(R.schedule(()=>oe.subscribe(ge),se))})}},5698:(nt,be,O)=>{O.d(be,{q:()=>se});var h=O(515),L=O(4482),R=O(5403);function se(oe){return oe<=0?()=>h.E:(0,L.e)((ge,de)=>{let ae=0;ge.subscribe((0,R.x)(de,me=>{++ae<=oe&&(de.next(me),oe<=ae&&de.complete())}))})}},8505:(nt,be,O)=>{O.d(be,{b:()=>oe});var h=O(576),L=O(4482),R=O(5403),se=O(4671);function oe(ge,de,ae){const me=(0,h.m)(ge)||de||ae?{next:ge,error:de,complete:ae}:ge;return me?(0,L.e)(($,U)=>{var re;null===(re=me.subscribe)||void 0===re||re.call(me);let We=!0;$.subscribe((0,R.x)(U,Ae=>{var ke;null===(ke=me.next)||void 0===ke||ke.call(me,Ae),U.next(Ae)},()=>{var Ae;We=!1,null===(Ae=me.complete)||void 0===Ae||Ae.call(me),U.complete()},Ae=>{var ke;We=!1,null===(ke=me.error)||void 0===ke||ke.call(me,Ae),U.error(Ae)},()=>{var Ae,ke;We&&(null===(Ae=me.unsubscribe)||void 0===Ae||Ae.call(me)),null===(ke=me.finalize)||void 0===ke||ke.call(me)}))}):se.y}},4408:(nt,be,O)=>{O.d(be,{o:()=>oe});var h=O(727);class L extends h.w0{constructor(de,ae){super()}schedule(de,ae=0){return this}}const R={setInterval(ge,de,...ae){const{delegate:me}=R;return(null==me?void 0:me.setInterval)?me.setInterval(ge,de,...ae):setInterval(ge,de,...ae)},clearInterval(ge){const{delegate:de}=R;return((null==de?void 0:de.clearInterval)||clearInterval)(ge)},delegate:void 0};var se=O(8737);class oe extends L{constructor(de,ae){super(de,ae),this.scheduler=de,this.work=ae,this.pending=!1}schedule(de,ae=0){if(this.closed)return this;this.state=de;const me=this.id,$=this.scheduler;return null!=me&&(this.id=this.recycleAsyncId($,me,ae)),this.pending=!0,this.delay=ae,this.id=this.id||this.requestAsyncId($,this.id,ae),this}requestAsyncId(de,ae,me=0){return R.setInterval(de.flush.bind(de,this),me)}recycleAsyncId(de,ae,me=0){if(null!=me&&this.delay===me&&!1===this.pending)return ae;R.clearInterval(ae)}execute(de,ae){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const me=this._execute(de,ae);if(me)return me;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(de,ae){let $,me=!1;try{this.work(de)}catch(U){me=!0,$=U||new Error("Scheduled action threw falsy error")}if(me)return this.unsubscribe(),$}unsubscribe(){if(!this.closed){const{id:de,scheduler:ae}=this,{actions:me}=ae;this.work=this.state=this.scheduler=null,this.pending=!1,(0,se.P)(me,this),null!=de&&(this.id=this.recycleAsyncId(ae,de,null)),this.delay=null,super.unsubscribe()}}}},7565:(nt,be,O)=>{O.d(be,{v:()=>R});var h=O(6063);class L{constructor(oe,ge=L.now){this.schedulerActionCtor=oe,this.now=ge}schedule(oe,ge=0,de){return new this.schedulerActionCtor(this,oe).schedule(de,ge)}}L.now=h.l.now;class R extends L{constructor(oe,ge=L.now){super(oe,ge),this.actions=[],this._active=!1,this._scheduled=void 0}flush(oe){const{actions:ge}=this;if(this._active)return void ge.push(oe);let de;this._active=!0;do{if(de=oe.execute(oe.state,oe.delay))break}while(oe=ge.shift());if(this._active=!1,de){for(;oe=ge.shift();)oe.unsubscribe();throw de}}}},4986:(nt,be,O)=>{O.d(be,{z:()=>R});var h=O(4408);const R=new(O(7565).v)(h.o)},6063:(nt,be,O)=>{O.d(be,{l:()=>h});const h={now:()=>(h.delegate||Date).now(),delegate:void 0}},3410:(nt,be,O)=>{O.d(be,{z:()=>h});const h={setTimeout(L,R,...se){const{delegate:oe}=h;return(null==oe?void 0:oe.setTimeout)?oe.setTimeout(L,R,...se):setTimeout(L,R,...se)},clearTimeout(L){const{delegate:R}=h;return((null==R?void 0:R.clearTimeout)||clearTimeout)(L)},delegate:void 0}},2202:(nt,be,O)=>{O.d(be,{h:()=>L});const L=function h(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(nt,be,O)=>{O.d(be,{L:()=>h});const h="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(nt,be,O)=>{O.d(be,{_6:()=>ge,jO:()=>se,yG:()=>oe});var h=O(576);function R(de){return de[de.length-1]}function se(de){return(0,h.m)(R(de))?de.pop():void 0}function oe(de){return function L(de){return de&&(0,h.m)(de.schedule)}(R(de))?de.pop():void 0}function ge(de,ae){return"number"==typeof R(de)?de.pop():ae}},8737:(nt,be,O)=>{function h(L,R){if(L){const se=L.indexOf(R);0<=se&&L.splice(se,1)}}O.d(be,{P:()=>h})},3888:(nt,be,O)=>{function h(L){const se=L(oe=>{Error.call(oe),oe.stack=(new Error).stack});return se.prototype=Object.create(Error.prototype),se.prototype.constructor=se,se}O.d(be,{d:()=>h})},2806:(nt,be,O)=>{O.d(be,{O:()=>se,x:()=>R});var h=O(2416);let L=null;function R(oe){if(h.v.useDeprecatedSynchronousErrorHandling){const ge=!L;if(ge&&(L={errorThrown:!1,error:null}),oe(),ge){const{errorThrown:de,error:ae}=L;if(L=null,de)throw ae}}else oe()}function se(oe){h.v.useDeprecatedSynchronousErrorHandling&&L&&(L.errorThrown=!0,L.error=oe)}},9672:(nt,be,O)=>{function h(L,R,se,oe=0,ge=!1){const de=R.schedule(function(){se(),ge?L.add(this.schedule(null,oe)):this.unsubscribe()},oe);if(L.add(de),!ge)return de}O.d(be,{f:()=>h})},4671:(nt,be,O)=>{function h(L){return L}O.d(be,{y:()=>h})},1144:(nt,be,O)=>{O.d(be,{z:()=>h});const h=L=>L&&"number"==typeof L.length&&"function"!=typeof L},2206:(nt,be,O)=>{O.d(be,{D:()=>L});var h=O(576);function L(R){return Symbol.asyncIterator&&(0,h.m)(null==R?void 0:R[Symbol.asyncIterator])}},576:(nt,be,O)=>{function h(L){return"function"==typeof L}O.d(be,{m:()=>h})},3670:(nt,be,O)=>{O.d(be,{c:()=>R});var h=O(8822),L=O(576);function R(se){return(0,L.m)(se[h.L])}},6495:(nt,be,O)=>{O.d(be,{T:()=>R});var h=O(2202),L=O(576);function R(se){return(0,L.m)(null==se?void 0:se[h.h])}},8239:(nt,be,O)=>{O.d(be,{t:()=>L});var h=O(576);function L(R){return(0,h.m)(null==R?void 0:R.then)}},3260:(nt,be,O)=>{O.d(be,{L:()=>se,Q:()=>R});var h=O(655),L=O(576);function R(oe){return(0,h.FC)(this,arguments,function*(){const de=oe.getReader();try{for(;;){const{value:ae,done:me}=yield(0,h.qq)(de.read());if(me)return yield(0,h.qq)(void 0);yield yield(0,h.qq)(ae)}}finally{de.releaseLock()}})}function se(oe){return(0,L.m)(null==oe?void 0:oe.getReader)}},4482:(nt,be,O)=>{O.d(be,{A:()=>L,e:()=>R});var h=O(576);function L(se){return(0,h.m)(null==se?void 0:se.lift)}function R(se){return oe=>{if(L(oe))return oe.lift(function(ge){try{return se(ge,this)}catch(de){this.error(de)}});throw new TypeError("Unable to lift unknown Observable type")}}},7849:(nt,be,O)=>{O.d(be,{h:()=>R});var h=O(2416),L=O(3410);function R(se){L.z.setTimeout(()=>{const{onUnhandledError:oe}=h.v;if(!oe)throw se;oe(se)})}},4532:(nt,be,O)=>{function h(L){return new TypeError(`You provided ${null!==L&&"object"==typeof L?"an invalid object":`'${L}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}O.d(be,{z:()=>h})},655:(nt,be,O)=>{function se(Z,ee){var ie={};for(var _e in Z)Object.prototype.hasOwnProperty.call(Z,_e)&&ee.indexOf(_e)<0&&(ie[_e]=Z[_e]);if(null!=Z&&"function"==typeof Object.getOwnPropertySymbols){var le=0;for(_e=Object.getOwnPropertySymbols(Z);le<_e.length;le++)ee.indexOf(_e[le])<0&&Object.prototype.propertyIsEnumerable.call(Z,_e[le])&&(ie[_e[le]]=Z[_e[le]])}return ie}function ae(Z,ee,ie,_e){return new(ie||(ie=Promise))(function(Le,ct){function Wt(on){try{Ke(_e.next(on))}catch(Sn){ct(Sn)}}function Vt(on){try{Ke(_e.throw(on))}catch(Sn){ct(Sn)}}function Ke(on){on.done?Le(on.value):function le(Le){return Le instanceof ie?Le:new ie(function(ct){ct(Le)})}(on.value).then(Wt,Vt)}Ke((_e=_e.apply(Z,ee||[])).next())})}function pe(Z){return this instanceof pe?(this.v=Z,this):new pe(Z)}function Ce(Z,ee,ie){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var le,_e=ie.apply(Z,ee||[]),Le=[];return le={},ct("next"),ct("throw"),ct("return"),le[Symbol.asyncIterator]=function(){return this},le;function ct(cn){_e[cn]&&(le[cn]=function(Xt){return new Promise(function(Ut,Zt){Le.push([cn,Xt,Ut,Zt])>1||Wt(cn,Xt)})})}function Wt(cn,Xt){try{!function Vt(cn){cn.value instanceof pe?Promise.resolve(cn.value.v).then(Ke,on):Sn(Le[0][2],cn)}(_e[cn](Xt))}catch(Ut){Sn(Le[0][3],Ut)}}function Ke(cn){Wt("next",cn)}function on(cn){Wt("throw",cn)}function Sn(cn,Xt){cn(Xt),Le.shift(),Le.length&&Wt(Le[0][0],Le[0][1])}}function Ge(Z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ie,ee=Z[Symbol.asyncIterator];return ee?ee.call(Z):(Z=function re(Z){var ee="function"==typeof Symbol&&Symbol.iterator,ie=ee&&Z[ee],_e=0;if(ie)return ie.call(Z);if(Z&&"number"==typeof Z.length)return{next:function(){return Z&&_e>=Z.length&&(Z=void 0),{value:Z&&Z[_e++],done:!Z}}};throw new TypeError(ee?"Object is not iterable.":"Symbol.iterator is not defined.")}(Z),ie={},_e("next"),_e("throw"),_e("return"),ie[Symbol.asyncIterator]=function(){return this},ie);function _e(Le){ie[Le]=Z[Le]&&function(ct){return new Promise(function(Wt,Vt){!function le(Le,ct,Wt,Vt){Promise.resolve(Vt).then(function(Ke){Le({value:Ke,done:Wt})},ct)}(Wt,Vt,(ct=Z[Le](ct)).done,ct.value)})}}}O.d(be,{FC:()=>Ce,KL:()=>Ge,_T:()=>se,mG:()=>ae,qq:()=>pe})},5e3:(nt,be,O)=>{O.d(be,{$8M:()=>eo,$Z:()=>yr,AFp:()=>Bg,AaK:()=>ae,AsE:()=>Tu,CHM:()=>Wa,CRH:()=>Iw,CZH:()=>Ug,CqO:()=>jh,DdM:()=>Pu,EJc:()=>Qb,EpF:()=>xy,F4k:()=>Sa,FYo:()=>i_,FiY:()=>Ur,G48:()=>oC,GfV:()=>o_,Gpc:()=>U,JOm:()=>$o,LFG:()=>ze,LSH:()=>jc,Lbi:()=>P_,MAs:()=>Z0,MGl:()=>Gh,NdJ:()=>Ma,OlP:()=>On,Oqu:()=>Wh,PXZ:()=>G_,Q6J:()=>My,QGY:()=>Qe,Qsj:()=>s_,R0b:()=>go,RDi:()=>Bu,Rgc:()=>Gl,SBq:()=>Td,Sil:()=>Jb,Suo:()=>ww,TTD:()=>na,TgZ:()=>qo,VLi:()=>tC,W1O:()=>xg,X6Q:()=>K_,XFs:()=>ht,Xpm:()=>dt,Y36:()=>Bh,YKP:()=>pf,YNc:()=>W0,Yjl:()=>Ye,Yz7:()=>Xt,ZZ4:()=>nm,_Bn:()=>nw,_UZ:()=>ig,_Vd:()=>cf,_c5:()=>gC,_uU:()=>dg,aQg:()=>Rf,c2e:()=>Uw,cJS:()=>Zt,cg1:()=>Qh,dDg:()=>Hg,deG:()=>Xd,dqk:()=>Bt,eFA:()=>zg,ekj:()=>Ml,g9A:()=>ka,h0i:()=>Oa,hGG:()=>aI,hYB:()=>cd,hij:()=>md,iGM:()=>Ew,ifc:()=>Gt,ip1:()=>Vg,kL8:()=>dr,lG2:()=>Te,n5z:()=>gr,oAB:()=>ue,oxw:()=>og,q4F:()=>iw,qLn:()=>fp,qOj:()=>Qp,qZA:()=>ud,s9C:()=>ag,sBO:()=>Y_,sIi:()=>rd,s_b:()=>Sd,soG:()=>k_,tBr:()=>Ps,tb:()=>Wl,tp0:()=>Qr,uIk:()=>eg,vHH:()=>ke,vpe:()=>ps,wAp:()=>_t,xp6:()=>Br,z2F:()=>Af,zSh:()=>ao,zs3:()=>uo});var h=O(7579),L=O(727),R=O(8306),se=O(6451),oe=O(3099);function ge(i){for(let s in i)if(i[s]===ge)return s;throw Error("Could not find renamed property on target object.")}function de(i,s){for(const a in s)s.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=s[a])}function ae(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(ae).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function me(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const $=ge({__forward_ref__:ge});function U(i){return i.__forward_ref__=U,i.toString=function(){return ae(this())},i}function re(i){return We(i)?i():i}function We(i){return"function"==typeof i&&i.hasOwnProperty($)&&i.__forward_ref__===U}class ke extends Error{constructor(s,a){super(function je(i,s){return`NG0${Math.abs(i)}${s?": "+s:""}`}(s,a)),this.code=s}}function pe(i){return"string"==typeof i?i:null==i?"":String(i)}function Ce(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():pe(i)}function Me(i,s){const a=s?` in ${s}`:"";throw new ke(-201,`No provider for ${Ce(i)} found${a}`)}function Vt(i,s){null==i&&function Ke(i,s,a,l){throw new Error(`ASSERTION ERROR: ${i}`+(null==l?"":` [Expected=> ${a} ${l} ${s} <=Actual]`))}(s,i,null,"!=")}function Xt(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function Zt(i){return{providers:i.providers||[],imports:i.imports||[]}}function vn(i){return Ci(i,ni)||Ci(i,Bn)}function Ci(i,s){return i.hasOwnProperty(s)?i[s]:null}function Ti(i){return i&&(i.hasOwnProperty(fi)||i.hasOwnProperty(Ai))?i[fi]:null}const ni=ge({\u0275prov:ge}),fi=ge({\u0275inj:ge}),Bn=ge({ngInjectableDef:ge}),Ai=ge({ngInjectorDef:ge});var ht=(()=>((ht=ht||{})[ht.Default=0]="Default",ht[ht.Host=1]="Host",ht[ht.Self=2]="Self",ht[ht.SkipSelf=4]="SkipSelf",ht[ht.Optional=8]="Optional",ht))();let Rr;function Kt(i){const s=Rr;return Rr=i,s}function Er(i,s,a){const l=vn(i);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:a&ht.Optional?null:void 0!==s?s:void Me(ae(i),"Injector")}function Nr(i){return{toString:i}.toString()}var En=(()=>((En=En||{})[En.OnPush=0]="OnPush",En[En.Default=1]="Default",En))(),Gt=(()=>{return(i=Gt||(Gt={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",Gt;var i})();const lt="undefined"!=typeof globalThis&&globalThis,rt="undefined"!=typeof window&&window,ri="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Bt=lt||"undefined"!=typeof global&&global||rt||ri,an={},V=[],H=ge({\u0275cmp:ge}),z=ge({\u0275dir:ge}),Ee=ge({\u0275pipe:ge}),B=ge({\u0275mod:ge}),Q=ge({\u0275fac:ge}),Oe=ge({__NG_ELEMENT_ID__:ge});let et=0;function dt(i){return Nr(()=>{const a={},l={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===En.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||V,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||Gt.Emulated,id:"c",styles:i.styles||V,_:null,setInput:null,schemas:i.schemas||null,tView:null},c=i.directives,f=i.features,y=i.pipes;return l.id+=et++,l.inputs=G(i.inputs,a),l.outputs=G(i.outputs),f&&f.forEach(v=>v(l)),l.directiveDefs=c?()=>("function"==typeof c?c():c).map(nn):null,l.pipeDefs=y?()=>("function"==typeof y?y():y).map(vt):null,l})}function nn(i){return at(i)||function St(i){return i[z]||null}(i)}function vt(i){return function zt(i){return i[Ee]||null}(i)}const jn={};function ue(i){return Nr(()=>{const s={type:i.type,bootstrap:i.bootstrap||V,declarations:i.declarations||V,imports:i.imports||V,exports:i.exports||V,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(jn[i.id]=i.type),s})}function G(i,s){if(null==i)return an;const a={};for(const l in i)if(i.hasOwnProperty(l)){let c=i[l],f=c;Array.isArray(c)&&(f=c[1],c=c[0]),a[c]=l,s&&(s[c]=f)}return a}const Te=dt;function Ye(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function at(i){return i[H]||null}function kt(i,s){const a=i[B]||null;if(!a&&!0===s)throw new Error(`Type ${ae(i)} does not have '\u0275mod' property.`);return a}function pi(i){return Array.isArray(i)&&"object"==typeof i[1]}function si(i){return Array.isArray(i)&&!0===i[1]}function ec(i){return 0!=(8&i.flags)}function Ua(i){return 2==(2&i.flags)}function Is(i){return 1==(1&i.flags)}function oi(i){return null!==i.template}function Hd(i){return 0!=(512&i[2])}function ai(i,s){return i.hasOwnProperty(Q)?i[Q]:null}class Io{constructor(s,a,l){this.previousValue=s,this.currentValue=a,this.firstChange=l}isFirstChange(){return this.firstChange}}function na(){return ra}function ra(i){return i.type.prototype.ngOnChanges&&(i.setInput=Kf),zd}function zd(){const i=oc(this),s=null==i?void 0:i.current;if(s){const a=i.previous;if(a===an)i.previous=s;else for(let l in s)a[l]=s[l];i.current=null,this.ngOnChanges(s)}}function Kf(i,s,a,l){const c=oc(i)||function Qi(i,s){return i[zs]=s}(i,{previous:an,current:null}),f=c.current||(c.current={}),y=c.previous,v=this.declaredInputs[a],I=y[v];f[v]=new Io(I&&I.currentValue,s,y===an),i[l]=s}na.ngInherit=!0;const zs="__ngSimpleChanges__";function oc(i){return i[zs]||null}let Ha;function Bu(i){Ha=i}function fn(i){return!!i.listen}const ia={createRenderer:(i,s)=>function Ji(){return void 0!==Ha?Ha:"undefined"!=typeof document?document:void 0}()};function ln(i){for(;Array.isArray(i);)i=i[0];return i}function qs(i,s){return ln(s[i])}function ir(i,s){return ln(s[i.index])}function Nn(i,s){return i.data[s]}function sr(i,s){const a=s[i];return pi(a)?a:a[0]}function Do(i){return 4==(4&i[2])}function xi(i){return 128==(128&i[2])}function Wr(i,s){return null==s?null:i[s]}function Cs(i){i[18]=0}function Ts(i,s){i[5]+=s;let a=i,l=i[3];for(;null!==l&&(1===s&&1===a[5]||-1===s&&0===a[5]);)l[5]+=s,a=l,l=l[3]}const mt={lFrame:_c(null),bindingsEnabled:!0};function bo(){return mt.bindingsEnabled}function Re(){return mt.lFrame.lView}function jt(){return mt.lFrame.tView}function Wa(i){return mt.lFrame.contextLView=i,i[8]}function mn(){let i=hc();for(;null!==i&&64===i.type;)i=i.parent;return i}function hc(){return mt.lFrame.currentTNode}function Ri(i,s){const a=mt.lFrame;a.currentTNode=i,a.isParent=s}function Hu(){return mt.lFrame.isParent}function To(){return mt.lFrame.bindingIndex++}function Zr(i){const s=mt.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,a}function gc(i,s){const a=mt.lFrame;a.bindingIndex=a.bindingRootIndex=i,Gu(s)}function Gu(i){mt.lFrame.currentDirectiveIndex=i}function mc(){return mt.lFrame.currentQueryIndex}function yc(i){mt.lFrame.currentQueryIndex=i}function zu(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function la(i,s,a){if(a&ht.SkipSelf){let c=s,f=i;for(;!(c=c.parent,null!==c||a&ht.Host||(c=zu(f),null===c||(f=f[15],10&c.type))););if(null===c)return!1;s=c,i=f}const l=mt.lFrame=Ks();return l.currentTNode=s,l.lView=i,!0}function ca(i){const s=Ks(),a=i[1];mt.lFrame=s,s.currentTNode=a.firstChild,s.lView=i,s.tView=a,s.contextLView=i,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function Ks(){const i=mt.lFrame,s=null===i?null:i.child;return null===s?_c(i):s}function _c(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function Kd(){const i=mt.lFrame;return mt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const Za=Kd;function Kr(){const i=Kd();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function fr(){return mt.lFrame.selectedIndex}function Ys(i){mt.lFrame.selectedIndex=i}function Hn(){const i=mt.lFrame;return Nn(i.tView,i.selectedIndex)}function ts(i,s){for(let a=s.directiveStart,l=s.directiveEnd;a<l;a++){const f=i.data[a].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:v,ngAfterViewInit:I,ngAfterViewChecked:T,ngOnDestroy:S}=f;y&&(i.contentHooks||(i.contentHooks=[])).push(-a,y),v&&((i.contentHooks||(i.contentHooks=[])).push(a,v),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(a,v)),I&&(i.viewHooks||(i.viewHooks=[])).push(-a,I),T&&((i.viewHooks||(i.viewHooks=[])).push(a,T),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(a,T)),null!=S&&(i.destroyHooks||(i.destroyHooks=[])).push(a,S)}}function da(i,s,a){wc(i,s,3,a)}function ha(i,s,a,l){(3&i[2])===a&&wc(i,s,a,l)}function Wn(i,s){let a=i[2];(3&a)===s&&(a&=2047,a+=1,i[2]=a)}function wc(i,s,a,l){const f=null!=l?l:-1,y=s.length-1;let v=0;for(let I=void 0!==l?65535&i[18]:0;I<y;I++)if("number"==typeof s[I+1]){if(v=s[I],null!=l&&v>=l)break}else s[I]<0&&(i[18]+=65536),(v<f||-1==f)&&(Qf(i,a,s,I),i[18]=(4294901760&i[18])+I+2),I++}function Qf(i,s,a,l){const c=a[l]<0,f=a[l+1],v=i[c?-a[l]:a[l]];if(c){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048;try{f.call(v)}finally{}}}else try{f.call(v)}finally{}}class Mo{constructor(s,a,l){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=l}}function Oi(i,s,a){const l=fn(i);let c=0;for(;c<a.length;){const f=a[c];if("number"==typeof f){if(0!==f)break;c++;const y=a[c++],v=a[c++],I=a[c++];l?i.setAttribute(s,v,I,y):s.setAttributeNS(y,v,I)}else{const y=f,v=a[++c];mi(y)?l&&i.setProperty(s,y,v):l?i.setAttribute(s,y,v):s.setAttribute(y,v),c++}}return c}function Pr(i){return 3===i||4===i||6===i}function mi(i){return 64===i.charCodeAt(0)}function fa(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let a=-1;for(let l=0;l<s.length;l++){const c=s[l];"number"==typeof c?a=c:0===a||xo(i,a,c,null,-1===a||2===a?s[++l]:null)}}return i}function xo(i,s,a,l,c){let f=0,y=i.length;if(-1===s)y=-1;else for(;f<i.length;){const v=i[f++];if("number"==typeof v){if(v===s){y=-1;break}if(v>s){y=f-1;break}}}for(;f<i.length;){const v=i[f];if("number"==typeof v)break;if(v===a){if(null===l)return void(null!==c&&(i[f+1]=c));if(l===i[f+1])return void(i[f+2]=c)}f++,null!==l&&f++,null!==c&&f++}-1!==y&&(i.splice(y,0,s),f=y+1),i.splice(f++,0,a),null!==l&&i.splice(f++,0,l),null!==c&&i.splice(f++,0,c)}function Dc(i){return-1!==i}function pn(i){return 32767&i}function Pi(i,s){let a=function bc(i){return i>>16}(i),l=s;for(;a>0;)l=l[15],a--;return l}let Ss=!0;function Dt(i){const s=Ss;return Ss=i,s}let Tc=0;function Ro(i,s){const a=No(i,s);if(-1!==a)return a;const l=s[1];l.firstCreatePass&&(i.injectorIndex=s.length,rs(l.data,i),rs(s,null),rs(l.blueprint,null));const c=Yr(i,s),f=i.injectorIndex;if(Dc(c)){const y=pn(c),v=Pi(c,s),I=v[1].data;for(let T=0;T<8;T++)s[f+T]=v[y+T]|I[y+T]}return s[f+8]=c,f}function rs(i,s){i.push(0,0,0,0,0,0,0,0,s)}function No(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function Yr(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,l=null,c=s;for(;null!==c;){const f=c[1],y=f.type;if(l=2===y?f.declTNode:1===y?c[6]:null,null===l)return-1;if(a++,c=c[15],-1!==l.injectorIndex)return l.injectorIndex|a<<16}return-1}function is(i,s,a){!function Gn(i,s,a){let l;"string"==typeof a?l=a.charCodeAt(0)||0:a.hasOwnProperty(Oe)&&(l=a[Oe]),null==l&&(l=a[Oe]=Tc++);const c=255&l;s.data[i+(c>>5)]|=1<<c}(i,s,a)}function Js(i,s,a){if(a&ht.Optional)return i;Me(s,"NodeInjector")}function Po(i,s,a,l){if(a&ht.Optional&&void 0===l&&(l=null),0==(a&(ht.Self|ht.Host))){const c=i[9],f=Kt(void 0);try{return c?c.get(s,l,a&ht.Optional):Er(s,l,a&ht.Optional)}finally{Kt(f)}}return Js(l,s,a)}function Ms(i,s,a,l=ht.Default,c){if(null!==i){const f=function Ac(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(Oe)?i[Oe]:void 0;return"number"==typeof s?s>=0?255&s:pa:s}(a);if("function"==typeof f){if(!la(s,i,l))return l&ht.Host?Js(c,a,l):Po(s,a,l,c);try{const y=f(l);if(null!=y||l&ht.Optional)return y;Me(a)}finally{Za()}}else if("number"==typeof f){let y=null,v=No(i,s),I=-1,T=l&ht.Host?s[16][6]:null;for((-1===v||l&ht.SkipSelf)&&(I=-1===v?Yr(i,s):s[v+8],-1!==I&&Yu(l,!1)?(y=s[1],v=pn(I),s=Pi(I,s)):v=-1);-1!==v;){const S=s[1];if(pr(f,v,S.data)){const k=Ku(v,s,a,y,l,T);if(k!==Xs)return k}I=s[v+8],-1!==I&&Yu(l,s[1].data[v+8]===T)&&pr(f,v,s)?(y=S,v=pn(I),s=Pi(I,s)):v=-1}}}return Po(s,a,l,c)}const Xs={};function pa(){return new ki(mn(),Re())}function Ku(i,s,a,l,c,f){const y=s[1],v=y.data[i+8],S=Qa(v,y,a,null==l?Ua(v)&&Ss:l!=y&&0!=(3&v.type),c&ht.Host&&f===v);return null!==S?yi(s,y,S,v):Xs}function Qa(i,s,a,l,c){const f=i.providerIndexes,y=s.data,v=1048575&f,I=i.directiveStart,S=f>>20,j=c?v+S:i.directiveEnd;for(let J=l?v:v+S;J<j;J++){const we=y[J];if(J<I&&a===we||J>=I&&we.type===a)return J}if(c){const J=y[I];if(J&&oi(J)&&J.type===a)return I}return null}function yi(i,s,a,l){let c=i[a];const f=s.data;if(function Ic(i){return i instanceof Mo}(c)){const y=c;y.resolving&&function qe(i,s){const a=s?`. Dependency path: ${s.join(" > ")} > ${i}`:"";throw new ke(-200,`Circular dependency in DI detected for ${i}${a}`)}(Ce(f[a]));const v=Dt(y.canSeeViewProviders);y.resolving=!0;const I=y.injectImpl?Kt(y.injectImpl):null;la(i,l,ht.Default);try{c=i[a]=y.factory(void 0,f,i,l),s.firstCreatePass&&a>=l.directiveStart&&function Ec(i,s,a){const{ngOnChanges:l,ngOnInit:c,ngDoCheck:f}=s.type.prototype;if(l){const y=ra(s);(a.preOrderHooks||(a.preOrderHooks=[])).push(i,y),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,y)}c&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-i,c),f&&((a.preOrderHooks||(a.preOrderHooks=[])).push(i,f),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,f))}(a,f[a],s)}finally{null!==I&&Kt(I),Dt(v),y.resolving=!1,Za()}}return c}function pr(i,s,a){return!!(a[s+(i>>5)]&1<<i)}function Yu(i,s){return!(i&ht.Self||i&ht.Host&&s)}class ki{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,l){return Ms(this._tNode,this._lView,s,l,a)}}function gr(i){return Nr(()=>{const s=i.prototype.constructor,a=s[Q]||xs(s),l=Object.prototype;let c=Object.getPrototypeOf(i.prototype).constructor;for(;c&&c!==l;){const f=c[Q]||xs(c);if(f&&f!==a)return f;c=Object.getPrototypeOf(c)}return f=>new f})}function xs(i){return We(i)?()=>{const s=xs(re(i));return s&&s()}:ai(i)}function eo(i){return function Oo(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const a=i.attrs;if(a){const l=a.length;let c=0;for(;c<l;){const f=a[c];if(Pr(f))break;if(0===f)c+=2;else if("number"==typeof f)for(c++;c<l&&"string"==typeof a[c];)c++;else{if(f===s)return a[c+1];c+=2}}}return null}(mn(),i)}const Fi="__parameters__";function Li(i,s,a){return Nr(()=>{const l=function Zn(i){return function(...a){if(i){const l=i(...a);for(const c in l)this[c]=l[c]}}}(s);function c(...f){if(this instanceof c)return l.apply(this,f),this;const y=new c(...f);return v.annotation=y,v;function v(I,T,S){const k=I.hasOwnProperty(Fi)?I[Fi]:Object.defineProperty(I,Fi,{value:[]})[Fi];for(;k.length<=S;)k.push(null);return(k[S]=k[S]||[]).push(y),I}}return a&&(c.prototype=Object.create(a.prototype)),c.prototype.ngMetadataName=i,c.annotationCls=c,c})}class On{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Xt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Xd=new On("AnalyzeForEntryComponents");function br(i,s){void 0===s&&(s=i);for(let a=0;a<i.length;a++){let l=i[a];Array.isArray(l)?(s===i&&(s=i.slice(0,a)),br(l,s)):s!==i&&s.push(l)}return s}function Fr(i,s){i.forEach(a=>Array.isArray(a)?Fr(a,s):s(a))}function Xa(i,s,a){s>=i.length?i.push(a):i.splice(s,0,a)}function Vo(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function Lr(i,s,a){let l=ma(i,s);return l>=0?i[1|l]=a:(l=~l,function eu(i,s,a,l){let c=i.length;if(c==s)i.push(a,l);else if(1===c)i.push(l,i[0]),i[0]=a;else{for(c--,i.push(i[c-1],i[c]);c>s;)i[c]=i[c-2],c--;i[s]=a,i[s+1]=l}}(i,l,s,a)),l}function tu(i,s){const a=ma(i,s);if(a>=0)return i[1|a]}function ma(i,s){return function Rc(i,s,a){let l=0,c=i.length>>a;for(;c!==l;){const f=l+(c-l>>1),y=i[f<<a];if(s===y)return f<<a;y>s?c=f:l=f+1}return~(c<<a)}(i,s,1)}const ss={},Bo="__NG_DI_FLAG__",iu="ngTempTokenPath",D=/\n/gm,M="__source",F=ge({provide:String,useValue:ge});let K;function Y(i){const s=K;return K=i,s}function Fe(i,s=ht.Default){if(void 0===K)throw new ke(203,"");return null===K?Er(i,void 0,s):K.get(i,s&ht.Optional?null:void 0,s)}function ze(i,s=ht.Default){return(function gn(){return Rr}()||Fe)(re(i),s)}const bt=ze;function $t(i){const s=[];for(let a=0;a<i.length;a++){const l=re(i[a]);if(Array.isArray(l)){if(0===l.length)throw new ke(900,"");let c,f=ht.Default;for(let y=0;y<l.length;y++){const v=l[y],I=Vr(v);"number"==typeof I?-1===I?c=v.token:f|=I:c=v}s.push(ze(c,f))}else s.push(ze(l))}return s}function Et(i,s){return i[Bo]=s,i.prototype[Bo]=s,i}function Vr(i){return i[Bo]}const Ps=Et(Li("Inject",i=>({token:i})),-1),Ur=Et(Li("Optional"),8),Qr=Et(Li("SkipSelf"),4);class il{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function os(i){return i instanceof il?i.changingThisBreaksApplicationSecurity:i}const Mv=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,p=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var ur=(()=>((ur=ur||{})[ur.NONE=0]="NONE",ur[ur.HTML=1]="HTML",ur[ur.STYLE=2]="STYLE",ur[ur.SCRIPT=3]="SCRIPT",ur[ur.URL=4]="URL",ur[ur.RESOURCE_URL=5]="RESOURCE_URL",ur))();function jc(i){const s=function $c(){const i=Re();return i&&i[12]}();return s?s.sanitize(ur.URL,i)||"":function as(i,s){const a=function ah(i){return i instanceof il&&i.getTypeName()||null}(i);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===s}(i,"URL")?os(i):function g(i){return(i=String(i)).match(Mv)||i.match(p)?i:"unsafe:"+i}(pe(i))}const Pv="__ngContext__";function ui(i,s){i[Pv]=s}function Im(i){const s=function dh(i){return i[Pv]||null}(i);return s?Array.isArray(s)?s:s.lView:null}function Tm(i){return i.ngOriginalError}function ZI(i,...s){i.error(...s)}class fp{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s),l=function WI(i){return i&&i.ngErrorLogger||ZI}(s);l(this._console,"ERROR",s),a&&l(this._console,"ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&Tm(s);for(;a&&Tm(a);)a=Tm(a);return a||null}}const iD=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Bt))();function ro(i){return i instanceof Function?i():i}var $o=(()=>(($o=$o||{})[$o.Important=1]="Important",$o[$o.DashCase=2]="DashCase",$o))();function Sm(i,s){return undefined(i,s)}function gh(i){const s=i[3];return si(s)?s[3]:s}function mp(i){return jv(i[13])}function xm(i){return jv(i[4])}function jv(i){for(;null!==i&&!si(i);)i=i[4];return i}function Hc(i,s,a,l,c){if(null!=l){let f,y=!1;si(l)?f=l:pi(l)&&(y=!0,l=l[0]);const v=ln(l);0===i&&null!==a?null==c?Wv(s,a,v):fu(s,a,v,c||null,!0):1===i&&null!==a?fu(s,a,v,c||null,!0):2===i?function e0(i,s,a){const l=wp(i,s);l&&function Kv(i,s,a,l){fn(i)?i.removeChild(s,a,l):s.removeChild(a)}(i,l,s,a)}(s,v,y):3===i&&s.destroyNode(v),null!=f&&function km(i,s,a,l,c){const f=a[7];f!==ln(a)&&Hc(s,i,l,f,c);for(let v=10;v<a.length;v++){const I=a[v];ve(I[1],I,i,s,l,f)}}(s,i,f,a,c)}}function Ei(i,s,a){if(fn(i))return i.createElement(s,a);{const l=null!==a?function $a(i){const s=i.toLowerCase();return"svg"===s?"http://www.w3.org/2000/svg":"math"===s?"http://www.w3.org/1998/MathML/":null}(a):null;return null===l?i.createElement(s):i.createElementNS(l,s)}}function Gv(i,s){const a=i[9],l=a.indexOf(s),c=s[3];1024&s[2]&&(s[2]&=-1025,Ts(c,-1)),a.splice(l,1)}function vp(i,s){if(i.length<=10)return;const a=10+s,l=i[a];if(l){const c=l[17];null!==c&&c!==i&&Gv(c,l),s>0&&(i[a-1][4]=l[4]);const f=Vo(i,10+s);!function aD(i,s){ve(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(l[1],l);const y=f[19];null!==y&&y.detachView(f[1]),l[3]=null,l[4]=null,l[2]&=-129}return l}function zv(i,s){if(!(256&s[2])){const a=s[11];fn(a)&&a.destroyNode&&ve(i,s,a,3,null,null),function _p(i){let s=i[13];if(!s)return Ep(i[1],i);for(;s;){let a=null;if(pi(s))a=s[13];else{const l=s[10];l&&(a=l)}if(!a){for(;s&&!s[4]&&s!==i;)pi(s)&&Ep(s[1],s),s=s[3];null===s&&(s=i),pi(s)&&Ep(s[1],s),a=s&&s[4]}s=a}}(s)}}function Ep(i,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function Nm(i,s){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let l=0;l<a.length;l+=2){const c=s[a[l]];if(!(c instanceof Mo)){const f=a[l+1];if(Array.isArray(f))for(let y=0;y<f.length;y+=2){const v=c[f[y]],I=f[y+1];try{I.call(v)}finally{}}else try{f.call(c)}finally{}}}}(i,s),function qv(i,s){const a=i.cleanup,l=s[7];let c=-1;if(null!==a)for(let f=0;f<a.length-1;f+=2)if("string"==typeof a[f]){const y=a[f+1],v="function"==typeof y?y(s):ln(s[y]),I=l[c=a[f+2]],T=a[f+3];"boolean"==typeof T?v.removeEventListener(a[f],I,T):T>=0?l[c=T]():l[c=-T].unsubscribe(),f+=2}else{const y=l[c=a[f+1]];a[f].call(y)}if(null!==l){for(let f=c+1;f<l.length;f++)l[f]();s[7]=null}}(i,s),1===s[1].type&&fn(s[11])&&s[11].destroy();const a=s[17];if(null!==a&&si(s[3])){a!==s[3]&&Gv(a,s);const l=s[19];null!==l&&l.detachView(i)}}}function lD(i,s,a){return function hu(i,s,a){let l=s;for(;null!==l&&40&l.type;)l=(s=l).parent;if(null===l)return a[0];if(2&l.flags){const c=i.data[l.directiveStart].encapsulation;if(c===Gt.None||c===Gt.Emulated)return null}return ir(l,a)}(i,s.parent,a)}function fu(i,s,a,l,c){fn(i)?i.insertBefore(s,a,l,c):s.insertBefore(a,l,c)}function Wv(i,s,a){fn(i)?i.appendChild(s,a):s.appendChild(a)}function Zv(i,s,a,l,c){null!==l?fu(i,s,a,l,c):Wv(i,s,a)}function wp(i,s){return fn(i)?i.parentNode(s):s.parentNode}let Qv=function Om(i,s,a){return 40&i.type?ir(i,a):null};function zc(i,s,a,l){const c=lD(i,l,s),f=s[11],v=function Yv(i,s,a){return Qv(i,s,a)}(l.parent||s[6],l,s);if(null!=c)if(Array.isArray(a))for(let I=0;I<a.length;I++)Zv(f,c,a[I],v,!1);else Zv(f,c,a,v,!1)}function Ip(i,s){if(null!==s){const a=s.type;if(3&a)return ir(s,i);if(4&a)return Dp(-1,i[s.index]);if(8&a){const l=s.child;if(null!==l)return Ip(i,l);{const c=i[s.index];return si(c)?Dp(-1,c):ln(c)}}if(32&a)return Sm(s,i)()||ln(i[s.index]);{const l=Xv(i,s);return null!==l?Array.isArray(l)?l[0]:Ip(gh(i[16]),l):Ip(i,s.next)}}return null}function Xv(i,s){return null!==s?i[16][6].projection[s.projection]:null}function Dp(i,s){const a=10+i+1;if(a<s.length){const l=s[a],c=l[1].firstChild;if(null!==c)return Ip(l,c)}return s[7]}function t0(i,s,a,l,c,f,y){for(;null!=a;){const v=l[a.index],I=a.type;if(y&&0===s&&(v&&ui(ln(v),l),a.flags|=4),64!=(64&a.flags))if(8&I)t0(i,s,a.child,l,c,f,!1),Hc(s,i,c,v,f);else if(32&I){const T=Sm(a,l);let S;for(;S=T();)Hc(s,i,c,S,f);Hc(s,i,c,v,f)}else 16&I?wn(i,s,l,a,c,f):Hc(s,i,c,v,f);a=y?a.projectionNext:a.next}}function ve(i,s,a,l,c,f){t0(a,l,i.firstChild,s,c,f,!1)}function wn(i,s,a,l,c,f){const y=a[16],I=y[6].projection[l.projection];if(Array.isArray(I))for(let T=0;T<I.length;T++)Hc(s,i,c,I[T],f);else t0(i,s,I,y[3],c,f,!0)}function n0(i,s,a){fn(i)?i.setAttribute(s,"style",a):s.style.cssText=a}function us(i,s,a){fn(i)?""===a?i.removeAttribute(s,"class"):i.setAttribute(s,"class",a):s.className=a}function fD(i,s,a){let l=i.length;for(;;){const c=i.indexOf(s,a);if(-1===c)return c;if(0===c||i.charCodeAt(c-1)<=32){const f=s.length;if(c+f===l||i.charCodeAt(c+f)<=32)return c}a=c+1}}const Ho="ng-template";function bp(i,s,a){let l=0;for(;l<i.length;){let c=i[l++];if(a&&"class"===c){if(c=i[l],-1!==fD(c.toLowerCase(),s,0))return!0}else if(1===c){for(;l<i.length&&"string"==typeof(c=i[l++]);)if(c.toLowerCase()===s)return!0;return!1}}return!1}function Ea(i){return 4===i.type&&i.value!==Ho}function qt(i,s,a){return s===(4!==i.type||a?i.value:Ho)}function pD(i,s,a){let l=4;const c=i.attrs||[],f=function Tp(i){for(let s=0;s<i.length;s++)if(Pr(i[s]))return s;return i.length}(c);let y=!1;for(let v=0;v<s.length;v++){const I=s[v];if("number"!=typeof I){if(!y)if(4&l){if(l=2|1&l,""!==I&&!qt(i,I,a)||""===I&&1===s.length){if(Tr(l))return!1;y=!0}}else{const T=8&l?I:s[++v];if(8&l&&null!==i.attrs){if(!bp(i.attrs,T,a)){if(Tr(l))return!1;y=!0}continue}const k=it(8&l?"class":I,c,Ea(i),a);if(-1===k){if(Tr(l))return!1;y=!0;continue}if(""!==T){let j;j=k>f?"":c[k+1].toLowerCase();const J=8&l?j:null;if(J&&-1!==fD(J,T,0)||2&l&&T!==j){if(Tr(l))return!1;y=!0}}}}else{if(!y&&!Tr(l)&&!Tr(I))return!1;if(y&&Tr(I))continue;y=!1,l=I|1&l}}return Tr(l)||y}function Tr(i){return 0==(1&i)}function it(i,s,a,l){if(null===s)return-1;let c=0;if(l||!a){let f=!1;for(;c<s.length;){const y=s[c];if(y===i)return c;if(3===y||6===y)f=!0;else{if(1===y||2===y){let v=s[++c];for(;"string"==typeof v;)v=s[++c];continue}if(4===y)break;if(0===y){c+=4;continue}}c+=f?1:2}return-1}return function Fm(i,s){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const l=i[a];if("number"==typeof l)return-1;if(l===s)return a;a++}return-1}(s,i)}function Cp(i,s,a=!1){for(let l=0;l<s.length;l++)if(pD(i,s[l],a))return!0;return!1}function r0(i,s){return i?":not("+s.trim()+")":s}function Lm(i){let s=i[0],a=1,l=2,c="",f=!1;for(;a<i.length;){let y=i[a];if("string"==typeof y)if(2&l){const v=i[++a];c+="["+y+(v.length>0?'="'+v+'"':"")+"]"}else 8&l?c+="."+y:4&l&&(c+=" "+y);else""!==c&&!Tr(y)&&(s+=r0(f,c),c=""),l=y,f=f||!Tr(l);a++}return""!==c&&(s+=r0(f,c)),s}const Nt={};function Br(i){yh(jt(),Re(),fr()+i,!1)}function yh(i,s,a,l){if(!l)if(3==(3&s[2])){const f=i.preOrderCheckHooks;null!==f&&da(s,f,a)}else{const f=i.preOrderHooks;null!==f&&ha(s,f,0,a)}Ys(a)}function io(i,s){return i<<17|s<<2}function so(i){return i>>17&32767}function Ap(i){return 2|i}function wa(i){return(131068&i)>>2}function Sp(i,s){return-131069&i|s<<2}function qc(i){return 1|i}function $m(i,s){const a=i.contentQueries;if(null!==a)for(let l=0;l<a.length;l+=2){const c=a[l],f=a[l+1];if(-1!==f){const y=i.data[f];yc(c),y.contentQueries(2,s[f],f)}}}function Zc(i,s,a,l,c,f,y,v,I,T){const S=s.blueprint.slice();return S[0]=c,S[2]=140|l,Cs(S),S[3]=S[15]=i,S[8]=a,S[10]=y||i&&i[10],S[11]=v||i&&i[11],S[12]=I||i&&i[12]||null,S[9]=T||i&&i[9]||null,S[6]=f,S[16]=2==s.type?i[16]:S,S}function Kc(i,s,a,l,c){let f=i.data[s];if(null===f)f=function Dh(i,s,a,l,c){const f=hc(),y=Hu(),I=i.data[s]=function _0(i,s,a,l,c,f){return{type:a,index:l,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?f:f&&f.parent,a,s,l,c);return null===i.firstChild&&(i.firstChild=I),null!==f&&(y?null==f.child&&null!==I.parent&&(f.child=I):null===f.next&&(f.next=I)),I}(i,s,a,l,c),function Zd(){return mt.lFrame.inI18n}()&&(f.flags|=64);else if(64&f.type){f.type=a,f.value=l,f.attrs=c;const y=function es(){const i=mt.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();f.injectorIndex=null===y?-1:y.injectorIndex}return Ri(f,!0),f}function gu(i,s,a,l){if(0===a)return-1;const c=s.length;for(let f=0;f<a;f++)s.push(l),i.blueprint.push(l),i.data.push(null);return c}function fl(i,s,a){ca(s);try{const l=i.viewQuery;null!==l&&iy(1,l,a);const c=i.template;null!==c&&bh(i,s,c,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&$m(i,s),i.staticViewQueries&&iy(2,i.viewQuery,a);const f=i.components;null!==f&&function Hm(i,s){for(let a=0;a<s.length;a++)Hp(i,s[a])}(s,f)}catch(l){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),l}finally{s[2]&=-5,Kr()}}function qn(i,s,a,l){const c=s[2];if(256!=(256&c)){ca(s);try{Cs(s),function Co(i){return mt.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&bh(i,s,a,2,l);const y=3==(3&c);if(y){const T=i.preOrderCheckHooks;null!==T&&da(s,T,null)}else{const T=i.preOrderHooks;null!==T&&ha(s,T,0,null),Wn(s,0)}if(function Xm(i){for(let s=mp(i);null!==s;s=xm(s)){if(!s[2])continue;const a=s[9];for(let l=0;l<a.length;l++){const c=a[l],f=c[3];0==(1024&c[2])&&Ts(f,1),c[2]|=1024}}}(s),function Ah(i){for(let s=mp(i);null!==s;s=xm(s))for(let a=10;a<s.length;a++){const l=s[a],c=l[1];xi(l)&&qn(c,l,c.template,l[8])}}(s),null!==i.contentQueries&&$m(i,s),y){const T=i.contentCheckHooks;null!==T&&da(s,T)}else{const T=i.contentHooks;null!==T&&ha(s,T,1),Wn(s,1)}!function CD(i,s){const a=i.hostBindingOpCodes;if(null!==a)try{for(let l=0;l<a.length;l++){const c=a[l];if(c<0)Ys(~c);else{const f=c,y=a[++l],v=a[++l];gc(y,f),v(2,s[f])}}}finally{Ys(-1)}}(i,s);const v=i.components;null!==v&&function g0(i,s){for(let a=0;a<s.length;a++)ey(i,s[a])}(s,v);const I=i.viewQuery;if(null!==I&&iy(2,I,l),y){const T=i.viewCheckHooks;null!==T&&da(s,T)}else{const T=i.viewHooks;null!==T&&ha(s,T,2),Wn(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),s[2]&=-73,1024&s[2]&&(s[2]&=-1025,Ts(s[3],-1))}finally{Kr()}}}function Jr(i,s,a,l){const c=s[10],y=Do(s);try{!y&&c.begin&&c.begin(),y&&fl(i,s,l),qn(i,s,a,l)}finally{!y&&c.end&&c.end()}}function bh(i,s,a,l,c){const f=fr(),y=2&l;try{Ys(-1),y&&s.length>20&&yh(i,s,20,!1),a(l,c)}finally{Ys(f)}}function Gm(i,s,a){!bo()||(function xD(i,s,a,l){const c=a.directiveStart,f=a.directiveEnd;i.firstCreatePass||Ro(a,s),ui(l,s);const y=a.initialInputs;for(let v=c;v<f;v++){const I=i.data[v],T=oi(I);T&&b0(s,a,I);const S=yi(s,i,v,a);ui(S,s),null!==y&&C0(0,v-c,S,I,0,y),T&&(sr(a.index,s)[8]=S)}}(i,s,a,ir(a,s)),128==(128&a.flags)&&function RD(i,s,a){const l=a.directiveStart,c=a.directiveEnd,y=a.index,v=function ua(){return mt.lFrame.currentDirectiveIndex}();try{Ys(y);for(let I=l;I<c;I++){const T=i.data[I],S=s[I];Gu(I),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&mu(T,S)}}finally{Ys(-1),Gu(v)}}(i,s,a))}function zm(i,s,a=ir){const l=s.localNames;if(null!==l){let c=s.index+1;for(let f=0;f<l.length;f+=2){const y=l[f+1],v=-1===y?a(s,i):i[y];i[c++]=v}}}function qm(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=Lp(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function Lp(i,s,a,l,c,f,y,v,I,T){const S=20+l,k=S+c,j=function TD(i,s){const a=[];for(let l=0;l<s;l++)a.push(l<i?null:Nt);return a}(S,k),J="function"==typeof T?T():T;return j[1]={type:i,blueprint:j,template:a,queries:null,viewQuery:v,declTNode:s,data:j.slice().fill(null,S),bindingStartIndex:S,expandoStartIndex:k,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:I,consts:J,incompleteFirstPass:!1}}function Up(i,s,a,l){const c=Nh(s);null===a?c.push(l):(c.push(a),i.firstCreatePass&&Xc(i).push(l,c.length-1))}function v0(i,s,a){for(let l in i)if(i.hasOwnProperty(l)){const c=i[l];(a=null===a?{}:a).hasOwnProperty(l)?a[l].push(s,c):a[l]=[s,c]}return a}function Ii(i,s,a,l,c,f,y,v){const I=ir(s,a);let S,T=s.inputs;!v&&null!=T&&(S=T[l])?(A0(i,a,S,l,c),Ua(s)&&function E0(i,s){const a=sr(s,i);16&a[2]||(a[2]|=64)}(a,s.index)):3&s.type&&(l=function Wm(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(l),c=null!=y?y(c,s.value||"",l):c,fn(f)?f.setProperty(I,l,c):mi(l)||(I.setProperty?I.setProperty(l,c):I[l]=c))}function Km(i,s,a,l){let c=!1;if(bo()){const f=function I0(i,s,a){const l=i.directiveRegistry;let c=null;if(l)for(let f=0;f<l.length;f++){const y=l[f];Cp(a,y.selectors,!1)&&(c||(c=[]),is(Ro(a,s),i,y.type),oi(y)?(Ch(i,a),c.unshift(y)):c.push(y))}return c}(i,s,a),y=null===l?null:{"":-1};if(null!==f){c=!0,Ym(a,i.data.length,f.length);for(let S=0;S<f.length;S++){const k=f[S];k.providersResolver&&k.providersResolver(k)}let v=!1,I=!1,T=gu(i,s,f.length,null);for(let S=0;S<f.length;S++){const k=f[S];a.mergedAttrs=fa(a.mergedAttrs,k.hostAttrs),ci(i,a,s,T,k),Th(T,k,y),null!==k.contentQueries&&(a.flags|=8),(null!==k.hostBindings||null!==k.hostAttrs||0!==k.hostVars)&&(a.flags|=128);const j=k.type.prototype;!v&&(j.ngOnChanges||j.ngOnInit||j.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(a.index),v=!0),!I&&(j.ngOnChanges||j.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(a.index),I=!0),T++}!function Bp(i,s){const l=s.directiveEnd,c=i.data,f=s.attrs,y=[];let v=null,I=null;for(let T=s.directiveStart;T<l;T++){const S=c[T],k=S.inputs,j=null===f||Ea(s)?null:Qm(k,f);y.push(j),v=v0(k,T,v),I=v0(S.outputs,T,I)}null!==v&&(v.hasOwnProperty("class")&&(s.flags|=16),v.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=y,s.inputs=v,s.outputs=I}(i,a)}y&&function D0(i,s,a){if(s){const l=i.localNames=[];for(let c=0;c<s.length;c+=2){const f=a[s[c+1]];if(null==f)throw new ke(-301,!1);l.push(s[c],f)}}}(a,l,y)}return a.mergedAttrs=fa(a.mergedAttrs,a.attrs),c}function w0(i,s,a,l,c,f){const y=f.hostBindings;if(y){let v=i.hostBindingOpCodes;null===v&&(v=i.hostBindingOpCodes=[]);const I=~s.index;(function Yc(i){let s=i.length;for(;s>0;){const a=i[--s];if("number"==typeof a&&a<0)return a}return 0})(v)!=I&&v.push(I),v.push(l,c,y)}}function mu(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function Ch(i,s){s.flags|=2,(i.components||(i.components=[])).push(s.index)}function Th(i,s,a){if(a){if(s.exportAs)for(let l=0;l<s.exportAs.length;l++)a[s.exportAs[l]]=i;oi(s)&&(a[""]=i)}}function Ym(i,s,a){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+a,i.providerIndexes=s}function ci(i,s,a,l,c){i.data[l]=c;const f=c.factory||(c.factory=ai(c.type)),y=new Mo(f,oi(c),null);i.blueprint[l]=y,a[l]=y,w0(i,s,0,l,gu(i,a,c.hostVars,Nt),c)}function b0(i,s,a){const l=ir(s,i),c=qm(a),f=i[10],y=xh(i,Zc(i,c,null,a.onPush?64:16,l,s,f,f.createRenderer(l,a),null,null));i[s.index]=y}function $i(i,s,a,l,c,f){const y=ir(i,s);!function Qc(i,s,a,l,c,f,y){if(null==f)fn(i)?i.removeAttribute(s,c,a):s.removeAttribute(c);else{const v=null==y?pe(f):y(f,l||"",c);fn(i)?i.setAttribute(s,c,v,a):a?s.setAttributeNS(a,c,v):s.setAttribute(c,v)}}(s[11],y,f,i.value,a,l,c)}function C0(i,s,a,l,c,f){const y=f[s];if(null!==y){const v=l.setInput;for(let I=0;I<y.length;){const T=y[I++],S=y[I++],k=y[I++];null!==v?l.setInput(a,k,T,S):a[S]=k}}}function Qm(i,s){let a=null,l=0;for(;l<s.length;){const c=s[l];if(0!==c)if(5!==c){if("number"==typeof c)break;i.hasOwnProperty(c)&&(null===a&&(a=[]),a.push(c,i[c],s[l+1])),l+=2}else l+=2;else l+=4}return a}function Jm(i,s,a,l){return new Array(i,!0,!1,s,null,0,l,a,null,null)}function ey(i,s){const a=sr(s,i);if(xi(a)){const l=a[1];80&a[2]?qn(l,a,l.template,a[8]):a[5]>0&&Sh(a)}}function Sh(i){for(let l=mp(i);null!==l;l=xm(l))for(let c=10;c<l.length;c++){const f=l[c];if(1024&f[2]){const y=f[1];qn(y,f,y.template,f[8])}else f[5]>0&&Sh(f)}const a=i[1].components;if(null!==a)for(let l=0;l<a.length;l++){const c=sr(a[l],i);xi(c)&&c[5]>0&&Sh(c)}}function Hp(i,s){const a=sr(s,i),l=a[1];(function Mh(i,s){for(let a=s.length;a<i.blueprint.length;a++)s.push(i.blueprint[a])})(l,a),fl(l,a,a[8])}function xh(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function ty(i){for(;i;){i[2]|=64;const s=gh(i);if(Hd(i)&&!s)return i;i=s}return null}function ry(i){!function Jc(i){for(let s=0;s<i.components.length;s++){const a=i.components[s],l=Im(a),c=l[1];Jr(c,l,c.template,a)}}(i[8])}function iy(i,s,a){yc(0),s(i,a)}const T0=(()=>Promise.resolve(null))();function Nh(i){return i[7]||(i[7]=[])}function Xc(i){return i.cleanup||(i.cleanup=[])}function zp(i,s){const a=i[9],l=a?a.get(fp,null):null;l&&l.handleError(s)}function A0(i,s,a,l,c){for(let f=0;f<a.length;){const y=a[f++],v=a[f++],I=s[y],T=i.data[y];null!==T.setInput?T.setInput(I,c,l,v):I[v]=c}}function oo(i,s,a){const l=qs(s,i);!function $v(i,s,a){fn(i)?i.setValue(s,a):s.textContent=a}(i[11],l,a)}function Ia(i,s,a){let l=a?i.styles:null,c=a?i.classes:null,f=0;if(null!==s)for(let y=0;y<s.length;y++){const v=s[y];"number"==typeof v?f=v:1==f?c=me(c,v):2==f&&(l=me(l,v+": "+s[++y]+";"))}a?i.styles=l:i.stylesWithoutHost=l,a?i.classes=c:i.classesWithoutHost=c}const oy=new On("INJECTOR",-1);class _u{get(s,a=ss){if(a===ss){const l=new Error(`NullInjectorError: No provider for ${ae(s)}!`);throw l.name="NullInjectorError",l}return a}}const ao=new On("Set Injector scope."),vu={},qp={};let ed;function ay(){return void 0===ed&&(ed=new _u),ed}function Fn(i,s=null,a=null,l){const c=Oh(i,s,a,l);return c._resolveInjectorDefTypes(),c}function Oh(i,s=null,a=null,l){return new FD(i,a,s||ay(),l)}class FD{constructor(s,a,l,c=null){this.parent=l,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const f=[];a&&Fr(a,v=>this.processProvider(v,s,a)),Fr([s],v=>this.processInjectorType(v,[],f)),this.records.set(oy,gl(void 0,this));const y=this.records.get(ao);this.scope=null!=y?y.value:null,this.source=c||("object"==typeof s?null:ae(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,a=ss,l=ht.Default){this.assertNotDestroyed();const c=Y(this),f=Kt(void 0);try{if(!(l&ht.SkipSelf)){let v=this.records.get(s);if(void 0===v){const I=function R0(i){return"function"==typeof i||"object"==typeof i&&i instanceof On}(s)&&vn(s);v=I&&this.injectableDefInScope(I)?gl(uy(s),vu):null,this.records.set(s,v)}if(null!=v)return this.hydrate(s,v)}return(l&ht.Self?ay():this.parent).get(s,a=l&ht.Optional&&a===ss?null:a)}catch(y){if("NullInjectorError"===y.name){if((y[iu]=y[iu]||[]).unshift(ae(s)),c)throw y;return function Tn(i,s,a,l){const c=i[iu];throw s[M]&&c.unshift(s[M]),i.message=function Ui(i,s,a,l=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let c=ae(s);if(Array.isArray(s))c=s.map(ae).join(" -> ");else if("object"==typeof s){let f=[];for(let y in s)if(s.hasOwnProperty(y)){let v=s[y];f.push(y+":"+("string"==typeof v?JSON.stringify(v):ae(v)))}c=`{${f.join(", ")}}`}return`${a}${l?"("+l+")":""}[${c}]: ${i.replace(D,"\n  ")}`}("\n"+i.message,c,a,l),i.ngTokenPath=c,i[iu]=null,i}(y,s,"R3InjectorError",this.source)}throw y}finally{Kt(f),Y(c)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((l,c)=>s.push(ae(c))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ke(205,!1)}processInjectorType(s,a,l){if(!(s=re(s)))return!1;let c=Ti(s);const f=null==c&&s.ngModule||void 0,y=void 0===f?s:f,v=-1!==l.indexOf(y);if(void 0!==f&&(c=Ti(f)),null==c)return!1;if(null!=c.imports&&!v){let S;l.push(y);try{Fr(c.imports,k=>{this.processInjectorType(k,a,l)&&(void 0===S&&(S=[]),S.push(k))})}finally{}if(void 0!==S)for(let k=0;k<S.length;k++){const{ngModule:j,providers:J}=S[k];Fr(J,we=>this.processProvider(we,j,J||V))}}this.injectorDefTypes.add(y);const I=ai(y)||(()=>new y);this.records.set(y,gl(I,vu));const T=c.providers;if(null!=T&&!v){const S=s;Fr(T,k=>this.processProvider(k,S,T))}return void 0!==f&&void 0!==s.providers}processProvider(s,a,l){let c=td(s=re(s))?s:re(s&&s.provide);const f=function kh(i,s,a){return M0(i)?gl(void 0,i.useValue):gl(S0(i),vu)}(s);if(td(s)||!0!==s.multi)this.records.get(c);else{let y=this.records.get(c);y||(y=gl(void 0,vu,!0),y.factory=()=>$t(y.multi),this.records.set(c,y)),c=s,y.multi.push(s)}this.records.set(c,f)}hydrate(s,a){return a.value===vu&&(a.value=qp,a.value=a.factory()),"object"==typeof a.value&&a.value&&function x0(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this.onDestroy.add(a.value),a.value}injectableDefInScope(s){if(!s.providedIn)return!1;const a=re(s.providedIn);return"string"==typeof a?"any"===a||a===this.scope:this.injectorDefTypes.has(a)}}function uy(i){const s=vn(i),a=null!==s?s.factory:ai(i);if(null!==a)return a;if(i instanceof On)throw new ke(204,!1);if(i instanceof Function)return function Ph(i){const s=i.length;if(s>0)throw function to(i,s){const a=[];for(let l=0;l<i;l++)a.push(s);return a}(s,"?"),new ke(204,!1);const a=function vr(i){const s=i&&(i[ni]||i[Bn]);if(s){const a=function In(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),s}return null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new ke(204,!1)}function S0(i,s,a){let l;if(td(i)){const c=re(i);return ai(c)||uy(c)}if(M0(i))l=()=>re(i.useValue);else if(function VD(i){return!(!i||!i.useFactory)}(i))l=()=>i.useFactory(...$t(i.deps||[]));else if(function LD(i){return!(!i||!i.useExisting)}(i))l=()=>ze(re(i.useExisting));else{const c=re(i&&(i.useClass||i.provide));if(!function Eu(i){return!!i.deps}(i))return ai(c)||uy(c);l=()=>new c(...$t(i.deps))}return l}function gl(i,s,a=!1){return{factory:i,value:s,multi:a?[]:void 0}}function M0(i){return null!==i&&"object"==typeof i&&F in i}function td(i){return"function"==typeof i}let uo=(()=>{class i{static create(a,l){var c;if(Array.isArray(a))return Fn({name:""},l,a,"");{const f=null!==(c=a.name)&&void 0!==c?c:"";return Fn({name:f},a.parent,a.providers,f)}}}return i.THROW_IF_NOT_FOUND=ss,i.NULL=new _u,i.\u0275prov=Xt({token:i,providedIn:"any",factory:()=>ze(oy)}),i.__NG_ELEMENT_ID__=-1,i})();function $D(i,s){ts(Im(i)[1],mn())}function Qp(i){let s=function my(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const l=[i];for(;s;){let c;if(oi(i))c=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new ke(903,"");c=s.\u0275dir}if(c){if(a){l.push(c);const y=i;y.inputs=nd(i.inputs),y.declaredInputs=nd(i.declaredInputs),y.outputs=nd(i.outputs);const v=c.hostBindings;v&&j0(i,v);const I=c.viewQuery,T=c.contentQueries;if(I&&B0(i,I),T&&Da(i,T),de(i.inputs,c.inputs),de(i.declaredInputs,c.declaredInputs),de(i.outputs,c.outputs),oi(c)&&c.data.animation){const S=i.data;S.animation=(S.animation||[]).concat(c.data.animation)}}const f=c.features;if(f)for(let y=0;y<f.length;y++){const v=f[y];v&&v.ngInherit&&v(i),v===Qp&&(a=!1)}}s=Object.getPrototypeOf(s)}!function U0(i){let s=0,a=null;for(let l=i.length-1;l>=0;l--){const c=i[l];c.hostVars=s+=c.hostVars,c.hostAttrs=fa(c.hostAttrs,a=fa(a,c.hostAttrs))}}(l)}function nd(i){return i===an?{}:i===V?[]:i}function B0(i,s){const a=i.viewQuery;i.viewQuery=a?(l,c)=>{s(l,c),a(l,c)}:s}function Da(i,s){const a=i.contentQueries;i.contentQueries=a?(l,c,f)=>{s(l,c,f),a(l,c,f)}:s}function j0(i,s){const a=i.hostBindings;i.hostBindings=a?(l,c)=>{s(l,c),a(l,c)}:s}let Vh=null;function Iu(){if(!Vh){const i=Bt.Symbol;if(i&&i.iterator)Vh=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<s.length;++a){const l=s[a];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(Vh=l)}}}return Vh}function rd(i){return!!vy(i)&&(Array.isArray(i)||!(i instanceof Map)&&Iu()in i)}function vy(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Xr(i,s,a){return!Object.is(i[s],a)&&(i[s]=a,!0)}function eg(i,s,a,l){const c=Re();return Xr(c,To(),s)&&(jt(),$i(Hn(),c,i,s,a,l)),eg}function yl(i,s,a,l){return Xr(i,To(),a)?s+pe(a)+l:Nt}function _l(i,s,a,l,c,f){const v=function Du(i,s,a,l){const c=Xr(i,s,a);return Xr(i,s+1,l)||c}(i,function Ni(){return mt.lFrame.bindingIndex}(),a,c);return Zr(2),v?s+pe(a)+l+pe(c)+f:Nt}function W0(i,s,a,l,c,f,y,v){const I=Re(),T=jt(),S=i+20,k=T.firstCreatePass?function q0(i,s,a,l,c,f,y,v,I){const T=s.consts,S=Kc(s,i,4,y||null,Wr(T,v));Km(s,a,S,Wr(T,I)),ts(s,S);const k=S.tViews=Lp(2,S,l,c,f,s.directiveRegistry,s.pipeRegistry,null,s.schemas,T);return null!==s.queries&&(s.queries.template(s,S),k.queries=s.queries.embeddedTView(S)),S}(S,T,I,s,a,l,c,f,y):T.data[S];Ri(k,!1);const j=I[11].createComment("");zc(T,I,j,k),ui(j,I),xh(I,I[S]=Jm(j,I,j,k)),Is(k)&&Gm(T,I,k),null!=y&&zm(I,k,v)}function Z0(i){return function Xi(i,s){return i[s]}(function fc(){return mt.lFrame.contextLView}(),20+i)}function Bh(i,s=ht.Default){const a=Re();return null===a?ze(i,s):Ms(mn(),a,re(i),s)}function yr(){throw new Error("invalid")}function My(i,s,a){const l=Re();return Xr(l,To(),s)&&Ii(jt(),Hn(),l,i,s,l[11],a,!1),My}function zo(i,s,a,l,c){const y=c?"class":"style";A0(i,a,s.inputs[y],y,l)}function qo(i,s,a,l){const c=Re(),f=jt(),y=20+i,v=c[11],I=c[y]=Ei(v,s,function Yf(){return mt.lFrame.currentNamespace}()),T=f.firstCreatePass?function Yn(i,s,a,l,c,f,y){const v=s.consts,T=Kc(s,i,2,c,Wr(v,f));return Km(s,a,T,Wr(v,y)),null!==T.attrs&&Ia(T,T.attrs,!1),null!==T.mergedAttrs&&Ia(T,T.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,T),T}(y,f,c,0,s,a,l):f.data[y];Ri(T,!0);const S=T.mergedAttrs;null!==S&&Oi(v,I,S);const k=T.classes;null!==k&&us(v,I,k);const j=T.styles;return null!==j&&n0(v,I,j),64!=(64&T.flags)&&zc(f,c,I,T),0===function cc(){return mt.lFrame.elementDepthCount}()&&ui(I,c),function oa(){mt.lFrame.elementDepthCount++}(),Is(T)&&(Gm(f,c,T),function Fp(i,s,a){if(ec(s)){const c=s.directiveEnd;for(let f=s.directiveStart;f<c;f++){const y=i.data[f];y.contentQueries&&y.contentQueries(1,a[f],f)}}}(f,T,c)),null!==l&&zm(c,T),qo}function ud(){let i=mn();Hu()?function aa(){mt.lFrame.isParent=!1}():(i=i.parent,Ri(i,!1));const s=i;!function dc(){mt.lFrame.elementDepthCount--}();const a=jt();return a.firstCreatePass&&(ts(a,i),ec(i)&&a.queries.elementEnd(i)),null!=s.classesWithoutHost&&function Jf(i){return 0!=(16&i.flags)}(s)&&zo(a,s,Re(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function bn(i){return 0!=(32&i.flags)}(s)&&zo(a,s,Re(),s.stylesWithoutHost,!1),ud}function ig(i,s,a,l){return qo(i,s,a,l),ud(),ig}function xy(){return Re()}function Qe(i){return!!i&&"function"==typeof i.then}function Sa(i){return!!i&&"function"==typeof i.subscribe}const jh=Sa;function Ma(i,s,a,l){const c=Re(),f=jt(),y=mn();return function xa(i,s,a,l,c,f,y,v){const I=Is(l),S=i.firstCreatePass&&Xc(i),k=s[8],j=Nh(s);let J=!0;if(3&l.type||v){const Je=ir(l,s),$e=v?v(Je):Je,Ne=j.length,yt=v?gt=>v(ln(gt[l.index])):l.index;if(fn(a)){let gt=null;if(!v&&I&&(gt=function $h(i,s,a,l){const c=i.cleanup;if(null!=c)for(let f=0;f<c.length-1;f+=2){const y=c[f];if(y===a&&c[f+1]===l){const v=s[7],I=c[f+2];return v.length>I?v[I]:null}"string"==typeof y&&(f+=2)}return null}(i,s,c,l.index)),null!==gt)(gt.__ngLastListenerFn__||gt).__ngNextListenerFn__=f,gt.__ngLastListenerFn__=f,J=!1;else{f=Cu(l,s,k,f,!1);const dn=a.listen($e,c,f);j.push(f,dn),S&&S.push(c,yt,Ne,Ne+1)}}else f=Cu(l,s,k,f,!0),$e.addEventListener(c,f,y),j.push(f),S&&S.push(c,yt,Ne,y)}else f=Cu(l,s,k,f,!1);const we=l.outputs;let Be;if(J&&null!==we&&(Be=we[c])){const Je=Be.length;if(Je)for(let $e=0;$e<Je;$e+=2){const gs=s[Be[$e]][Be[$e+1]].subscribe(f),Yl=j.length;j.push(f,gs),S&&S.push(c,l.index,Yl,-(Yl+1))}}}(f,c,c[11],y,i,s,!!a,l),Ma}function Ry(i,s,a,l){try{return!1!==a(l)}catch(c){return zp(i,c),!1}}function Cu(i,s,a,l,c){return function f(y){if(y===Function)return l;const v=2&i.flags?sr(i.index,s):s;0==(32&s[2])&&ty(v);let I=Ry(s,0,l,y),T=f.__ngNextListenerFn__;for(;T;)I=Ry(s,0,T,y)&&I,T=T.__ngNextListenerFn__;return c&&!1===I&&(y.preventDefault(),y.returnValue=!1),I}}function og(i=1){return function Yd(i){return(mt.lFrame.contextLView=function qu(i,s){for(;i>0;)s=s[15],i--;return s}(i,mt.lFrame.contextLView))[8]}(i)}function ag(i,s,a){return Gh(i,"",s,"",a),ag}function Gh(i,s,a,l,c){const f=Re(),y=yl(f,s,a,l);return y!==Nt&&Ii(jt(),Hn(),f,i,y,f[11],c,!1),Gh}function cd(i,s,a,l,c,f,y){const v=Re(),I=_l(v,s,a,l,c,f);return I!==Nt&&Ii(jt(),Hn(),v,i,I,v[11],y,!1),cd}function lg(i,s,a,l,c){const f=i[a+1],y=null===s;let v=l?so(f):wa(f),I=!1;for(;0!==v&&(!1===I||y);){const S=i[v+1];Al(i[v],s)&&(I=!0,i[v+1]=l?qc(S):Ap(S)),v=l?so(S):wa(S)}I&&(i[a+1]=l?Ap(f):qc(f))}function Al(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&ma(i,s)>=0}function Ml(i,s){return function Dn(i,s,a,l){const c=Re(),f=jt(),y=Zr(2);f.firstUpdatePass&&function dE(i,s,a,l){const c=i.data;if(null===c[a+1]){const f=c[fr()],y=function cE(i,s){return s>=i.expandoStartIndex}(i,a);(function gE(i,s){return 0!=(i.flags&(s?16:32))})(f,l)&&null===s&&!y&&(s=!1),s=function hE(i,s,a,l){const c=function So(i){const s=mt.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}(i);let f=l?s.residualClasses:s.residualStyles;if(null===c)0===(l?s.classBindings:s.styleBindings)&&(a=Us(a=Ly(null,i,s,a,l),s.attrs,l),f=null);else{const y=s.directiveStylingLast;if(-1===y||i[y]!==c)if(a=Ly(c,i,s,a,l),null===f){let I=function QD(i,s,a){const l=a?s.classBindings:s.styleBindings;if(0!==wa(l))return i[so(l)]}(i,s,l);void 0!==I&&Array.isArray(I)&&(I=Ly(null,i,s,I[1],l),I=Us(I,s.attrs,l),function JD(i,s,a,l){i[so(a?s.classBindings:s.styleBindings)]=l}(i,s,l,I))}else f=function XD(i,s,a){let l;const c=s.directiveEnd;for(let f=1+s.directiveStylingLast;f<c;f++)l=Us(l,i[f].hostAttrs,a);return Us(l,s.attrs,a)}(i,s,l)}return void 0!==f&&(l?s.residualClasses=f:s.residualStyles=f),a}(c,f,s,l),function Ln(i,s,a,l,c,f){let y=f?s.classBindings:s.styleBindings,v=so(y),I=wa(y);i[l]=a;let S,T=!1;if(Array.isArray(a)){const k=a;S=k[1],(null===S||ma(k,S)>0)&&(T=!0)}else S=a;if(c)if(0!==I){const j=so(i[v+1]);i[l+1]=io(j,v),0!==j&&(i[j+1]=Sp(i[j+1],l)),i[v+1]=function o0(i,s){return 131071&i|s<<17}(i[v+1],l)}else i[l+1]=io(v,0),0!==v&&(i[v+1]=Sp(i[v+1],l)),v=l;else i[l+1]=io(I,0),0===v?v=l:i[I+1]=Sp(i[I+1],l),I=l;T&&(i[l+1]=Ap(i[l+1])),lg(i,S,l,!0),lg(i,S,l,!1),function ug(i,s,a,l,c){const f=c?i.residualClasses:i.residualStyles;null!=f&&"string"==typeof s&&ma(f,s)>=0&&(a[l+1]=qc(a[l+1]))}(s,S,i,l,f),y=io(v,I),f?s.classBindings=y:s.styleBindings=y}(c,f,s,a,y,l)}}(f,i,y,l),s!==Nt&&Xr(c,y,s)&&function Vy(i,s,a,l,c,f,y,v){if(!(3&s.type))return;const I=i.data,T=I[v+1];qh(function Mp(i){return 1==(1&i)}(T)?Wo(I,s,a,c,wa(T),y):void 0)||(qh(f)||function s0(i){return 2==(2&i)}(T)&&(f=Wo(I,null,a,c,v,y)),function hD(i,s,a,l,c){const f=fn(i);if(s)c?f?i.addClass(a,l):a.classList.add(l):f?i.removeClass(a,l):a.classList.remove(l);else{let y=-1===l.indexOf("-")?void 0:$o.DashCase;if(null==c)f?i.removeStyle(a,l,y):a.style.removeProperty(l);else{const v="string"==typeof c&&c.endsWith("!important");v&&(c=c.slice(0,-10),y|=$o.Important),f?i.setStyle(a,l,c,y):a.style.setProperty(l,c,v?"important":"")}}}(l,y,qs(fr(),a),c,f))}(f,f.data[fr()],c,c[11],i,c[y+1]=function gd(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=ae(os(i)))),i}(s,a),l,y)}(i,s,null,!0),Ml}function Ly(i,s,a,l,c){let f=null;const y=a.directiveEnd;let v=a.directiveStylingLast;for(-1===v?v=a.directiveStart:v++;v<y&&(f=s[v],l=Us(l,f.hostAttrs,c),f!==i);)v++;return null!==i&&(a.directiveStylingLast=v),l}function Us(i,s,a){const l=a?1:2;let c=-1;if(null!==s)for(let f=0;f<s.length;f++){const y=s[f];"number"==typeof y?c=y:c===l&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),Lr(i,y,!!a||s[++f]))}return void 0===i?null:i}function Wo(i,s,a,l,c,f){const y=null===s;let v;for(;c>0;){const I=i[c],T=Array.isArray(I),S=T?I[1]:I,k=null===S;let j=a[c+1];j===Nt&&(j=k?V:void 0);let J=k?tu(j,l):S===l?j:void 0;if(T&&!qh(J)&&(J=tu(I,l)),qh(J)&&(v=J,y))return v;const we=i[c+1];c=y?so(we):wa(we)}if(null!==s){let I=f?s.residualClasses:s.residualStyles;null!=I&&(v=tu(I,l))}return v}function qh(i){return void 0!==i}function dg(i,s=""){const a=Re(),l=jt(),c=i+20,f=l.firstCreatePass?Kc(l,c,1,s,null):l.data[c],y=a[c]=function yp(i,s){return fn(i)?i.createText(s):i.createTextNode(s)}(a[11],s);zc(l,a,y,f),Ri(f,!1)}function Wh(i){return md("",i,""),Wh}function md(i,s,a){const l=Re(),c=yl(l,i,s,a);return c!==Nt&&oo(l,fr(),c),md}function Tu(i,s,a,l,c){const f=Re(),y=_l(f,i,s,a,l,c);return y!==Nt&&oo(f,fr(),y),Tu}const hs=void 0;var xE=["en",[["a","p"],["AM","PM"],hs],[["AM","PM"],hs,hs],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],hs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],hs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",hs,"{1} 'at' {0}",hs],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function ME(i){const a=Math.floor(Math.abs(i)),l=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===l?1:5}];let Nl={};function Qh(i){const s=function Au(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=en(s);if(a)return a;const l=s.split("-")[0];if(a=en(l),a)return a;if("en"===l)return xE;throw new Error(`Missing locale data for the locale "${i}".`)}function dr(i){return Qh(i)[_t.PluralCase]}function en(i){return i in Nl||(Nl[i]=Bt.ng&&Bt.ng.common&&Bt.ng.common.locales&&Bt.ng.common.locales[i]),Nl[i]}var _t=(()=>((_t=_t||{})[_t.LocaleId=0]="LocaleId",_t[_t.DayPeriodsFormat=1]="DayPeriodsFormat",_t[_t.DayPeriodsStandalone=2]="DayPeriodsStandalone",_t[_t.DaysFormat=3]="DaysFormat",_t[_t.DaysStandalone=4]="DaysStandalone",_t[_t.MonthsFormat=5]="MonthsFormat",_t[_t.MonthsStandalone=6]="MonthsStandalone",_t[_t.Eras=7]="Eras",_t[_t.FirstDayOfWeek=8]="FirstDayOfWeek",_t[_t.WeekendRange=9]="WeekendRange",_t[_t.DateFormat=10]="DateFormat",_t[_t.TimeFormat=11]="TimeFormat",_t[_t.DateTimeFormat=12]="DateTimeFormat",_t[_t.NumberSymbols=13]="NumberSymbols",_t[_t.NumberFormats=14]="NumberFormats",_t[_t.CurrencyCode=15]="CurrencyCode",_t[_t.CurrencySymbol=16]="CurrencySymbol",_t[_t.CurrencyName=17]="CurrencyName",_t[_t.Currencies=18]="Currencies",_t[_t.Directionality=19]="Directionality",_t[_t.PluralCase=20]="PluralCase",_t[_t.ExtraData=21]="ExtraData",_t))();const yg="en-US";let RE=yg;function sf(i,s,a,l,c){if(i=re(i),Array.isArray(i))for(let f=0;f<i.length;f++)sf(i[f],s,a,l,c);else{const f=jt(),y=Re();let v=td(i)?i:re(i.provide),I=S0(i);const T=mn(),S=1048575&T.providerIndexes,k=T.directiveStart,j=T.providerIndexes>>20;if(td(i)||!i.multi){const J=new Mo(I,c,Bh),we=of(v,s,c?S:S+j,k);-1===we?(is(Ro(T,y),f,v),wg(f,i,s.length),s.push(v),T.directiveStart++,T.directiveEnd++,c&&(T.providerIndexes+=1048576),a.push(J),y.push(J)):(a[we]=J,y[we]=J)}else{const J=of(v,s,S+j,k),we=of(v,s,S,S+j),Be=J>=0&&a[J],Je=we>=0&&a[we];if(c&&!Je||!c&&!Be){is(Ro(T,y),f,v);const $e=function tw(i,s,a,l,c){const f=new Mo(i,a,Bh);return f.multi=[],f.index=s,f.componentProviders=0,xr(f,c,l&&!a),f}(c?n_:t_,a.length,c,l,I);!c&&Je&&(a[we].providerFactory=$e),wg(f,i,s.length,0),s.push(v),T.directiveStart++,T.directiveEnd++,c&&(T.providerIndexes+=1048576),a.push($e),y.push($e)}else wg(f,i,J>-1?J:we,xr(a[c?we:J],I,!c&&l));!c&&l&&Je&&a[we].componentProviders++}}}function wg(i,s,a,l){const c=td(s),f=function Fh(i){return!!i.useClass}(s);if(c||f){const I=(f?re(s.useClass):s).prototype.ngOnDestroy;if(I){const T=i.destroyHooks||(i.destroyHooks=[]);if(!c&&s.multi){const S=T.indexOf(a);-1===S?T.push(a,[l,I]):T[S+1].push(l,I)}else T.push(a,I)}}}function xr(i,s,a){return a&&i.componentProviders++,i.multi.push(s)-1}function of(i,s,a,l){for(let c=a;c<l;c++)if(s[c]===i)return c;return-1}function t_(i,s,a,l){return Yo(this.multi,[])}function n_(i,s,a,l){const c=this.multi;let f;if(this.providerFactory){const y=this.providerFactory.componentProviders,v=yi(a,a[1],this.providerFactory.index,l);f=v.slice(0,y),Yo(c,f);for(let I=y;I<v.length;I++)f.push(v[I])}else f=[],Yo(c,f);return f}function Yo(i,s){for(let a=0;a<i.length;a++)s.push((0,i[a])());return s}function nw(i,s=[]){return a=>{a.providersResolver=(l,c)=>function ew(i,s,a){const l=jt();if(l.firstCreatePass){const c=oi(i);sf(a,l.data,l.blueprint,c,!0),sf(s,l.data,l.blueprint,c,!1)}}(l,c?c(i):i,s)}}class af{}class lf{resolveComponentFactory(s){throw function Pl(i){const s=Error(`No component factory found for ${ae(i)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=i,s}(s)}}let cf=(()=>{class i{}return i.NULL=new lf,i})();function r_(){return Nu(mn(),Re())}function Nu(i,s){return new Td(ir(i,s))}let Td=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=r_,i})();function Mb(i){return i instanceof Td?i.nativeElement:i}class i_{}let s_=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function kl(){const i=Re(),a=sr(mn().index,i);return function df(i){return i[11]}(pi(a)?a:i)}(),i})(),Rb=(()=>{class i{}return i.\u0275prov=Xt({token:i,providedIn:"root",factory:()=>null}),i})();class o_{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const iw=new o_("13.3.9"),a_={};function Ig(i,s,a,l,c=!1){for(;null!==a;){const f=s[a.index];if(null!==f&&l.push(ln(f)),si(f))for(let v=10;v<f.length;v++){const I=f[v],T=I[1].firstChild;null!==T&&Ig(I[1],I,T,l)}const y=a.type;if(8&y)Ig(i,s,a.child,l);else if(32&y){const v=Sm(a,s);let I;for(;I=v();)l.push(I)}else if(16&y){const v=Xv(s,a);if(Array.isArray(v))l.push(...v);else{const I=gh(s[16]);Ig(I[1],I,v,l,!0)}}a=c?a.projectionNext:a.next}return l}class Na{constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,a=s[1];return Ig(a,s,a.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(si(s)){const a=s[8],l=a?a.indexOf(this):-1;l>-1&&(vp(s,l),Vo(a,l))}this._attachedToViewContainer=!1}zv(this._lView[1],this._lView)}onDestroy(s){Up(this._lView[1],this._lView,null,s)}markForCheck(){ty(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){!function Rh(i,s,a){const l=s[10];l.begin&&l.begin();try{qn(i,s,i.template,a)}catch(c){throw zp(s,c),c}finally{l.end&&l.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ke(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Rm(i,s){ve(i,s,s[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new ke(902,"");this._appRef=s}}class Fl extends Na{constructor(s){super(s),this._view=s}detectChanges(){ry(this._view)}checkNoChanges(){}get context(){return null}}class Ou extends cf{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=at(s);return new hf(a,this.ngModule)}}function u_(i){const s=[];for(let a in i)i.hasOwnProperty(a)&&s.push({propName:i[a],templateName:a});return s}class hf extends af{constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function gD(i){return i.map(Lm).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return u_(this.componentDef.inputs)}get outputs(){return u_(this.componentDef.outputs)}create(s,a,l,c){const f=(c=c||this.ngModule)?function Ob(i,s){return{get:(a,l,c)=>{const f=i.get(a,a_,c);return f!==a_||l===a_?f:s.get(a,l,c)}}}(s,c.injector):s,y=f.get(i_,ia),v=f.get(Rb,null),I=y.createRenderer(null,this.componentDef),T=this.componentDef.selectors[0][0]||"div",S=l?function y0(i,s,a){if(fn(i))return i.selectRootElement(s,a===Gt.ShadowDom);let l="string"==typeof s?i.querySelector(s):s;return l.textContent="",l}(I,l,this.componentDef.encapsulation):Ei(y.createRenderer(null,this.componentDef),T,function Nb(i){const s=i.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(T)),k=this.componentDef.onPush?576:528,j=function V0(i,s){return{components:[],scheduler:i||iD,clean:T0,playerHandler:s||null,flags:0}}(),J=Lp(0,null,null,1,0,null,null,null,null,null),we=Zc(null,J,j,k,null,null,y,I,v,f);let Be,Je;ca(we);try{const $e=function gy(i,s,a,l,c,f){const y=a[1];a[20]=i;const I=Kc(y,20,2,"#host",null),T=I.mergedAttrs=s.hostAttrs;null!==T&&(Ia(I,T,!0),null!==i&&(Oi(c,i,T),null!==I.classes&&us(c,i,I.classes),null!==I.styles&&n0(c,i,I.styles)));const S=l.createRenderer(i,s),k=Zc(a,qm(s),null,s.onPush?64:16,a[20],I,l,S,f||null,null);return y.firstCreatePass&&(is(Ro(I,a),y,s.type),Ch(y,I),Ym(I,a.length,1)),xh(a,k),a[20]=k}(S,this.componentDef,we,y,I);if(S)if(l)Oi(I,S,["ng-version",iw.full]);else{const{attrs:Ne,classes:yt}=function mD(i){const s=[],a=[];let l=1,c=2;for(;l<i.length;){let f=i[l];if("string"==typeof f)2===c?""!==f&&s.push(f,i[++l]):8===c&&a.push(f);else{if(!Tr(c))break;c=f}l++}return{attrs:s,classes:a}}(this.componentDef.selectors[0]);Ne&&Oi(I,S,Ne),yt&&yt.length>0&&us(I,S,yt.join(" "))}if(Je=Nn(J,20),void 0!==a){const Ne=Je.projection=[];for(let yt=0;yt<this.ngContentSelectors.length;yt++){const gt=a[yt];Ne.push(null!=gt?Array.from(gt):null)}}Be=function L0(i,s,a,l,c){const f=a[1],y=function $p(i,s,a){const l=mn();i.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),ci(i,l,s,gu(i,s,1,null),a));const c=yi(s,i,l.directiveStart,l);ui(c,s);const f=ir(l,s);return f&&ui(f,s),c}(f,a,s);if(l.components.push(y),i[8]=y,c&&c.forEach(I=>I(y,s)),s.contentQueries){const I=mn();s.contentQueries(1,y,I.directiveStart)}const v=mn();return!f.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(Ys(v.index),w0(a[1],v,0,v.directiveStart,v.directiveEnd,s),mu(s,y)),y}($e,this.componentDef,we,j,[$D]),fl(J,we,null)}finally{Kr()}return new sw(this.componentType,Be,Nu(Je,we),we,Je)}}class sw extends class rw{}{constructor(s,a,l,c,f){super(),this.location=l,this._rootLView=c,this._tNode=f,this.instance=a,this.hostView=this.changeDetectorRef=new Fl(c),this.componentType=s}get injector(){return new ki(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}class Oa{}class pf{}const Ll=new Map;class Ul extends Oa{constructor(s,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Ou(this);const l=kt(s);this._bootstrapComponents=ro(l.bootstrap),this._r3Injector=Oh(s,a,[{provide:Oa,useValue:this},{provide:cf,useValue:this.componentFactoryResolver}],ae(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,a=uo.THROW_IF_NOT_FOUND,l=ht.Default){return s===uo||s===Oa||s===oy?this:this._r3Injector.get(s,a,l)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class Cg extends pf{constructor(s){super(),this.moduleType=s,null!==kt(s)&&function bg(i){const s=new Set;!function a(l){const c=kt(l,!0),f=c.id;null!==f&&(function l_(i,s,a){if(s&&s!==a)throw new Error(`Duplicate module registered for ${i} - ${ae(s)} vs ${ae(s.name)}`)}(f,Ll.get(f),l),Ll.set(f,l));const y=ro(c.imports);for(const v of y)s.has(v)||(s.add(v),a(v))}(i)}(s)}create(s){return new Ul(this.moduleType,s)}}function Pu(i,s,a){const l=function or(){const i=mt.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}()+i,c=Re();return c[l]===Nt?function lo(i,s,a){return i[s]=a}(c,l,a?s.call(a):s()):function ba(i,s){return i[s]}(c,l)}function Hl(i){return s=>{setTimeout(i,void 0,s)}}const ps=class f_ extends h.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,l){var c,f,y;let v=s,I=a||(()=>null),T=l;if(s&&"object"==typeof s){const k=s;v=null===(c=k.next)||void 0===c?void 0:c.bind(k),I=null===(f=k.error)||void 0===f?void 0:f.bind(k),T=null===(y=k.complete)||void 0===y?void 0:y.bind(k)}this.__isAsync&&(I=Hl(I),v&&(v=Hl(v)),T&&(T=Hl(T)));const S=super.subscribe({next:v,error:I,complete:T});return s instanceof L.w0&&s.add(S),S}};function p_(){return this._results[Iu()]()}class g_{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Iu(),l=g_.prototype;l[a]||(l[a]=p_)}get changes(){return this._changes||(this._changes=new ps)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const l=this;l.dirty=!1;const c=br(s);(this._changesDetected=!function Ja(i,s,a){if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++){let c=i[l],f=s[l];if(a&&(c=a(c),f=a(f)),f!==c)return!1}return!0}(l._results,c,a))&&(l._results=c,l.length=c.length,l.last=c[this.length-1],l.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Gl=(()=>{class i{}return i.__NG_ELEMENT_ID__=yw,i})();const mw=Gl,Vb=class extends mw{constructor(s,a,l){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=l}createEmbeddedView(s){const a=this._declarationTContainer.tViews,l=Zc(this._declarationLView,a,s,16,null,a.declTNode,null,null,null,null);l[17]=this._declarationLView[this._declarationTContainer.index];const f=this._declarationLView[19];return null!==f&&(l[19]=f.createEmbeddedView(a)),fl(a,l,s),new Na(l)}};function yw(){return _f(mn(),Re())}function _f(i,s){return 4&i.type?new Vb(s,i,Nu(i,s)):null}let Sd=(()=>{class i{}return i.__NG_ELEMENT_ID__=Ub,i})();function Ub(){return zl(mn(),Re())}const _w=Sd,vw=class extends _w{constructor(s,a,l){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=l}get element(){return Nu(this._hostTNode,this._hostLView)}get injector(){return new ki(this._hostTNode,this._hostLView)}get parentInjector(){const s=Yr(this._hostTNode,this._hostLView);if(Dc(s)){const a=Pi(s,this._hostLView),l=pn(s);return new ki(a[1].data[l+8],a)}return new ki(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=m_(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,a,l){const c=s.createEmbeddedView(a||{});return this.insert(c,l),c}createComponent(s,a,l,c,f){const y=s&&!function Lo(i){return"function"==typeof i}(s);let v;if(y)v=a;else{const k=a||{};v=k.index,l=k.injector,c=k.projectableNodes,f=k.ngModuleRef}const I=y?s:new hf(at(s)),T=l||this.parentInjector;if(!f&&null==I.ngModule){const j=(y?T:this.parentInjector).get(Oa,null);j&&(f=j)}const S=I.create(T,c,void 0,f);return this.insert(S.hostView,v),S}insert(s,a){const l=s._lView,c=l[1];if(function $u(i){return si(i[3])}(l)){const S=this.indexOf(s);if(-1!==S)this.detach(S);else{const k=l[3],j=new vw(k,k[6],k[3]);j.detach(j.indexOf(s))}}const f=this._adjustIndex(a),y=this._lContainer;!function Gc(i,s,a,l){const c=10+l,f=a.length;l>0&&(a[c-1][4]=s),l<f-10?(s[4]=a[c],Xa(a,10+l,s)):(a.push(s),s[4]=null),s[3]=a;const y=s[17];null!==y&&a!==y&&function uD(i,s){const a=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===a?i[9]=[s]:a.push(s)}(y,s);const v=s[19];null!==v&&v.insertView(i),s[2]|=128}(c,l,y,f);const v=Dp(f,y),I=l[11],T=wp(I,y[7]);return null!==T&&function Hv(i,s,a,l,c,f){l[0]=c,l[6]=s,ve(i,l,a,1,c,f)}(c,y[6],I,l,T,v),s.attachToViewContainerRef(),Xa(y_(y),f,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=m_(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),l=vp(this._lContainer,a);l&&(Vo(y_(this._lContainer),a),zv(l[1],l))}detach(s){const a=this._adjustIndex(s,-1),l=vp(this._lContainer,a);return l&&null!=Vo(y_(this._lContainer),a)?new Na(l):null}_adjustIndex(s,a=0){return null==s?this.length+a:s}};function m_(i){return i[8]}function y_(i){return i[8]||(i[8]=[])}function zl(i,s){let a;const l=s[i.index];if(si(l))a=l;else{let c;if(8&i.type)c=ln(l);else{const f=s[11];c=f.createComment("");const y=ir(i,s);fu(f,wp(f,y),c,function cD(i,s){return fn(i)?i.nextSibling(s):s.nextSibling}(f,y),!1)}s[i.index]=a=Jm(l,s,c,i),xh(s,a)}return new vw(a,i,s)}class Tg{constructor(s){this.queryList=s,this.matches=null}clone(){return new Tg(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ag{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const l=null!==s.contentQueries?s.contentQueries[0]:a.length,c=[];for(let f=0;f<l;f++){const y=a.getByIndex(f);c.push(this.queries[y.indexInDeclarationView].clone())}return new Ag(c)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==D_(s,a).matches&&this.queries[a].setDirty()}}class E_{constructor(s,a,l=null){this.predicate=s,this.flags=a,this.read=l}}class w_{constructor(s=[]){this.queries=s}elementStart(s,a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let l=0;l<this.length;l++){const c=null!==a?a.length:0,f=this.getByIndex(l).embeddedTView(s,c);f&&(f.indexInDeclarationView=l,null!==a?a.push(f):a=[f])}return null!==a?new w_(a):null}template(s,a){for(let l=0;l<this.queries.length;l++)this.queries[l].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class vf{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new vf(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let l=s.parent;for(;null!==l&&8&l.type&&l.index!==a;)l=l.parent;return a===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const l=this.metadata.predicate;if(Array.isArray(l))for(let c=0;c<l.length;c++){const f=l[c];this.matchTNodeWithReadOption(s,a,Bb(a,f)),this.matchTNodeWithReadOption(s,a,Qa(a,s,f,!1,!1))}else l===Gl?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,Qa(a,s,l,!1,!1))}matchTNodeWithReadOption(s,a,l){if(null!==l){const c=this.metadata.read;if(null!==c)if(c===Td||c===Sd||c===Gl&&4&a.type)this.addMatch(a.index,-2);else{const f=Qa(a,s,c,!1,!1);null!==f&&this.addMatch(a.index,f)}else this.addMatch(a.index,l)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function Bb(i,s){const a=i.localNames;if(null!==a)for(let l=0;l<a.length;l+=2)if(a[l]===s)return a[l+1];return null}function jb(i,s,a,l){return-1===a?function I_(i,s){return 11&i.type?Nu(i,s):4&i.type?_f(i,s):null}(s,i):-2===a?function $b(i,s,a){return a===Td?Nu(s,i):a===Gl?_f(s,i):a===Sd?zl(s,i):void 0}(i,s,l):yi(i,i[1],a,s)}function Sg(i,s,a,l){const c=s[19].queries[l];if(null===c.matches){const f=i.data,y=a.matches,v=[];for(let I=0;I<y.length;I+=2){const T=y[I];v.push(T<0?null:jb(s,f[T],y[I+1],a.metadata.read))}c.matches=v}return c.matches}function _r(i,s,a,l){const c=i.queries.getByIndex(a),f=c.matches;if(null!==f){const y=Sg(i,s,c,a);for(let v=0;v<f.length;v+=2){const I=f[v];if(I>0)l.push(y[v/2]);else{const T=f[v+1],S=s[-I];for(let k=10;k<S.length;k++){const j=S[k];j[17]===j[3]&&_r(j[1],j,T,l)}if(null!==S[9]){const k=S[9];for(let j=0;j<k.length;j++){const J=k[j];_r(J[1],J,T,l)}}}}}return l}function Ew(i){const s=Re(),a=jt(),l=mc();yc(l+1);const c=D_(a,l);if(i.dirty&&Do(s)===(2==(2&c.metadata.flags))){if(null===c.matches)i.reset([]);else{const f=c.crossesNgTemplate?_r(a,s,l,[]):Sg(a,s,c,l);i.reset(f,Mb),i.notifyOnChanges()}return!0}return!1}function ww(i,s,a,l){const c=jt();if(c.firstCreatePass){const f=mn();(function Mg(i,s,a){null===i.queries&&(i.queries=new w_),i.queries.track(new vf(s,a))})(c,new E_(s,a,l),f.index),function bw(i,s){const a=i.contentQueries||(i.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,s)}(c,i),2==(2&a)&&(c.staticContentQueries=!0)}!function Dw(i,s,a){const l=new g_(4==(4&a));Up(i,s,l,l.destroy),null===s[19]&&(s[19]=new Ag),s[19].queries.push(new Tg(l))}(c,Re(),a)}function Iw(){return function Gb(i,s){return i[19].queries[s].queryList}(Re(),mc())}function D_(i,s){return i.queries.getByIndex(s)}function xg(i,s){return _f(i,s)}function Pd(...i){}const Vg=new On("Application Initializer");let Ug=(()=>{class i{constructor(a){this.appInits=a,this.resolve=Pd,this.reject=Pd,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,c)=>{this.resolve=l,this.reject=c})}runInitializers(){if(this.initialized)return;const a=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const f=this.appInits[c]();if(Qe(f))a.push(f);else if(jh(f)){const y=new Promise((v,I)=>{f.subscribe({complete:v,error:I})});a.push(y)}}Promise.all(a).then(()=>{l()}).catch(c=>{this.reject(c)}),0===a.length&&l(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)(ze(Vg,8))},i.\u0275prov=Xt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Bg=new On("AppId",{providedIn:"root",factory:function jg(){return`${Lu()}${Lu()}${Lu()}`}});function Lu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const ka=new On("Platform Initializer"),P_=new On("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Wl=new On("appBootstrapListener");let Uw=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Xt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const k_=new On("LocaleId",{providedIn:"root",factory:()=>bt(k_,ht.Optional|ht.SkipSelf)||function kd(){return"undefined"!=typeof $localize&&$localize.locale||yg}()}),Qb=new On("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class F_{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let Jb=(()=>{class i{compileModuleSync(a){return new Cg(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const l=this.compileModuleSync(a),f=ro(kt(a).declarations).reduce((y,v)=>{const I=at(v);return I&&y.push(new hf(I)),y},[]);return new F_(l,f)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Xt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const L_=(()=>Promise.resolve(0))();function V_(i){"undefined"==typeof Zone?L_.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class go{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ps(!1),this.onMicrotaskEmpty=new ps(!1),this.onStable=new ps(!1),this.onError=new ps(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!l&&a,c.shouldCoalesceRunChangeDetection=l,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function Gw(){let i=Bt.requestAnimationFrame,s=Bt.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&s){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function Ww(i){const s=()=>{!function qw(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(Bt,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,U_(i),i.isCheckStableRunning=!0,$g(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),U_(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,l,c,f,y,v)=>{try{return Zw(i),a.invokeTask(c,f,y,v)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||i.shouldCoalesceRunChangeDetection)&&s(),Kw(i)}},onInvoke:(a,l,c,f,y,v,I)=>{try{return Zw(i),a.invoke(c,f,y,v,I)}finally{i.shouldCoalesceRunChangeDetection&&s(),Kw(i)}},onHasTask:(a,l,c,f)=>{a.hasTask(c,f),l===c&&("microTask"==f.change?(i._hasPendingMicrotasks=f.microTask,U_(i),$g(i)):"macroTask"==f.change&&(i.hasPendingMacrotasks=f.macroTask))},onHandleError:(a,l,c,f)=>(a.handleError(c,f),i.runOutsideAngular(()=>i.onError.emit(f)),!1)})}(c)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!go.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(go.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,a,l){return this._inner.run(s,a,l)}runTask(s,a,l,c){const f=this._inner,y=f.scheduleEventTask("NgZoneEvent: "+c,s,zw,Pd,Pd);try{return f.runTask(y,a,l)}finally{f.cancelTask(y)}}runGuarded(s,a,l){return this._inner.runGuarded(s,a,l)}runOutsideAngular(s){return this._outer.run(s)}}const zw={};function $g(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function U_(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function Zw(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function Kw(i){i._nesting--,$g(i)}class eC{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ps,this.onMicrotaskEmpty=new ps,this.onStable=new ps,this.onError=new ps}run(s,a,l){return s.apply(a,l)}runGuarded(s,a,l){return s.apply(a,l)}runOutsideAngular(s){return s()}runTask(s,a,l,c){return s.apply(a,l)}}let Hg=(()=>{class i{constructor(a){this._ngZone=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{go.assertNotInAngularZone(),V_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())V_(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(a)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,l,c){let f=-1;l&&l>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==f),a(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:a,timeoutId:f,updateCb:c})}whenStable(a,l,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,l,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(a,l,c){return[]}}return i.\u0275fac=function(a){return new(a||i)(ze(go))},i.\u0275prov=Xt({token:i,factory:i.\u0275fac}),i})(),B_=(()=>{class i{constructor(){this._applications=new Map,Cf.addToWindow(this)}registerApplication(a,l){this._applications.set(a,l)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,l=!0){return Cf.findTestabilityInTree(this,a,l)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Xt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();class j_{addToWindow(s){}findTestabilityInTree(s,a,l){return null}}function tC(i){Cf=i}let Cf=new j_,Zl=null;const Gg=new On("AllowMultipleToken"),$_=new On("PlatformOnDestroy");class G_{constructor(s,a){this.name=s,this.token=a}}function zg(i,s,a=[]){const l=`Platform: ${s}`,c=new On(l);return(f=[])=>{let y=Tf();if(!y||y.injector.get(Gg,!1)){const v=[...a,...f,{provide:c,useValue:!0}];i?i(v):function iC(i){if(Zl&&!Zl.get(Gg,!1))throw new ke(400,"");Zl=i;const s=i.get(qg),a=i.get(ka,null);a&&a.forEach(l=>l())}(function z_(i=[],s){return uo.create({name:s,providers:[{provide:ao,useValue:"platform"},{provide:$_,useValue:()=>Zl=null},...i]})}(v,l))}return function sC(i){const s=Tf();if(!s)throw new ke(401,"");return s}()}}function Tf(){var i;return null!==(i=null==Zl?void 0:Zl.get(qg))&&void 0!==i?i:null}let qg=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,l){const v=function q_(i,s){let a;return a="noop"===i?new eC:("zone.js"===i?void 0:i)||new go({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),a}(l?l.ngZone:void 0,{ngZoneEventCoalescing:l&&l.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:l&&l.ngZoneRunCoalescing||!1}),I=[{provide:go,useValue:v}];return v.run(()=>{const T=uo.create({providers:I,parent:this.injector,name:a.moduleType.name}),S=a.create(T),k=S.injector.get(fp,null);if(!k)throw new ke(402,"");return v.runOutsideAngular(()=>{const j=v.onError.subscribe({next:J=>{k.handleError(J)}});S.onDestroy(()=>{Z_(this._modules,S),j.unsubscribe()})}),function Fd(i,s,a){try{const l=a();return Qe(l)?l.catch(c=>{throw s.runOutsideAngular(()=>i.handleError(c)),c}):l}catch(l){throw s.runOutsideAngular(()=>i.handleError(l)),l}}(k,v,()=>{const j=S.injector.get(Ug);return j.runInitializers(),j.donePromise.then(()=>(function vg(i){Vt(i,"Expected localeId to be defined"),"string"==typeof i&&(RE=i.toLowerCase().replace(/_/g,"-"))}(S.injector.get(k_,yg)||yg),this._moduleDoBootstrap(S),S))})})}bootstrapModule(a,l=[]){const c=W_({},l);return function H_(i,s,a){const l=new Cg(a);return Promise.resolve(l)}(0,0,a).then(f=>this.bootstrapModuleFactory(f,c))}_moduleDoBootstrap(a){const l=a.injector.get(Af);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(c=>l.bootstrap(c));else{if(!a.instance.ngDoBootstrap)throw new ke(403,"");a.instance.ngDoBootstrap(l)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ke(404,"");this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const a=this._injector.get($_,null);null==a||a(),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(ze(uo))},i.\u0275prov=Xt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();function W_(i,s){return Array.isArray(s)?s.reduce(W_,i):Object.assign(Object.assign({},i),s)}let Af=(()=>{class i{constructor(a,l,c,f){this._zone=a,this._injector=l,this._exceptionHandler=c,this._initStatus=f,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const y=new R.y(I=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{I.next(this._stable),I.complete()})}),v=new R.y(I=>{let T;this._zone.runOutsideAngular(()=>{T=this._zone.onStable.subscribe(()=>{go.assertNotInAngularZone(),V_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,I.next(!0))})})});const S=this._zone.onUnstable.subscribe(()=>{go.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{I.next(!1)}))});return()=>{T.unsubscribe(),S.unsubscribe()}});this.isStable=(0,se.T)(y,v.pipe((0,oe.B)()))}bootstrap(a,l){if(!this._initStatus.done)throw new ke(405,"");let c;c=a instanceof af?a:this._injector.get(cf).resolveComponentFactory(a),this.componentTypes.push(c.componentType);const f=function rC(i){return i.isBoundToModule}(c)?void 0:this._injector.get(Oa),v=c.create(uo.NULL,[],l||c.selector,f),I=v.location.nativeElement,T=v.injector.get(Hg,null),S=T&&v.injector.get(B_);return T&&S&&S.registerApplication(I,T),v.onDestroy(()=>{this.detachView(v.hostView),Z_(this.components,v),S&&S.unregisterApplication(I)}),this._loadComponent(v),v}tick(){if(this._runningTick)throw new ke(101,"");try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const l=a;this._views.push(l),l.attachToAppRef(this)}detachView(a){const l=a;Z_(this._views,l),l.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(Wl,[]).concat(this._bootstrapListeners).forEach(c=>c(a))}ngOnDestroy(){this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(a){return new(a||i)(ze(go),ze(uo),ze(fp),ze(Ug))},i.\u0275prov=Xt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Z_(i,s){const a=i.indexOf(s);a>-1&&i.splice(a,1)}let Zg=!0,Yw=!1;function K_(){return Yw=!0,Zg}function oC(){if(Yw)throw new Error("Cannot enable prod mode after platform setup.");Zg=!1}let Y_=(()=>{class i{}return i.__NG_ELEMENT_ID__=aC,i})();function aC(i){return function Q_(i,s,a){if(Ua(i)&&!a){const l=sr(i.index,s);return new Na(l,l)}return 47&i.type?new Na(s[16],s):null}(mn(),Re(),16==(16&i))}class nI{constructor(){}supports(s){return rd(s)}create(s){return new nv(s)}}const rI=(i,s)=>s;class nv{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||rI}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,l=this._removalsHead,c=0,f=null;for(;a||l;){const y=!l||a&&a.currentIndex<em(l,c,f)?a:l,v=em(y,c,f),I=y.currentIndex;if(y===l)c--,l=l._nextRemoved;else if(a=a._next,null==y.previousIndex)c++;else{f||(f=[]);const T=v-c,S=I-c;if(T!=S){for(let j=0;j<T;j++){const J=j<f.length?f[j]:f[j]=0,we=J+j;S<=we&&we<T&&(f[j]=J+1)}f[y.previousIndex]=S-T}}v!==I&&s(y,v,I)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!rd(s))throw new ke(900,"");return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let c,f,y,a=this._itHead,l=!1;if(Array.isArray(s)){this.length=s.length;for(let v=0;v<this.length;v++)f=s[v],y=this._trackByFn(v,f),null!==a&&Object.is(a.trackById,y)?(l&&(a=this._verifyReinsertion(a,f,y,v)),Object.is(a.item,f)||this._addIdentityChange(a,f)):(a=this._mismatch(a,f,y,v),l=!0),a=a._next}else c=0,function Xp(i,s){if(Array.isArray(i))for(let a=0;a<i.length;a++)s(i[a]);else{const a=i[Iu()]();let l;for(;!(l=a.next()).done;)s(l.value)}}(s,v=>{y=this._trackByFn(c,v),null!==a&&Object.is(a.trackById,y)?(l&&(a=this._verifyReinsertion(a,v,y,c)),Object.is(a.item,v)||this._addIdentityChange(a,v)):(a=this._mismatch(a,v,y,c),l=!0),a=a._next,c++}),this.length=c;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,l,c){let f;return null===s?f=this._itTail:(f=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,f,c)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(l,c))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,f,c)):s=this._addAfter(new iI(a,l),f,c),s}_verifyReinsertion(s,a,l,c){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==f?s=this._reinsertAfter(f,s._prev,c):s.currentIndex!=c&&(s.currentIndex=c,this._addToMoves(s,c)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const c=s._prevRemoved,f=s._nextRemoved;return null===c?this._removalsHead=f:c._nextRemoved=f,null===f?this._removalsTail=c:f._prevRemoved=c,this._insertAfter(s,a,l),this._addToMoves(s,l),s}_moveAfter(s,a,l){return this._unlink(s),this._insertAfter(s,a,l),this._addToMoves(s,l),s}_addAfter(s,a,l){return this._insertAfter(s,a,l),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,l){const c=null===a?this._itHead:a._next;return s._next=c,s._prev=a,null===c?this._itTail=s:c._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new Xg),this._linkedRecords.put(s),s.currentIndex=l,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,l=s._next;return null===a?this._itHead=l:a._next=l,null===l?this._itTail=a:l._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Xg),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class iI{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class rv{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===a||a<=l.currentIndex)&&Object.is(l.trackById,s))return l;return null}remove(s){const a=s._prevDup,l=s._nextDup;return null===a?this._head=l:a._nextDup=l,null===l?this._tail=a:l._prevDup=a,null===this._head}}class Xg{constructor(){this.map=new Map}put(s){const a=s.trackById;let l=this.map.get(a);l||(l=new rv,this.map.set(a,l)),l.add(s)}get(s,a){const c=this.map.get(s);return c?c.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function em(i,s,a){const l=i.previousIndex;if(null===l)return l;let c=0;return a&&l<a.length&&(c=a[l]),l+s+c}class xf{constructor(){}supports(s){return s instanceof Map||vy(s)}create(){return new iv}}class iv{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||vy(s)))throw new ke(900,"")}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(l,c)=>{if(a&&a.key===c)this._maybeAddToChanges(a,l),this._appendAfter=a,a=a._next;else{const f=this._getOrCreateRecordForKey(c,l);a=this._insertBeforeOrAppend(a,f)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let l=a;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const l=s._prev;return a._next=s,a._prev=l,s._prev=a,l&&(l._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const c=this._records.get(s);this._maybeAddToChanges(c,a);const f=c._prev,y=c._next;return f&&(f._next=y),y&&(y._prev=f),c._next=null,c._prev=null,c}const l=new sI(s);return this._records.set(s,l),l.currentValue=a,this._addToAdditions(l),l}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(l=>a(s[l],l))}}class sI{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function tm(){return new nm([new nI])}let nm=(()=>{class i{constructor(a){this.factories=a}static create(a,l){if(null!=l){const c=l.factories.slice();a=a.concat(c)}return new i(a)}static extend(a){return{provide:i,useFactory:l=>i.create(a,l||tm()),deps:[[i,new Qr,new Ur]]}}find(a){const l=this.factories.find(c=>c.supports(a));if(null!=l)return l;throw new ke(901,"")}}return i.\u0275prov=Xt({token:i,providedIn:"root",factory:tm}),i})();function Kl(){return new Rf([new xf])}let Rf=(()=>{class i{constructor(a){this.factories=a}static create(a,l){if(l){const c=l.factories.slice();a=a.concat(c)}return new i(a)}static extend(a){return{provide:i,useFactory:l=>i.create(a,l||Kl()),deps:[[i,new Qr,new Ur]]}}find(a){const l=this.factories.find(f=>f.supports(a));if(l)return l;throw new ke(901,"")}}return i.\u0275prov=Xt({token:i,providedIn:"root",factory:Kl}),i})();const gC=zg(null,"core",[]);let aI=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(ze(Af))},i.\u0275mod=ue({type:i}),i.\u0275inj=Zt({}),i})()},3942:(nt,be,O)=>{O.d(be,{Z:()=>ke});var h=O(2090),L=O(4859),R=O(9681),se=O(1877);class oe{constructor(pe,Ce){this._delegate=pe,this.firebase=Ce,(0,R._addComponent)(pe,new L.wA("app-compat",()=>this,"PUBLIC")),this.container=pe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(pe){this._delegate.automaticDataCollectionEnabled=pe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(pe=>{this._delegate.checkDestroyed(),pe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,R.deleteApp)(this._delegate)))}_getService(pe,Ce=R._DEFAULT_ENTRY_NAME){var qe;this._delegate.checkDestroyed();const Ge=this._delegate.container.getProvider(pe);return!Ge.isInitialized()&&"EXPLICIT"===(null===(qe=Ge.getComponent())||void 0===qe?void 0:qe.instantiationMode)&&Ge.initialize(),Ge.getImmediate({identifier:Ce})}_removeServiceInstance(pe,Ce=R._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(pe).clearInstance(Ce)}_addComponent(pe){(0,R._addComponent)(this._delegate,pe)}_addOrOverwriteComponent(pe){(0,R._addOrOverwriteComponent)(this._delegate,pe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const de=new h.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),$=function me(){const je=function ae(je){const pe={},Ce={__esModule:!0,initializeApp:function Se(X,ce={}){const De=R.initializeApp(X,ce);if((0,h.r3)(pe,De.name))return pe[De.name];const Z=new je(De,Ce);return pe[De.name]=Z,Z},app:Ge,registerVersion:R.registerVersion,setLogLevel:R.setLogLevel,onLog:R.onLog,apps:null,SDK_VERSION:R.SDK_VERSION,INTERNAL:{registerComponent:function Ie(X){const ce=X.name,De=ce.replace("-compat","");if(R._registerComponent(X)&&"PUBLIC"===X.type){const Z=(ee=Ge())=>{if("function"!=typeof ee[De])throw de.create("invalid-app-argument",{appName:ce});return ee[De]()};void 0!==X.serviceProps&&(0,h.ZB)(Z,X.serviceProps),Ce[De]=Z,je.prototype[De]=function(...ee){return this._getService.bind(this,ce).apply(this,X.multipleInstances?ee:[])}}return"PUBLIC"===X.type?Ce[De]:null},removeApp:function qe(X){delete pe[X]},useAsService:function Ze(X,ce){return"serverAuth"===ce?null:ce},modularAPIs:R}};function Ge(X){if(!(0,h.r3)(pe,X=X||R._DEFAULT_ENTRY_NAME))throw de.create("no-app",{appName:X});return pe[X]}return Ce.default=Ce,Object.defineProperty(Ce,"apps",{get:function Me(){return Object.keys(pe).map(X=>pe[X])}}),Ge.App=je,Ce}(oe);return je.INTERNAL=Object.assign(Object.assign({},je.INTERNAL),{createFirebaseNamespace:me,extendNamespace:function pe(Ce){(0,h.ZB)(je,Ce)},createSubscribe:h.ne,ErrorFactory:h.LL,deepExtend:h.ZB}),je}(),U=new se.Yd("@firebase/app-compat");if((0,h.jU)()&&void 0!==self.firebase){U.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const je=self.firebase.SDK_VERSION;je&&je.indexOf("LITE")>=0&&U.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ke=$;!function Ae(je){(0,R.registerVersion)("@firebase/app-compat","0.1.25",je)}()},9681:(nt,be,O)=>{O.r(be),O.d(be,{FirebaseError:()=>se.ZR,SDK_VERSION:()=>ni,_DEFAULT_ENTRY_NAME:()=>Vt,_addComponent:()=>cn,_addOrOverwriteComponent:()=>Xt,_apps:()=>on,_clearComponents:()=>Ci,_components:()=>Sn,_getProvider:()=>Zt,_registerComponent:()=>Ut,_removeServiceInstance:()=>vn,deleteApp:()=>ht,getApp:()=>Bn,getApps:()=>Ai,initializeApp:()=>fi,onLog:()=>Kt,registerVersion:()=>gn,setLogLevel:()=>Er});var h=O(5861),L=O(4859),R=O(1877),se=O(2090),oe=O(8766);class ge{constructor(Q){this.container=Q}getPlatformInfoString(){return this.container.getProviders().map(Oe=>{if(function de(B){const Q=B.getComponent();return"VERSION"===(null==Q?void 0:Q.type)}(Oe)){const et=Oe.getImmediate();return`${et.library}/${et.version}`}return null}).filter(Oe=>Oe).join(" ")}}const ae="@firebase/app",$=new R.Yd("@firebase/app"),Vt="[DEFAULT]",Ke={[ae]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},on=new Map,Sn=new Map;function cn(B,Q){try{B.container.addComponent(Q)}catch(Oe){$.debug(`Component ${Q.name} failed to register with FirebaseApp ${B.name}`,Oe)}}function Xt(B,Q){B.container.addOrOverwriteComponent(Q)}function Ut(B){const Q=B.name;if(Sn.has(Q))return $.debug(`There were multiple attempts to register component ${Q}.`),!1;Sn.set(Q,B);for(const Oe of on.values())cn(Oe,B);return!0}function Zt(B,Q){const Oe=B.container.getProvider("heartbeat").getImmediate({optional:!0});return Oe&&Oe.triggerHeartbeat(),B.container.getProvider(Q)}function vn(B,Q,Oe=Vt){Zt(B,Q).clearInstance(Oe)}function Ci(){Sn.clear()}const In=new se.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Ti{constructor(Q,Oe,et){this._isDeleted=!1,this._options=Object.assign({},Q),this._config=Object.assign({},Oe),this._name=Oe.name,this._automaticDataCollectionEnabled=Oe.automaticDataCollectionEnabled,this._container=et,this.container.addComponent(new L.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Q){this.checkDestroyed(),this._automaticDataCollectionEnabled=Q}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Q){this._isDeleted=Q}checkDestroyed(){if(this.isDeleted)throw In.create("app-deleted",{appName:this._name})}}const ni="9.8.1";function fi(B,Q={}){"object"!=typeof Q&&(Q={name:Q});const Oe=Object.assign({name:Vt,automaticDataCollectionEnabled:!1},Q),et=Oe.name;if("string"!=typeof et||!et)throw In.create("bad-app-name",{appName:String(et)});const dt=on.get(et);if(dt){if((0,se.vZ)(B,dt.options)&&(0,se.vZ)(Oe,dt.config))return dt;throw In.create("duplicate-app",{appName:et})}const Mt=new L.H0(et);for(const vt of Sn.values())Mt.addComponent(vt);const nn=new Ti(B,Oe,Mt);return on.set(et,nn),nn}function Bn(B=Vt){const Q=on.get(B);if(!Q)throw In.create("no-app",{appName:B});return Q}function Ai(){return Array.from(on.values())}function ht(B){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,h.Z)(function*(B){const Q=B.name;on.has(Q)&&(on.delete(Q),yield Promise.all(B.container.getProviders().map(Oe=>Oe.delete())),B.isDeleted=!0)})).apply(this,arguments)}function gn(B,Q,Oe){var et;let dt=null!==(et=Ke[B])&&void 0!==et?et:B;Oe&&(dt+=`-${Oe}`);const Mt=dt.match(/\s|\//),nn=Q.match(/\s|\//);if(Mt||nn){const vt=[`Unable to register library "${dt}" with version "${Q}":`];return Mt&&vt.push(`library name "${dt}" contains illegal characters (whitespace or "/")`),Mt&&nn&&vt.push("and"),nn&&vt.push(`version name "${Q}" contains illegal characters (whitespace or "/")`),void $.warn(vt.join(" "))}Ut(new L.wA(`${dt}-version`,()=>({library:dt,version:Q}),"VERSION"))}function Kt(B,Q){if(null!==B&&"function"!=typeof B)throw In.create("invalid-log-argument");(0,R.Am)(B,Q)}function Er(B){(0,R.Ub)(B)}const En="firebase-heartbeat-store";let nr=null;function Es(){return nr||(nr=(0,oe.X3)("firebase-heartbeat-database",1,{upgrade:(B,Q)=>{0===Q&&B.createObjectStore(En)}}).catch(B=>{throw In.create("storage-open",{originalErrorMessage:B.message})})),nr}function lt(){return(lt=(0,h.Z)(function*(B){try{return(yield Es()).transaction(En).objectStore(En).get(ii(B))}catch(Q){throw In.create("storage-get",{originalErrorMessage:Q.message})}})).apply(this,arguments)}function rt(B,Q){return ri.apply(this,arguments)}function ri(){return(ri=(0,h.Z)(function*(B,Q){try{const et=(yield Es()).transaction(En,"readwrite");return yield et.objectStore(En).put(Q,ii(B)),et.done}catch(Oe){throw In.create("storage-set",{originalErrorMessage:Oe.message})}})).apply(this,arguments)}function ii(B){return`${B.name}!${B.options.appId}`}class Mn{constructor(Q){this.container=Q,this._heartbeatsCache=null;const Oe=this.container.getProvider("app").getImmediate();this._storage=new H(Oe),this._heartbeatsCachePromise=this._storage.read().then(et=>(this._heartbeatsCache=et,et))}triggerHeartbeat(){var Q=this;return(0,h.Z)(function*(){const et=Q.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),dt=an();if(null===Q._heartbeatsCache&&(Q._heartbeatsCache=yield Q._heartbeatsCachePromise),Q._heartbeatsCache.lastSentHeartbeatDate!==dt&&!Q._heartbeatsCache.heartbeats.some(Mt=>Mt.date===dt))return Q._heartbeatsCache.heartbeats.push({date:dt,agent:et}),Q._heartbeatsCache.heartbeats=Q._heartbeatsCache.heartbeats.filter(Mt=>{const nn=new Date(Mt.date).valueOf();return Date.now()-nn<=2592e6}),Q._storage.overwrite(Q._heartbeatsCache)})()}getHeartbeatsHeader(){var Q=this;return(0,h.Z)(function*(){if(null===Q._heartbeatsCache&&(yield Q._heartbeatsCachePromise),null===Q._heartbeatsCache||0===Q._heartbeatsCache.heartbeats.length)return"";const Oe=an(),{heartbeatsToSend:et,unsentEntries:dt}=function V(B,Q=1024){const Oe=[];let et=B.slice();for(const dt of B){const Mt=Oe.find(nn=>nn.agent===dt.agent);if(Mt){if(Mt.dates.push(dt.date),z(Oe)>Q){Mt.dates.pop();break}}else if(Oe.push({agent:dt.agent,dates:[dt.date]}),z(Oe)>Q){Oe.pop();break}et=et.slice(1)}return{heartbeatsToSend:Oe,unsentEntries:et}}(Q._heartbeatsCache.heartbeats),Mt=(0,se.L)(JSON.stringify({version:2,heartbeats:et}));return Q._heartbeatsCache.lastSentHeartbeatDate=Oe,dt.length>0?(Q._heartbeatsCache.heartbeats=dt,yield Q._storage.overwrite(Q._heartbeatsCache)):(Q._heartbeatsCache.heartbeats=[],Q._storage.overwrite(Q._heartbeatsCache)),Mt})()}}function an(){return(new Date).toISOString().substring(0,10)}class H{constructor(Q){this.app=Q,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,h.Z)(function*(){return!!(0,se.hl)()&&(0,se.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Q=this;return(0,h.Z)(function*(){return(yield Q._canUseIndexedDBPromise)&&(yield function Gt(B){return lt.apply(this,arguments)}(Q.app))||{heartbeats:[]}})()}overwrite(Q){var Oe=this;return(0,h.Z)(function*(){var et;if(yield Oe._canUseIndexedDBPromise){const Mt=yield Oe.read();return rt(Oe.app,{lastSentHeartbeatDate:null!==(et=Q.lastSentHeartbeatDate)&&void 0!==et?et:Mt.lastSentHeartbeatDate,heartbeats:Q.heartbeats})}})()}add(Q){var Oe=this;return(0,h.Z)(function*(){var et;if(yield Oe._canUseIndexedDBPromise){const Mt=yield Oe.read();return rt(Oe.app,{lastSentHeartbeatDate:null!==(et=Q.lastSentHeartbeatDate)&&void 0!==et?et:Mt.lastSentHeartbeatDate,heartbeats:[...Mt.heartbeats,...Q.heartbeats]})}})()}}function z(B){return(0,se.L)(JSON.stringify({version:2,heartbeats:B})).length}!function Ee(B){Ut(new L.wA("platform-logger",Q=>new ge(Q),"PRIVATE")),Ut(new L.wA("heartbeat",Q=>new Mn(Q),"PRIVATE")),gn(ae,"0.7.24",B),gn(ae,"0.7.24","esm2017"),gn("fire-js","")}("")},4859:(nt,be,O)=>{O.d(be,{H0:()=>ae,wA:()=>R});var h=O(5861),L=O(2090);class R{constructor($,U,re){this.name=$,this.instanceFactory=U,this.type=re,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode($){return this.instantiationMode=$,this}setMultipleInstances($){return this.multipleInstances=$,this}setServiceProps($){return this.serviceProps=$,this}setInstanceCreatedCallback($){return this.onInstanceCreated=$,this}}const se="[DEFAULT]";class oe{constructor($,U){this.name=$,this.container=U,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get($){const U=this.normalizeInstanceIdentifier($);if(!this.instancesDeferred.has(U)){const re=new L.BH;if(this.instancesDeferred.set(U,re),this.isInitialized(U)||this.shouldAutoInitialize())try{const We=this.getOrInitializeService({instanceIdentifier:U});We&&re.resolve(We)}catch(We){}}return this.instancesDeferred.get(U).promise}getImmediate($){var U;const re=this.normalizeInstanceIdentifier(null==$?void 0:$.identifier),We=null!==(U=null==$?void 0:$.optional)&&void 0!==U&&U;if(!this.isInitialized(re)&&!this.shouldAutoInitialize()){if(We)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:re})}catch(Ae){if(We)return null;throw Ae}}getComponent(){return this.component}setComponent($){if($.name!==this.name)throw Error(`Mismatching Component ${$.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=$,this.shouldAutoInitialize()){if(function de(me){return"EAGER"===me.instantiationMode}($))try{this.getOrInitializeService({instanceIdentifier:se})}catch(U){}for(const[U,re]of this.instancesDeferred.entries()){const We=this.normalizeInstanceIdentifier(U);try{const Ae=this.getOrInitializeService({instanceIdentifier:We});re.resolve(Ae)}catch(Ae){}}}}clearInstance($=se){this.instancesDeferred.delete($),this.instancesOptions.delete($),this.instances.delete($)}delete(){var $=this;return(0,h.Z)(function*(){const U=Array.from($.instances.values());yield Promise.all([...U.filter(re=>"INTERNAL"in re).map(re=>re.INTERNAL.delete()),...U.filter(re=>"_delete"in re).map(re=>re._delete())])})()}isComponentSet(){return null!=this.component}isInitialized($=se){return this.instances.has($)}getOptions($=se){return this.instancesOptions.get($)||{}}initialize($={}){const{options:U={}}=$,re=this.normalizeInstanceIdentifier($.instanceIdentifier);if(this.isInitialized(re))throw Error(`${this.name}(${re}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const We=this.getOrInitializeService({instanceIdentifier:re,options:U});for(const[Ae,ke]of this.instancesDeferred.entries())re===this.normalizeInstanceIdentifier(Ae)&&ke.resolve(We);return We}onInit($,U){var re;const We=this.normalizeInstanceIdentifier(U),Ae=null!==(re=this.onInitCallbacks.get(We))&&void 0!==re?re:new Set;Ae.add($),this.onInitCallbacks.set(We,Ae);const ke=this.instances.get(We);return ke&&$(ke,We),()=>{Ae.delete($)}}invokeOnInitCallbacks($,U){const re=this.onInitCallbacks.get(U);if(re)for(const We of re)try{We($,U)}catch(Ae){}}getOrInitializeService({instanceIdentifier:$,options:U={}}){let re=this.instances.get($);if(!re&&this.component&&(re=this.component.instanceFactory(this.container,{instanceIdentifier:(me=$,me===se?void 0:me),options:U}),this.instances.set($,re),this.instancesOptions.set($,U),this.invokeOnInitCallbacks(re,$),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,$,re)}catch(We){}var me;return re||null}normalizeInstanceIdentifier($=se){return this.component?this.component.multipleInstances?$:se:$}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ae{constructor($){this.name=$,this.providers=new Map}addComponent($){const U=this.getProvider($.name);if(U.isComponentSet())throw new Error(`Component ${$.name} has already been registered with ${this.name}`);U.setComponent($)}addOrOverwriteComponent($){this.getProvider($.name).isComponentSet()&&this.providers.delete($.name),this.addComponent($)}getProvider($){if(this.providers.has($))return this.providers.get($);const U=new oe($,this);return this.providers.set($,U),U}getProviders(){return Array.from(this.providers.values())}}},1877:(nt,be,O)=>{O.d(be,{Am:()=>me,Ub:()=>ae,Yd:()=>de,in:()=>L});const h=[];var L=(()=>{return($=L||(L={}))[$.DEBUG=0]="DEBUG",$[$.VERBOSE=1]="VERBOSE",$[$.INFO=2]="INFO",$[$.WARN=3]="WARN",$[$.ERROR=4]="ERROR",$[$.SILENT=5]="SILENT",L;var $})();const R={debug:L.DEBUG,verbose:L.VERBOSE,info:L.INFO,warn:L.WARN,error:L.ERROR,silent:L.SILENT},se=L.INFO,oe={[L.DEBUG]:"log",[L.VERBOSE]:"log",[L.INFO]:"info",[L.WARN]:"warn",[L.ERROR]:"error"},ge=($,U,...re)=>{if(U<$.logLevel)return;const We=(new Date).toISOString(),Ae=oe[U];if(!Ae)throw new Error(`Attempted to log a message with an invalid logType (value: ${U})`);console[Ae](`[${We}]  ${$.name}:`,...re)};class de{constructor(U){this.name=U,this._logLevel=se,this._logHandler=ge,this._userLogHandler=null,h.push(this)}get logLevel(){return this._logLevel}set logLevel(U){if(!(U in L))throw new TypeError(`Invalid value "${U}" assigned to \`logLevel\``);this._logLevel=U}setLogLevel(U){this._logLevel="string"==typeof U?R[U]:U}get logHandler(){return this._logHandler}set logHandler(U){if("function"!=typeof U)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=U}get userLogHandler(){return this._userLogHandler}set userLogHandler(U){this._userLogHandler=U}debug(...U){this._userLogHandler&&this._userLogHandler(this,L.DEBUG,...U),this._logHandler(this,L.DEBUG,...U)}log(...U){this._userLogHandler&&this._userLogHandler(this,L.VERBOSE,...U),this._logHandler(this,L.VERBOSE,...U)}info(...U){this._userLogHandler&&this._userLogHandler(this,L.INFO,...U),this._logHandler(this,L.INFO,...U)}warn(...U){this._userLogHandler&&this._userLogHandler(this,L.WARN,...U),this._logHandler(this,L.WARN,...U)}error(...U){this._userLogHandler&&this._userLogHandler(this,L.ERROR,...U),this._logHandler(this,L.ERROR,...U)}}function ae($){h.forEach(U=>{U.setLogLevel($)})}function me($,U){for(const re of h){let We=null;U&&U.level&&(We=R[U.level]),re.userLogHandler=null===$?null:(Ae,ke,...je)=>{const pe=je.map(Ce=>{if(null==Ce)return null;if("string"==typeof Ce)return Ce;if("number"==typeof Ce||"boolean"==typeof Ce)return Ce.toString();if(Ce instanceof Error)return Ce.message;try{return JSON.stringify(Ce)}catch(qe){return null}}).filter(Ce=>Ce).join(" ");ke>=(null!=We?We:Ae.logLevel)&&$({level:L[ke].toLowerCase(),message:pe,args:je,type:Ae.name})}}}},8766:(nt,be,O)=>{O.d(be,{Lj:()=>Se,X3:()=>Ge});var h=O(5861);let R,se;const de=new WeakMap,ae=new WeakMap,me=new WeakMap,$=new WeakMap,U=new WeakMap;let Ae={get(ce,De,Z){if(ce instanceof IDBTransaction){if("done"===De)return ae.get(ce);if("objectStoreNames"===De)return ce.objectStoreNames||me.get(ce);if("store"===De)return Z.objectStoreNames[1]?void 0:Z.objectStore(Z.objectStoreNames[0])}return Ce(ce[De])},set:(ce,De,Z)=>(ce[De]=Z,!0),has:(ce,De)=>ce instanceof IDBTransaction&&("done"===De||"store"===De)||De in ce};function pe(ce){return"function"==typeof ce?function je(ce){return ce!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ge(){return se||(se=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ce)?function(...De){return ce.apply(qe(this),De),Ce(de.get(this))}:function(...De){return Ce(ce.apply(qe(this),De))}:function(De,...Z){const ee=ce.call(qe(this),De,...Z);return me.set(ee,De.sort?De.sort():[De]),Ce(ee)}}(ce):(ce instanceof IDBTransaction&&function We(ce){if(ae.has(ce))return;const De=new Promise((Z,ee)=>{const ie=()=>{ce.removeEventListener("complete",_e),ce.removeEventListener("error",le),ce.removeEventListener("abort",le)},_e=()=>{Z(),ie()},le=()=>{ee(ce.error||new DOMException("AbortError","AbortError")),ie()};ce.addEventListener("complete",_e),ce.addEventListener("error",le),ce.addEventListener("abort",le)});ae.set(ce,De)}(ce),((ce,De)=>De.some(Z=>ce instanceof Z))(ce,function oe(){return R||(R=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ce,Ae):ce)}function Ce(ce){if(ce instanceof IDBRequest)return function re(ce){const De=new Promise((Z,ee)=>{const ie=()=>{ce.removeEventListener("success",_e),ce.removeEventListener("error",le)},_e=()=>{Z(Ce(ce.result)),ie()},le=()=>{ee(ce.error),ie()};ce.addEventListener("success",_e),ce.addEventListener("error",le)});return De.then(Z=>{Z instanceof IDBCursor&&de.set(Z,ce)}).catch(()=>{}),U.set(De,ce),De}(ce);if($.has(ce))return $.get(ce);const De=pe(ce);return De!==ce&&($.set(ce,De),U.set(De,ce)),De}const qe=ce=>U.get(ce);function Ge(ce,De,{blocked:Z,upgrade:ee,blocking:ie,terminated:_e}={}){const le=indexedDB.open(ce,De),Le=Ce(le);return ee&&le.addEventListener("upgradeneeded",ct=>{ee(Ce(le.result),ct.oldVersion,ct.newVersion,Ce(le.transaction))}),Z&&le.addEventListener("blocked",()=>Z()),Le.then(ct=>{_e&&ct.addEventListener("close",()=>_e()),ie&&ct.addEventListener("versionchange",()=>ie())}).catch(()=>{}),Le}function Se(ce,{blocked:De}={}){const Z=indexedDB.deleteDatabase(ce);return De&&Z.addEventListener("blocked",()=>De()),Ce(Z).then(()=>{})}const Me=["get","getKey","getAll","getAllKeys","count"],Ie=["put","add","delete","clear"],Ze=new Map;function X(ce,De){if(!(ce instanceof IDBDatabase)||De in ce||"string"!=typeof De)return;if(Ze.get(De))return Ze.get(De);const Z=De.replace(/FromIndex$/,""),ee=De!==Z,ie=Ie.includes(Z);if(!(Z in(ee?IDBIndex:IDBObjectStore).prototype)||!ie&&!Me.includes(Z))return;const _e=function(){var le=(0,h.Z)(function*(Le,...ct){const Wt=this.transaction(Le,ie?"readwrite":"readonly");let Vt=Wt.store;return ee&&(Vt=Vt.index(ct.shift())),(yield Promise.all([Vt[Z](...ct),ie&&Wt.done]))[0]});return function(ct){return le.apply(this,arguments)}}();return Ze.set(De,_e),_e}!function ke(ce){Ae=ce(Ae)}(ce=>OM(NM({},ce),{get:(De,Z,ee)=>X(De,Z)||ce.get(De,Z,ee),has:(De,Z)=>!!X(De,Z)||ce.has(De,Z)}))},5861:(nt,be,O)=>{function h(R,se,oe,ge,de,ae,me){try{var $=R[ae](me),U=$.value}catch(re){return void oe(re)}$.done?se(U):Promise.resolve(U).then(ge,de)}function L(R){return function(){var se=this,oe=arguments;return new Promise(function(ge,de){var ae=R.apply(se,oe);function me(U){h(ae,ge,de,me,$,"next",U)}function $(U){h(ae,ge,de,me,$,"throw",U)}me(void 0)})}}O.d(be,{Z:()=>L})}},nt=>{nt(nt.s=6897)}]);